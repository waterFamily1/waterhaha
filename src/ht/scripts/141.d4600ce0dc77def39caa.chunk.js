(window.webpackJsonp=window.webpackJsonp||[]).push([[141],{1005:function(t,e,i){"use strict";var a=i(727);i.n(a).a},1006:function(t,e,i){(e=i(10)(!1)).push([t.i,"\n.material .ivu-tabs-bar {\r\n  margin-bottom: 0;\n}\n.c-btns-right .c-btn-add{\r\n  padding: 3px 15px;\n}\r\n",""]),t.exports=e},1204:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"material c-main-border"},[i("div",{staticClass:"c-left-border-blue"},[i("h3",[t._v("物料详细")]),t._v(" "),i("div",{staticClass:"c-btns-right"},[i("Button",{directives:[{name:"role",rawName:"v-role",value:"material-edit",expression:"'material-edit'"}],attrs:{type:"primary",shape:"circle"},on:{click:t.goToEdit}},[t._v("编辑")]),t._v(" "),i("Button",{staticClass:"c-btn-back",attrs:{type:"primary",shape:"circle"},on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),i("div",{staticClass:"c-top-border-gray c-form-data-show"},[i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[t._v("物料编号：")]),t._v("\n        "+t._s(t.detailInfo.materielNumber)+"\n      ")]),t._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[t._v("物料名称：")]),t._v("\n        "+t._s(t.detailInfo.materielName)+"\n      ")])]),t._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[t._v("物料类别：")]),t._v("\n        "+t._s(t.detailInfo.categoryName)+"\n      ")]),t._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[t._v("ABC分类：")]),t._v("\n        "+t._s(t.detailInfo.abc)+"\n      ")])]),t._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[t._v("计量单位：")]),t._v("\n        "+t._s(t.detailInfo.measurementUnit)+"\n      ")]),t._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[t._v("规格：")]),t._v("\n        "+t._s(t.detailInfo.standard)+"\n      ")])]),t._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[t._v("组织信息：")]),t._v("\n        "+t._s(t.detailInfo.orgName)+"\n      ")]),t._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[t._v("品牌：")]),t._v("\n        "+t._s(t.detailInfo.brand)+"\n      ")])]),t._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[t._v("型号：")]),t._v("\n        "+t._s(t.detailInfo.model)+"\n      ")]),t._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[t._v("备注：")]),t._v("\n        "+t._s(t.detailInfo.remark)+"\n      ")])])]),t._v(" "),i("div",{staticClass:"c-top-border-gray"},[i("Tabs",{attrs:{animated:!1}},[i("TabPane",{staticClass:"padding10",attrs:{label:"库存分布"}},[i("div",{staticClass:"padding10-0"},[i("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"仓库名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchDistribution(e)}},model:{value:t.searchParamsByDistr.warehouseName,callback:function(e){t.$set(t.searchParamsByDistr,"warehouseName",e)},expression:"searchParamsByDistr.warehouseName"}}),t._v(" "),i("Button",{staticClass:"c-btn-add",attrs:{type:"primary"},on:{click:t.searchDistribution}},[t._v("搜索")])],1),t._v(" "),i("Table",{attrs:{columns:t.columnsByDistr,data:t.listDataByDistr,loading:t.loadingByDistr,stripe:""}}),t._v(" "),i("Page",{staticClass:"table-page",attrs:{total:t.totalByDistr,"page-size":t.searchParamsByDistr.pageSize,current:t.searchParamsByDistr.currentPage,"show-total":"","show-elevator":""},on:{"on-change":t.pageChangeByDistr}})],1),t._v(" "),i("TabPane",{staticClass:"padding10",attrs:{label:"存储上下限"}},[i("div",{staticClass:"padding10-0"},[i("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"仓库名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchLimit(e)}},model:{value:t.searchParamsByLimit.warehouseName,callback:function(e){t.$set(t.searchParamsByLimit,"warehouseName",e)},expression:"searchParamsByLimit.warehouseName"}}),t._v(" "),i("Button",{staticClass:"c-btn-add",attrs:{type:"primary"},on:{click:t.searchLimit}},[t._v("搜索")])],1),t._v(" "),i("Table",{attrs:{columns:t.columnsByLimit,data:t.listDataByLimit,loading:t.loadingByLimit,stripe:""}}),t._v(" "),i("Page",{staticClass:"table-page",attrs:{total:t.totalByLimit,"page-size":t.searchParamsByLimit.pageSize,current:t.searchParamsByLimit.currentPage,"show-total":"","show-elevator":""},on:{"on-change":t.pageChangeByLimit}})],1)],1)],1)])};a._withStripped=!0;var r=i(11),n=i(527),o=[],s={data:function(){var t=this;return{detailInfo:{},searchParamsByDistr:{materielNumber:"",warehouseName:"",currentPage:1,pageSize:5},totalByDistr:0,loadingByDistr:!1,columnsByDistr:[{title:"仓库名称",key:"warehouseName"},{title:"库位",key:"locationNo"},{title:"数量",key:"amount"}],listDataByDistr:[],searchParamsByLimit:{materielNumber:"",warehouseName:"",currentPage:1,pageSize:5},totalByLimit:0,loadingByLimit:!1,submitLoading:!1,columnsByLimit:[{title:"仓库名称",key:"warehouseName",render:function(e,i){return i.row.isEdit?e("Select",{props:{placeholder:"请选择",value:i.row.warehouseNo,"label-in-value":!0},on:{"on-change":function(e){i.row.warehouseNo=e.value,i.row.warehouseName=e.label,t.listDataByLimit[i.index]=i.row}}},o.map((function(t,i){return e("Option",{props:{value:t.warehouseNo,label:t.warehouseName}})}))):e("div",i.row.warehouseName)}},{title:"下限",key:"lower",render:function(e,i){return i.row.isEdit?e("div",[e("InputNumber",{props:{min:0,precision:2,value:i.row.lower||0,disabled:!i.row.isEdit},on:{input:function(e){i.row.lower=e,t.listDataByLimit[i.index]=i.row}}})]):e("div",i.row.lower)}},{title:"上限",key:"upper ",render:function(e,i){return i.row.isEdit?e("div",[e("InputNumber",{props:{min:0,precision:2,value:i.row.upper||0,disabled:!i.row.isEdit},on:{input:function(e){i.row.upper=e,t.listDataByLimit[i.index]=i.row}}})]):e("div",i.row.upper)}}],listDataByLimit:[]}},methods:{back:function(){this.$router.back()},goToEdit:function(){this.$router.push({name:"storage-material-edit",params:{id:this.$route.params.id}})},getListByDistr:function(){var t=this;this.loadingByDistr=!0,this.$http.get(n.a.material.getDistribution,this.searchParamsByDistr).then((function(e){t.listDataByDistr=e.items,t.totalByDistr=e.total,t.loadingByDistr=!1}))},getListByLimit:function(){var t=this;this.loadingByLimit=!0,this.$http.get(n.a.material.getMaterielStockLimits,this.searchParamsByLimit).then((function(e){t.listDataByLimit=e.items,t.totalByLimit=e.total,t.loadingByLimit=!1}))},searchDistribution:function(){this.searchParamsByDistr.currentPage=1,this.getListByDistr()},searchLimit:function(){this.searchParamsByLimit.currentPage=1,this.getListByLimit()},pageChangeByDistr:function(t){this.searchParamsByDistr.currentPage=t,this.getListByDistr()},pageChangeByLimit:function(t){this.searchParamsByLimit.currentPage=t,this.getListByLimit()},addRow:function(){this.listDataByLimit.push({materielNumber:this.detailInfo.materielNumber,warehouseName:"",warehouseNo:"",upper:0,lower:0,isEdit:!0})},editRow:function(){var t=this;this.listDataByLimit.forEach((function(e){t.$set(e,"isEdit",!0)}))},submitRow:function(){var t=this,e=this;if(e.listDataByLimit.some((function(t,i){return t.warehouseName?t.lower?t.upper?t.upper<t.lower&&(e.$Notice.warning({title:"第"+(i+1)+"行中输入的上限不应该小于下限"}),!0):(e.$Notice.warning({title:"请输入第"+(i+1)+"行中的上限"}),!0):(e.$Notice.warning({title:"请输入第"+(i+1)+"行中的下限"}),!0):(e.$Notice.warning({title:"请选择第"+(i+1)+"行中的仓库名称"}),!0)})))return!1;this.submitLoading=!0,this.$http.post(n.a.material.bacthAddMaterielStockLimit,{materielStockLimits:this.listDataByLimit}).then((function(e){t.submitLoading=!1,t.$Notice.success({title:"保存成功！"}),t.searchLimit()})).catch((function(){t.submitLoading=!1}))}},created:function(){var t=this,e=this.$route.params.id;r.a.initTableColumnTitle(this.columnsByDistr),r.a.initTableColumnTitle(this.columnsByLimit),this.$http.get(n.a.material.getMaterielDetail+"/"+e).then((function(e){t.detailInfo=e,t.searchParamsByDistr.materielNumber=e.materielNumber,t.searchParamsByLimit.materielNumber=e.materielNumber,t.getListByDistr(),t.getListByLimit()})),this.$http.get(n.a.getWarehouseComboList).then((function(t){o=t}))}},l=(i(1005),i(1)),c=Object(l.a)(s,a,[],!1,null,null,null);c.options.__file="src/views/storage/material/detail.vue";e.default=c.exports},527:function(t,e,i){"use strict";var a=i(22),r={getWarehouseComboList:"/inventory/api/warehouse/comboList",getManaginguser:"/inventory/api/users/managinguser",category:{getTree:"/inventory/api/materiel-category/tree",getInfo:"/inventory/api/materiel-category/materiel",add:"/inventory/api/materiel-category/materiel",edit:"/inventory/api/materiel-category/materiel",del:"/inventory/api/materiel-category/materiel",search:"/inventory/api/materiel-category/list"},inventory:{audit:"/inventory/api/store-adjustment/audited",export:a.a+"/inventory/api/store-adjustment/export",url:"/inventory/api/store-adjustment/adjusment",list:"/inventory/api/store-adjustment/list",detailList:"/inventory/api/store-adjustment/detail/list",itemList:"/inventory/api/store-adjustment/materiel/list",move:"/inventory/api/store-adjustment/move",materielSearch:"/inventory/api/stock/materiel",materielPosition:"/inventory/api/stock/position",materielDepot:"/inventory/api/stock/warehous"},takeStock:{audit:"/inventory/api/materiel-inventory/audited",export:a.a+"/inventory/api/materiel-inventory/export",import:a.a+"/inventory/api/materiel-inventory/import",url:"/inventory/api/materiel-inventory/inventory",detailList:"/inventory/api/materiel-inventory/detail/list",list:"/inventory/api/materiel-inventory/list"},storage:{comboList:"/inventory/api/warehouse/comboList"},material:{getMaterielCategoryTree:"/inventory/api/materiel-category/tree/external",getMateriel:"/inventory/api/materiels",delMateriel:"/inventory/api/materiels",exportMateriel:a.a+"/inventory/api/materiels/excel-export",addMateriel:"/inventory/api/materiel",changeMateriel:"/inventory/api/materiel",getMaterielDetail:"/inventory/api/materiel",getDistribution:"/inventory/api/materielStocks/distribution",getMaterielStockLimits:"/inventory/api/materielStockLimits",bacthAddMaterielStockLimit:"/inventory/api/materielStockLimit/batch-save",updateMaterielStockLimit:"/inventory/api/materielStockLimit",delMaterielStockLimit:"/inventory/api/materielStockLimits",getUnitList:"/inventory/api/materiel/unit",modalMateriel:"/inventory/api/materiel/external",getExcel:a.a+"/inventory/api/excel-temlate-down",importExcel:a.a+"/inventory/api/excel-import",cancelExcelData:"/inventory/api/excel-data-cancel",saveExcelData:"/inventory/api/excel-data-save"},repertory:{getWarehouses:"/inventory/api/warehouses",exportWarehouse:a.a+"/inventory/api/warehouse/excel-export",delWarehouses:"/inventory/api/warehouses",changeWarehouses:"/inventory/api/warehouse",addWarehouse:"/inventory/api/warehouse",getWarehouseDetail:"/inventory/api/warehouse",getWarehouseInfo:"/inventory/api/warehouse/getWarehouseInfo",getPositionOfWarehouse:"/inventory/api/warehousePosition/positionList",bacthAddWarehouseposition:"/inventory/api/warehouseposition/batch-save",updateWarehousePosition:"/inventory/api/warehousePosition",delWarehousePosition:"/inventory/api/warehousePositions",positionByWarehouse:"/inventory/api/warehousePosition/move",checkWarehousenameIsExist:"/inventory/api/warehouse/check-warehousename-isexist",getExcel:a.a+"/inventory/api/warehousePosition/excel-temlate-down",importExcel:a.a+"/inventory/api/warehousePosition/excel-import",cancelExcelData:"/inventory/api/warehousePosition/excel-data-cancel",saveExcelData:"/inventory/api/warehousePosition/excel-data-save"},checkin:{getInbond:"/inventory/api/inbounds",delInbond:"/inventory/api/inbounds",addInbond:"/inventory/api/inbound",getInbondDetail:"/inventory/api/inbound",getInbondRecordList:"/inventory/api/inbound/inboundDetails",getPositionComboxList:"/inventory/api/warehousePosition/positionComboxList",auditeInbound:"/inventory/api/inbound/audite",getMaterielsByWareHouseNo:"/inventory/api/materiel/getMaterielsByWareHouseNo",getMateriels:"/inventory/api/materiel/getMateriels",updateInboundDetail:"/inventory/api/inboundDetail"},checkout:{getApplicantMember:"/uaa/api/users/select",getOutbond:"/inventory/api/outbounds",delOutbond:"/inventory/api/outbounds",addOutbond:"/inventory/api/outbound",getOutbondDetail:"/inventory/api/outbound",getOutbondRecordList:"/inventory/api/outboundDetail",auditeOutbound:"/inventory/api/outbound/audite",updateOutboundDetail:"/inventory/api/outboundDetail",getstock:"/inventory/api/stock/getstock",getMaterielsOutBound:"/inventory/api/materiel/getMaterielsOutBound"},allot:{getTransfer:"/inventory/api/transfer/list",delTransfer:"/inventory/api/transfer/transfer",addTransfer:"/inventory/api/transfer/transfer",getTransferDetail:"/inventory/api/transfer/transfer",getTransferDetailList:"/inventory/api/transfer/detail/list",auditTransfer:"/inventory/api/transfer/audited",updateTransfer:"/inventory/api/transfer/transfer",getMaterielList:"/inventory/api/transfer/materiel/list",getStockPosiComboList:"/inventory/api/stock/position",getWarehousePosition:"/inventory/api/warehousePosition/move"},reporting:{getStockInfo:"/inventory/api/stock/getstock-info",exportStockInfo:a.a+"/inventory/api/stock/getstock-info-excel-export",getStockInoutbound:"/inventory/api/stock/getstock-info-inoutbound",exportStockInoutbound:a.a+"/inventory/api/stock/getstock-info-inoutbound-excel-export",getStockMove:"/inventory/api/stock/get-inventory-mobility-report",exportStockMove:a.a+"/inventory/api/stock/get-inventory-mobility-report-excel-export",getInventoryProfitLossList:"/inventory/api/materiel-inventory/inventory-report",exportInventoryProfitLoss:a.a+"/inventory/api/materiel-inventory/inventory-report-export",getInventoryNumberList:"/inventory/api/materiel-inventory/inventory-report-inventory-number"}};e.a=r},727:function(t,e,i){var a=i(1006);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);(0,i(17).default)("59da45d8",a,!1,{})}}]);