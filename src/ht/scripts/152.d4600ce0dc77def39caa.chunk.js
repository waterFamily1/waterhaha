(window.webpackJsonp=window.webpackJsonp||[]).push([[152],{1278:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home-item"},[e("h3",[t._v("报警 "),t.isEdit?e("a",{staticClass:"home-del-btn",attrs:{href:"javascript:;"},on:{click:t.del}},[t._v("删除")]):t._e()]),t._v(" "),e("div",{staticClass:"home-alarm-table"},[e("Table",{attrs:{columns:t.columns,data:t.dataList,loading:t.loading,size:"small","no-data-text":"无相关报警",stripe:""},on:{"on-row-click":t.linkToAlarm}})],1)])};i._withStripped=!0;var n=e(23),r=e(11),s=e(31),l={props:{isEdit:Boolean,itemData:Object,siteId:{type:[String,Number],default:-1}},name:"daxAlarm",watch:{siteId:function(){this.getData()}},data:function(){var t=this;return{dataList:[],columns:[{title:"名称",key:"alarmName",ellipsis:!0},{title:"位置",key:"siteName",ellipsis:!0},{title:"等级",width:60,key:"alarmLevel",render:function(t,a){return t("span",{class:["alarm-lev-"+a.row.alarmLevel]},a.row.alarmLevel+"级")}},{title:"状态",width:90,render:function(a,e){return a("span",{class:"alarm-status-"+e.row.alarmStatus.toLowerCase()},t.statesText[e.row.alarmStatus])}},{title:"时间",width:110,key:"alarmTriggerTime",render:function(t,a){return r.a.tableDatetime(t,a.row.alarmTriggerTime)}}],loading:!1}},computed:Object(n.b)({statesText:function(t){return t.map.alarm.history.statesText}}),methods:{del:function(){this.$emit("on-delete",this.itemData)},linkToAlarm:function(){this.$router.push({name:"alarm-history"})},getData:function(){var t=this,a=this.siteId;this.$http.get(s.a.daxAlarm,{currentPage:1,pageSize:0,siteId:a}).then((function(a){t.dataList=a.items||[]}))}},mounted:function(){this.getData()},created:function(){r.a.initTableColumnTitle(this.columns)}},o=(e(836),e(1)),c=Object(o.a)(l,i,[],!1,null,null,null);c.options.__file="src/views/home/components/6/alarm.vue";a.default=c.exports},507:function(t,a,e){t.exports=e.p+"images/3a23524e9c2a6dd02c2c02fb7847102e.png"},631:function(t,a,e){var i=e(837);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e(17).default)("2a2b59ba",i,!1,{})},836:function(t,a,e){"use strict";var i=e(631);e.n(i).a},837:function(t,a,e){var i=e(10),n=e(506);(a=i(!1)).i(n),a.push([t.i,"\n.home-alarm-table {\r\n\theight: 160px;\r\n    overflow: auto;\r\n    margin: 0 10px;\n}\r\n",""]),t.exports=a}}]);