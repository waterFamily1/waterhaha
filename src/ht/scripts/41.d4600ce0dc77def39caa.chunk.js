(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{1081:function(e,n,t){"use strict";var i=t(762);t.n(i).a},1082:function(e,n,t){var i=t(10),o=t(24),a=t(1083),s=t(1084),r=t(1085),l=t(1086),c=t(1087),d=t(1088),p=t(1089),v=t(1090),m=t(1091),u=t(1092),w=t(1093),h=t(1094),f=t(1095),g=t(1096),b=t(1097),x=t(1098);n=i(!1);var y=o(a),_=o(s),k=o(r),C=o(l),P=o(c),O=o(d),S=o(p),T=o(v),N=o(m),z=o(u),I=o(w),L=o(h),D=o(f),$=o(g),M=o(b),j=o(x);n.push([e.i,'.overview-container {\n  display: flex;\n  height: 100%;\n  background: #ededed;\n  color: #838a95;\n}\n.overview-container .view-content {\n  position: relative;\n  flex-grow: 1;\n  margin-right: 5px;\n  padding-top: 40px;\n  border-radius: 2px;\n  background-color: #fff;\n}\n.overview-container .view-content-search {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 40px;\n  padding: 5px 10px;\n  z-index: 9;\n  border-bottom: 1px solid #ededed;\n}\n.overview-container .view-content-search button {\n  margin-right: 5px;\n}\n.overview-container .view-content-search .search-label-select {\n  margin-top: 5px;\n  padding: 5px 10px;\n  background: #fff;\n  border: 1px solid #ededed;\n  border-radius: 4px;\n}\n.overview-container .view-content-list {\n  height: 100%;\n}\n.overview-container .view-content-list .view-content-list-item {\n  display: flex;\n  padding: 15px 10px;\n  line-height: 25px;\n  border-bottom: 1px solid #ededed;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-icon {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 50px;\n  height: 50px;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-text {\n  flex-grow: 1;\n  flex-shrink: 1;\n  width: 0;\n  margin: 0 20px;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-text > span {\n  display: block;\n  margin-bottom: 5px;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-text .view-content-title {\n  font-size: 16px;\n  color: #576374;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-text .view-content-desc {\n  font-size: 12px;\n  color: #bfc6d0;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-text .view-content-labels span {\n  position: relative;\n  z-index: 1;\n  float: left;\n  padding: 0 10px;\n  margin: 5px 10px 5px 0;\n  height: 24px;\n  line-height: 24px;\n  list-style: none;\n  color: #8190a5;\n  border-radius: 4px;\n  background-color: #eef1f7;\n  font-size: 10px;\n  cursor: pointer;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns {\n  flex-grow: 0;\n  flex-shrink: 0;\n  align-self: flex-end;\n  width: 340px;\n  text-align: right;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns .view-content-date {\n  display: inline-block;\n  height: 25px;\n  line-height: 25px;\n  margin-bottom: 7px;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns > div span {\n  display: inline-block;\n  height: 30px;\n  margin-left: 10px;\n  line-height: 30px;\n  color: #838a95;\n  font-size: 12px;\n  cursor: pointer;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns > div span em {\n  font-style: normal;\n  font-size: 14px;\n  margin-left: 3px;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns > div span:before {\n  display: inline-block;\n  content: "";\n  width: 24px;\n  height: 24px;\n  margin-right: 3px;\n  vertical-align: top;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns .view-btn-download em {\n  color: #d9a653;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns .view-btn-download:before {\n  background: url('+y+") center no-repeat;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns .view-btn-collect em {\n  color: #72c0a6;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns .view-btn-collect:before {\n  background: url("+_+") center no-repeat;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns .view-btn-recommend em {\n  color: #93ade6;\n}\n.overview-container .view-content-list .view-content-list-item .view-content-btns .view-btn-recommend:before {\n  background: url("+k+") center no-repeat;\n}\n.overview-container .view-side {\n  flex-grow: 0;\n  flex-shrink: 0;\n  width: 350px;\n}\n.overview-container .view-side-box {\n  position: relative;\n  width: 100%;\n  height: 33%;\n  padding-top: 40px;\n  margin-bottom: 5px;\n  border-radius: 2px;\n  background-color: #fff;\n}\n.overview-container .view-side-box:last-child {\n  margin-bottom: 0;\n}\n.overview-container .view-side-box h3 {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  padding-left: 10px;\n  height: 40px;\n  line-height: 40px;\n  border-bottom: 1px solid #ededed;\n  color: #333;\n}\n.overview-container .view-side-box > div {\n  display: flex;\n  flex-wrap: wrap;\n  padding: 0 10px 10px 10px;\n  height: 100%;\n}\n.overview-container .view-side-box .view-side-num {\n  display: inline-block;\n  width: 49%;\n  height: 40px;\n  line-height: 40px;\n}\n.overview-container .view-side-box .view-side-num label {\n  font-size: 12px;\n  color: #838A95;\n}\n.overview-container .view-side-box .view-side-num em {\n  font-style: normal;\n  font-size: 16px;\n  font-weight: 700;\n  color: #4b7efe;\n}\n.overview-container .view-side-box .view-side-num-red em {\n  color: #00ae27;\n}\n.overview-container .view-side-box .view-side-sta {\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n.overview-container .view-side-box .view-side-sta li {\n  width: 50%;\n  margin-bottom: 10px;\n  list-style: none;\n}\n.overview-container .view-side-box .view-side-sta li label {\n  display: block;\n  height: 20px;\n  line-height: 20px;\n  font-size: 12px;\n}\n.overview-container .view-side-box .view-side-sta li em {\n  display: block;\n  height: 30px;\n  line-height: 30px;\n  font-style: normal;\n  font-size: 14px;\n  color: #787878;\n  font-weight: 700;\n}\n.overview-container .view-side-box .view-side-mine {\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  align-items: center;\n}\n.overview-container .view-side-box .view-side-mine li {\n  width: 50%;\n  margin-bottom: 5px;\n  margin-top: 5px;\n  text-align: center;\n  list-style: none;\n  cursor: pointer;\n}\n.overview-container .view-side-box .view-side-mine li span {\n  display: inline-block;\n  text-align: left;\n}\n.overview-container .view-side-box .view-side-mine li label {\n  display: block;\n  height: 20px;\n  line-height: 20px;\n  font-size: 12px;\n  cursor: pointer;\n}\n.overview-container .view-side-box .view-side-mine li em {\n  height: 30px;\n  line-height: 30px;\n  font-style: normal;\n  font-size: 16px;\n  font-weight: 700;\n  color: #4b7efe;\n}\n.overview-container .view-side-box .view-side-mine li i {\n  display: inline-block;\n  width: 50px;\n  height: 50px;\n  margin-right: 10px;\n  font-size: 50px;\n  vertical-align: bottom;\n  background-size: 100% 100%;\n}\n.overview-container .view-side-box .view-side-mine li .icon_upload {\n  background: url("+C+") center no-repeat;\n}\n.overview-container .view-side-box .view-side-mine li .icon_down {\n  background: url("+P+") center no-repeat;\n}\n.overview-container .view-side-box .view-side-mine li .icon_mark {\n  background: url("+O+") center no-repeat;\n}\n.overview-container .view-side-box .view-side-mine li .icon-appreciate {\n  background: url("+S+') center no-repeat;\n}\n.overview-container .view-side-box .view-side-mine .red-badge {\n  vertical-align: bottom;\n}\n.overview-container .view-side-box .view-side-mine .red-badge sup {\n  right: 20px;\n}\n.overview-container .view-side-box .view-side-new {\n  position: relative;\n  height: 100%;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n.overview-container .view-side-box .view-side-new ul {\n  position: relative;\n  width: 100%;\n  height: 0;\n  line-height: 30px;\n  list-style: none;\n}\n.overview-container .view-side-box .view-side-new ul li {\n  display: flex;\n  height: 30px;\n  font-size: 12px;\n  border-bottom: 1px dotted #e6e6e6;\n}\n.overview-container .view-side-box .view-side-new ul li:before {\n  content: "";\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  margin-right: 5px;\n  border-radius: 50%;\n  background-color: #4b7efe;\n  transform: translateY(12px);\n}\n.overview-container .view-side-box .view-side-new ul li:nth-child(2n)::before {\n  background-color: #a5bcf8;\n}\n.overview-container .view-side-box .view-side-new ul span {\n  display: inline-block;\n}\n.overview-container .view-side-box .view-side-new ul .view-side-new-title {\n  width: 180px;\n  cursor: pointer;\n}\n.overview-container .view-side-box .view-side-new ul .view-side-new-name {\n  width: 70px;\n  margin: 0 5px;\n}\n.overview-container .view-side-box .view-side-new ul .view-side-new-date {\n  width: 70px;\n}\n.overview-container ::-webkit-scrollbar {\n  width: 5px;\n  background-color: #ddd;\n}\n.overview-container ::-webkit-scrollbar-thumb {\n  background: #bbb;\n  border-radius: 4px;\n}\n.labelSelectModal h3 {\n  font-size: 15px;\n  color: #576374;\n}\n.labelSelectModal h6 {\n  padding-bottom: 10px;\n  margin: 5px 0 10px;\n  border-bottom: 1px solid #ededed;\n  color: #838a95;\n}\n.labelSelectModal .ivu-modal-content {\n  border-radius: 8px;\n}\n.labelSelectModal .ivu-modal-footer {\n  padding: 0;\n}\n.icon-file {\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 100% 100%;\n}\n.icon-file-excel {\n  background-image: url('+T+");\n}\n.icon-file-pdf {\n  background-image: url("+N+");\n}\n.icon-file-pic {\n  background-image: url("+z+");\n}\n.icon-file-ppt {\n  background-image: url("+I+");\n}\n.icon-file-text {\n  background-image: url("+L+");\n}\n.icon-file-word {\n  background-image: url("+D+");\n}\n.icon-file-video {\n  background-image: url("+$+");\n}\n.icon-file-zip {\n  background-image: url("+M+");\n}\n.icon-file-unknow {\n  background-image: url("+j+");\n}\n",""]),e.exports=n},1083:function(e,n,t){e.exports=t.p+"images/462eeee0552def0e46128e9f00b03906.png"},1084:function(e,n,t){e.exports=t.p+"images/683994def5b82b004fa78786dc39527c.png"},1085:function(e,n,t){e.exports=t.p+"images/c9b3f6815e52ff7cfb3acc8e9c0f1f7b.png"},1086:function(e,n,t){e.exports=t.p+"images/bf24dd46f08011d75a0e8e88d79fdcc3.png"},1087:function(e,n,t){e.exports=t.p+"images/598daed251432b66e9888c95e443d72e.png"},1088:function(e,n,t){e.exports=t.p+"images/fd79bde892e3e4f5494790ebd6f5f321.png"},1089:function(e,n,t){e.exports=t.p+"images/15f0297b1908aaf8d51e7d578ec90a4c.png"},1090:function(e,n,t){e.exports=t.p+"images/dd3a2395521deabd0b278067e0982181.png"},1091:function(e,n,t){e.exports=t.p+"images/eb0e458f0aa4220fbfb2aad4c451488a.png"},1092:function(e,n,t){e.exports=t.p+"images/67e724e9d0b226cb96e120262a4648ea.png"},1093:function(e,n,t){e.exports=t.p+"images/e57ddcb462c572746e3b884c2c7c0423.png"},1094:function(e,n,t){e.exports=t.p+"images/eb0a8fcc91d1ee3f85ac39c365337c6a.png"},1095:function(e,n,t){e.exports=t.p+"images/376495049694d260e4ba99dc64befb13.png"},1096:function(e,n,t){e.exports=t.p+"images/de0ed6137a733b0865b3c2827ca9563f.png"},1097:function(e,n,t){e.exports=t.p+"images/2dae9eb67532aeaa42a948fa69abb298.png"},1098:function(e,n,t){e.exports=t.p+"images/73a46dffbe756a7cccb1f35c11023bd2.png"},1258:function(e,n,t){"use strict";t.r(n);var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"c-main-border overview-container"},[t("div",{staticClass:"view-content"},[t("div",{staticClass:"view-content-search"},[t("Button",{attrs:{type:"recommend"===e.typeActive?"primary":"default"},on:{click:function(n){return e.btnClick("recommend")}}},[e._v("推荐")]),e._v(" "),t("Button",{attrs:{type:"hot"===e.typeActive?"primary":"default"},on:{click:function(n){return e.btnClick("hot")}}},[e._v("最热")]),e._v(" "),t("Button",{attrs:{type:"all"===e.typeActive?"primary":"default"},on:{click:function(n){return e.btnClick("all")}}},[e._v("全部")]),e._v(" "),t("div",{staticClass:"fr"},[t("Input",{staticStyle:{width:"200px"},attrs:{icon:"ios-search",placeholder:"文档名称或文档标签"},on:{"on-click":e.search},nativeOn:{keyup:function(n){return!n.type.indexOf("key")&&e._k(n.keyCode,"enter",13,n.key,"Enter")?null:e.search(n)}},model:{value:e.searchParams.queryName,callback:function(n){e.$set(e.searchParams,"queryName",n)},expression:"searchParams.queryName"}})],1),e._v(" "),t("collapse-transition",[t("div",{directives:[{name:"show",rawName:"v-show",value:e.filterShow,expression:"filterShow"}],staticClass:"search-label-select"},[t("label-select",{attrs:{limit:!1},on:{"on-complete":e.searchLabelComplete}})],1)])],1),e._v(" "),t("div",{staticClass:"view-content-list"},[e.spinShow?t("Spin",{attrs:{size:"large",fix:""}}):e._e(),e._v(" "),t("Scroll",{attrs:{"on-reach-bottom":e.handleReachBottom,height:e.height,"distance-to-edge":-30}},[e._l(e.list,(function(n,i){return t("div",{key:i,staticClass:"view-content-list-item"},[t("div",{staticClass:"view-content-icon"},[t("span",{staticClass:"icon-file",class:[n.iconType?"icon-file-"+n.iconType:""]})]),e._v(" "),t("div",{staticClass:"view-content-text"},[t("span",{staticClass:"view-content-title ell",attrs:{title:n.name+"."+n.type}},[e._v(e._s(n.name+"."+n.type))]),e._v(" "),t("span",{staticClass:"view-content-desc ell",attrs:{title:n.summary}},[e._v(e._s(n.summary))]),e._v(" "),t("div",{staticClass:"view-content-labels clearfix"},e._l(n.labelName.split(","),(function(n){return t("span",[e._v(e._s(n))])})),0)]),e._v(" "),t("div",{staticClass:"view-content-btns"},[t("span",{staticClass:"view-content-date"},[e._v(e._s(n.createUserName)+" / "+e._s(e._f("F")(n.createDate,"yyyy-MM-dd")))]),e._v(" "),t("div",[t("span",{staticClass:"view-btn-download",on:{click:function(t){return e.download(n)}}},[e._v("\n                                下载\n                                "),t("em",[e._v(e._s(n.downloadCount))])]),e._v(" "),t("span",{staticClass:"view-btn-collect",on:{click:function(t){return e.collect(n)}}},[e._v("\n                                "+e._s(n.collect?"取消":"收藏")+"\n                                "),t("em",[e._v(e._s(n.collectionCount))])]),e._v(" "),t("span",{staticClass:"view-btn-recommend",on:{click:function(t){return e.recommend(n)}}},[e._v("\n                                推荐\n                                "),t("em",[e._v(e._s(n.recommendCount))])])])])])})),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.noData,expression:"noData"}],staticStyle:{"text-align":"center","line-height":"30px"}},[e._v("暂无更多数据")])],2)],1)]),e._v(" "),t("div",{staticClass:"view-side"},[t("div",{staticClass:"view-side-box"},[t("h3",[e._v("知识统计")]),e._v(" "),t("div",[t("span",{staticClass:"view-side-num"},[t("label",[e._v("文档总数：")]),e._v(" "),t("em",[e._v(e._s(e.statistics.total))])]),e._v(" "),t("span",{staticClass:"view-side-num view-side-num-red"},[t("label",[e._v("当月新增数：")]),e._v(" "),t("em",[e._v(e._s(e.statistics.monthAddTotal))])]),e._v(" "),t("ul",{staticClass:"view-side-sta clearfix"},[t("li",[t("label",[e._v("上传文档最多用户")]),e._v(" "),t("em",{staticClass:"ell",attrs:{title:e.statistics.uploadMostUserName}},[e._v(e._s(e.statistics.uploadMostUserName))])]),e._v(" "),t("li",[t("label",[e._v("下载次数最多文档")]),e._v(" "),t("em",{staticClass:"ell",attrs:{title:e.statistics.downloadMostDocumentName}},[e._v(e._s(e.statistics.downloadMostDocumentName))])]),e._v(" "),t("li",[t("label",[e._v("收藏次数最多文档")]),e._v(" "),t("em",{staticClass:"ell",attrs:{title:e.statistics.collectionMostDocumentName}},[e._v(e._s(e.statistics.collectionMostDocumentName))])]),e._v(" "),t("li",[t("label",[e._v("推荐次数最多文档")]),e._v(" "),t("em",{staticClass:"ell",attrs:{title:e.statistics.recommendMostDocumentName}},[e._v(e._s(e.statistics.recommendMostDocumentName))])])])])]),e._v(" "),t("div",{staticClass:"view-side-box"},[t("h3",[e._v("我的知识")]),e._v(" "),t("div",[t("ul",{staticClass:"view-side-mine"},[t("li",{on:{click:function(n){return e.mineClick("upload")}}},[t("i",{staticClass:"icon_upload"}),e._v(" "),t("span",[t("em",[e._v(e._s(e.mine.uploadCount))]),e._v(" "),t("label",[e._v("我的上传")])])]),e._v(" "),t("li",{on:{click:function(n){return e.mineClick("download")}}},[t("i",{staticClass:"icon_down"}),e._v(" "),t("span",[t("em",[e._v(e._s(e.mine.downloadCount))]),e._v(" "),t("label",[e._v("我的下载")])])]),e._v(" "),t("li",{on:{click:function(n){return e.mineClick("collection")}}},[t("i",{staticClass:"icon_mark"}),e._v(" "),t("span",[t("em",[e._v(e._s(e.mine.collectionCount))]),e._v(" "),t("label",[e._v("我的收藏")])])]),e._v(" "),t("li",{on:{click:function(n){return e.mineClick("recommend")}}},[t("Badge",{staticClass:"red-badge",attrs:{dot:"",count:+e.mine.recommendMark}},[t("i",{staticClass:"icon-appreciate"})]),e._v(" "),t("span",[t("em",[e._v(e._s(e.mine.recommendCount))]),e._v(" "),t("label",[e._v("推荐我的")])])],1)])])]),e._v(" "),t("div",{staticClass:"view-side-box"},[t("h3",[e._v("最新上传")]),e._v(" "),t("div",{staticClass:"view-side-new",attrs:{id:"view-side-new"}},[t("ul",e._l(e.newList,(function(n,i){return t("li",[t("span",{staticClass:"view-side-new-title ell",attrs:{title:n.name+"."+n.type},on:{click:function(t){return e.download(n)}}},[e._v(e._s(n.name+"."+n.type))]),e._v(" "),t("span",{staticClass:"view-side-new-name ell",attrs:{title:n.createUserName}},[e._v(e._s(n.createUserName))]),e._v(" "),t("span",{staticClass:"view-side-new-date"},[e._v(e._s(e._f("F")(n.createDate,"yyyy-MM-dd")))])])})),0)])])]),e._v(" "),t("Modal",{staticClass:"labelSelectModal",attrs:{closable:!1,"mask-closable":!1,title:""},model:{value:e.firstJoin,callback:function(n){e.firstJoin=n},expression:"firstJoin"}},[t("h3",[e._v("订阅你的兴趣标签，为你筛选个性文档")]),e._v(" "),t("h6",[e._v("请选择3-5个标签")]),e._v(" "),t("labelSelect",{on:{"on-complete":e.labelComplete}}),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"})],1),e._v(" "),t("recommend",{attrs:{item:e.recommendItem},on:{complete:e.recommendComplete},model:{value:e.recommendModel,callback:function(n){e.recommendModel=n},expression:"recommendModel"}})],1)};i._withStripped=!0;t(191);var o=t(107),a=t(145),s=t(519),r=t(606),l=t(605),c=t(554),d=t(11);function p(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){u(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function u(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var w={name:"",components:{CollapseTransition:s.a,dropdownTree:a.a,labelSelect:r.a,recommend:l.a},data:function(){return{orgTreeApi:o.a.getOrgTreeData,firstJoin:!1,height:300,spinShow:!1,typeActive:"recommend",filterShow:!1,searchParams:{queryName:"",labelName:"",currentPage:1,pageSize:10},noData:!1,list:[],newList:[],mine:{},statistics:{},recommendModel:!1,recommendItem:{}}},methods:{btnClick:function(e){this.typeActive=e,this.searchParams.currentPage=1,"all"===e?this.filterShow=!this.filterShow:(this.spinShow=!0,this.filterShow=!1,this.getList(),this.initScroll())},search:function(){this.spinShow=!0,this.typeActive="all",this.searchParams.currentPage=1,this.getList(),this.initScroll()},getList:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return t="all"===this.typeActive?m({type:3},this.searchParams):{type:"recommend"===this.typeActive?1:2,currentPage:this.searchParams.currentPage,pageSize:this.searchParams.pageSize},this.$http.get(c.a.getDocList,t).then((function(t){e.spinShow=!1,t.items.forEach((function(n){return n.iconType=e.checkInType(n.type)})),n.accumulate?e.list=[].concat(p(e.list),p(t.items)):e.list=t.items,e.noData=!t.items.length}))},searchLabelComplete:function(e){this.spinShow=!0,this.searchParams.labelName=e.names,this.filterShow=!1,this.getList(),this.initScroll()},labelComplete:function(e,n){var t=this;if(n<3||n>5)return this.$Notice.warning({title:"请至少选择3个标签",desc:"",duration:2}),!1;this.$http.post(c.a.mylabels,e.names.split(",")).then((function(e){e.count&&(t.$Notice.success({title:"订阅成功",duration:2}),t.btnClick(t.typeActive))})),this.firstJoin=!1},handleReachBottom:function(){return this.searchParams.currentPage++,!(this.noData&&this.searchParams.currentPage>1)&&this.getList({accumulate:!0})},download:function(e){d.a.download(c.a.download,{ids:e.id}),e.downloadCount++},collect:function(e){var n=this,t=e.collect?"取消":"收藏";this.$http.get(c.a.collect,{id:e.id,type:e.collect?2:1}).then((function(i){i.count&&(n.$Notice.success({title:t+"成功",duration:2}),e.collect=!e.collect,e.collect?e.collectionCount++:e.collectionCount--)}))},recommend:function(e){this.recommendModel=!0,this.recommendItem=e},recommendComplete:function(e){e&&this.recommendItem.recommendCount++},checkFirstJoin:function(){var e=this;this.$http.get(c.a.mylabels).then((function(n){e.firstJoin=!n.length,e.firstJoin||e.btnClick(e.typeActive)}))},getNewList:function(){var e=this;this.$http.get(c.a.getDocList,{type:3,currentPage:1,pageSize:10}).then((function(n){e.newList=n.items}))},getMine:function(){var e=this;this.$http.get(c.a.getmine).then((function(n){e.mine=n}))},mineClick:function(e){this.$router.push({name:"knowledge-personal",params:{type:e}})},getStatistics:function(){var e=this;this.$http.get(c.a.statistics).then((function(n){e.statistics=n}))},checkInType:function(e){var n={word:["doc","docx","wps"],excel:["xls","xlsx","et"],ppt:["ppt","pptx","pps","pot"],text:["txt"],pdf:["pdf"],pic:["bmp","gif","jpg","pic","png","tif","jpeg"],video:["avi","wmv","mpeg","mp4","mov","mkv","flv","rmvb","rm"],zip:["zip","rar"]},t="";return Object.keys(n).forEach((function(i){n[i].includes(e)&&(t=i)})),t||"unknow"},initScroll:function(){document.querySelector(".ivu-scroll-container").scrollTop=0}},mounted:function(){var e=document.querySelector(".view-content-list").clientHeight;this.height=e},created:function(){this.checkFirstJoin(),this.getNewList(),this.getMine(),this.getStatistics()}},h=(t(1081),t(1)),f=Object(h.a)(w,i,[],!1,null,null,null);f.options.__file="src/views/knowledge/overview.vue";n.default=f.exports},519:function(e,n,t){"use strict";function i(e,n){if(!e||!n)return!1;if(-1!==n.indexOf(" "))throw new Error("className should not contain space.");return e.classList?e.classList.contains(n):(" "+e.className+" ").indexOf(" "+n+" ")>-1}function o(e,n){if(e){for(var t=e.className,o=(n||"").split(" "),a=0,s=o.length;a<s;a++){var r=o[a];r&&(e.classList?e.classList.add(r):i(e,r)||(t+=" "+r))}e.classList||(e.className=t)}}function a(e,n){if(e&&n){for(var t=n.split(" "),o=" "+e.className+" ",a=0,s=t.length;a<s;a++){var r=t[a];r&&(e.classList?e.classList.remove(r):i(e,r)&&(o=o.replace(" "+r+" "," ")))}e.classList||(e.className=trim(o))}}var s={beforeEnter:function(e){o(e,"collapse-transition"),e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.style.height="0",e.style.paddingTop=0,e.style.paddingBottom=0},enter:function(e){e.dataset.oldOverflow=e.style.overflow,0!==e.scrollHeight?(e.style.height=e.scrollHeight+"px",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom):(e.style.height="",e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom),e.style.overflow="hidden"},afterEnter:function(e){a(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow},beforeLeave:function(e){e.dataset||(e.dataset={}),e.dataset.oldPaddingTop=e.style.paddingTop,e.dataset.oldPaddingBottom=e.style.paddingBottom,e.dataset.oldOverflow=e.style.overflow,e.style.height=e.scrollHeight+"px",e.style.overflow="hidden"},leave:function(e){0!==e.scrollHeight&&(o(e,"collapse-transition"),e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0)},afterLeave:function(e){a(e,"collapse-transition"),e.style.height="",e.style.overflow=e.dataset.oldOverflow,e.style.paddingTop=e.dataset.oldPaddingTop,e.style.paddingBottom=e.dataset.oldPaddingBottom}};n.a={name:"CollapseTransition",functional:!0,render:function(e,n){var t=n.children;return e("transition",{on:s},t)}}},554:function(e,n,t){"use strict";var i={getLabelTree:"/knowledge/api/labels/tree",getLabels:"/knowledge/api/labels",addLabel:"/knowledge/api/labels",updateLabel:"/knowledge/api/labels",delLabel:"/knowledge/api/labels/",getDirTree:"/knowledge/api/directorys/tree",getDirs:"/knowledge/api/directorys",addDir:"/knowledge/api/directorys",updateDir:"/knowledge/api/directorys",delDir:"/knowledge/api/directorys/",getDocs:"/knowledge/api/documents",uploadDoc:"/knowledge/api/documents",updateDoc:"/knowledge/api/documents",delDoc:"/knowledge/api/documents",collect:"/knowledge/api/documents/collect",download:t(22).a+"/knowledge/api/documents/download",move:"/knowledge/api/documents/move",recommend:"/knowledge/api/documents/recommend",myColl:"/knowledge/api/personal/collection",mydownload:"/knowledge/api/personal/download",recommendme:"/knowledge/api/personal/recommend",myupload:"/knowledge/api/personal/upload",mylabels:"/knowledge/api/user-labels",getDocList:"/knowledge/api/home/documents",getmine:"/knowledge/api/home/mine",statistics:"/knowledge/api/home/statistics"};n.a=i},567:function(e,n,t){var i=t(602);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,t(17).default)("36c2fca5",i,!1,{})},601:function(e,n,t){"use strict";var i=t(567);t.n(i).a},602:function(e,n,t){var i=t(10),o=t(24),a=t(603),s=t(604);n=i(!1);var r=o(a),l=o(s);n.push([e.i,'.label-select-box[data-v-3cef2893] {\n  max-height: 500px;\n  overflow-y: auto;\n}\n.label-select-box .class-title[data-v-3cef2893] {\n  position: relative;\n}\n.label-select-box .class-title h4[data-v-3cef2893] {\n  color: #4b7efe;\n  height: 30px;\n  line-height: 30px;\n  font-size: 14px;\n  font-weight: 300;\n}\n.label-select-box .class-title h4[data-v-3cef2893]:before {\n  content: "";\n  display: inline-block;\n  width: 3px;\n  height: 12px;\n  margin-right: 10px;\n  background-color: #4b7efe;\n  transform: translateY(1px);\n}\n.label-select-box .class-title i[data-v-3cef2893] {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  cursor: pointer;\n}\n.label-select-box .arrow[data-v-3cef2893] {\n  float: right;\n  width: 40px;\n  height: 40px;\n  background-size: 100% 100%;\n}\n.label-select-box .arrow-down[data-v-3cef2893] {\n  float: right;\n  width: 40px;\n  height: 40px;\n  background-size: 100% 100%;\n  background: url('+r+") center no-repeat;\n}\n.label-select-box .arrow-up[data-v-3cef2893] {\n  float: right;\n  width: 40px;\n  height: 40px;\n  background-size: 100% 100%;\n  background: url("+l+") center no-repeat;\n}\n.label-select-box li[data-v-3cef2893] {\n  position: relative;\n  z-index: 1;\n  float: left;\n  padding: 0 10px;\n  margin: 5px;\n  height: 26px;\n  line-height: 26px;\n  list-style: none;\n  color: #8190a5;\n  border-radius: 4px;\n  font-size: 10px;\n  background-color: #eef1f7;\n  cursor: pointer;\n}\n.label-select-box li.selected[data-v-3cef2893] {\n  color: #184fd8;\n  background-color: #e8effd;\n}\n.label-select-box .c-modal-footer-btns[data-v-3cef2893] {\n  margin-top: 20px;\n}\n",""]),e.exports=n},603:function(e,n,t){e.exports=t.p+"images/ada376e0fc40016463f7a3707cd5dd19.png"},604:function(e,n,t){e.exports=t.p+"images/c54c76bd66afa4f73253aba8298d97ab.png"},605:function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("Modal",{attrs:{title:"文档推荐","on-visible-change":"onVisibleChange"},model:{value:e.value,callback:function(n){e.value=n},expression:"value"}},[t("div",{staticClass:"recommend-modal"},[t("Form",{ref:"recommendForm",attrs:{model:e.recommendParams,rules:e.recommendRules,"label-width":70}},[t("FormItem",{attrs:{label:"文档名称:"}},[e._v(e._s(e.item.name+"."+e.item.type))]),e._v(" "),t("FormItem",{attrs:{label:"推荐给:",prop:"orgId"}},[t("dropdown-tree",{staticStyle:{width:"200px"},attrs:{url:e.orgTreeApi},on:{"on-change":e.getUnderOrganizationUsers},model:{value:e.recommendOrg,callback:function(n){e.recommendOrg=n},expression:"recommendOrg"}})],1),e._v(" "),t("FormItem",[t("div",[t("Select",{attrs:{multiple:"",placeholder:"请选择角色"},model:{value:e.recommendParams.userId,callback:function(n){e.$set(e.recommendParams,"userId",n)},expression:"recommendParams.userId"}},e._l(e.recommendOperators,(function(n){return t("Option",{key:n.id,attrs:{value:n.id}},[e._v(e._s(n.name))])})),1)],1)]),e._v(" "),t("FormItem",{attrs:{label:"附言:"}},[t("Input",{attrs:{type:"textarea",placeholder:""},model:{value:e.recommendParams.remark,callback:function(n){e.$set(e.recommendParams,"remark",n)},expression:"recommendParams.remark"}})],1)],1)],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"c-modal-footer-btns"},[t("Button",{attrs:{type:"default"},on:{click:e.recommendCancel}},[e._v("取消")]),e._v(" "),t("Button",{attrs:{type:"primary"},on:{click:e.recommendSubmit}},[e._v("确定")])],1)])])],1)};i._withStripped=!0;var o=t(107),a=t(16),s=t(554),r=t(145),l={name:"recommend",props:{value:Boolean,item:Object},components:{dropdownTree:r.a},data:function(){return{orgTreeApi:o.a.getOrgTreeData,recommendParams:{name:"",orgId:"",userId:"",remark:""},recommendRules:{orgId:{required:!0,message:"请选择组织",trigger:"change"}},recommendOrg:{id:"",title:"请选择组织"},recommendOperators:[]}},watch:{value:function(e){e?(this.recommendOrg={id:"",title:"请选择组织"},this.recommendParams.name="",this.recommendParams.userId="",this.recommendParams.remark="",this.$refs.recommendForm.resetFields()):this.recommendCancel()}},methods:{getUnderOrganizationUsers:function(e,n){var t=this;this.recommendParams.orgId=e.id,this.recommendParams.userId="",this.$http.get(a.a.getRecommendUsers,{visibleProcessFill:1===this.item.directoryType,orgIds:e.id,processId:this.item.processId,currentPage:1,pageSize:0}).then((function(e){e?(t.recommendOperators=e.items,n&&n()):t.recommendOperators=[]}))},recommendCancel:function(){this.$emit("input",!1)},recommendSubmit:function(){var e=this;this.$refs.recommendForm.validate((function(n){if(n){var t=e.recommendParams.userId;e.recommendParams.userId||(t=e.recommendOperators.map((function(e){return e.id}))),e.$http.put(s.a.recommend,{documentId:e.item.id,orgId:e.recommendParams.orgId,roleId:t.join(","),postscript:e.recommendParams.remark}).then((function(n){n.count&&(e.$Notice.success({title:"推荐成功",duration:2}),e.$emit("input",!1),e.$emit("complete",!0))}))}}))}}},c=t(1),d=Object(c.a)(l,i,[],!1,null,"1c1b308e",null);d.options.__file="src/views/knowledge/components/recommend.vue";n.a=d.exports},606:function(e,n,t){"use strict";var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"label-select-box"},[e._l(e.labelTree,(function(n,i){return t("div",{key:i},[t("div",{staticClass:"class-title"},[t("h4",[e._v(e._s(n.name))]),e._v(" "),t("i",{class:[n.expand?"arrow-up":"arrow-down"],on:{click:function(t){return e.expand(n)}}})]),e._v(" "),t("ul",{directives:[{name:"show",rawName:"v-show",value:n.expand,expression:"item.expand"}],staticClass:"clearfix"},e._l(n.children,(function(n,i){return t("li",{key:i,class:{selected:n.selected},on:{click:function(t){return e.select(n)}}},[e._v(e._s(n.name))])})),0)])})),e._v(" "),t("div",{staticClass:"c-modal-footer-btns"},[t("Button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("完成")])],1)],2)};i._withStripped=!0;var o=t(519),a=t(554),s=t(11),r={name:"label-select",components:{CollapseTransition:o.a},props:{selects:{type:Array,default:function(e){return[]}},limit:{type:Boolean,default:!0},min:Number},data:function(){return{sourceTree:[],labelTree:[],expandItem:{},selectNames:[]}},methods:{getLabelTree:function(){var e=this;this.$http.get(a.a.getLabelTree).then((function(n){e.sourceTree=n,e.dataHandle()}))},dataHandle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=[],t=e.length?e:this.selects;this.sourceTree.forEach((function(e){1===e.type&&(e.expand=!1),-1!==t.indexOf(e.name)?(e.selected=!0,n.push(e.name)):e.selected=!1})),this.labelTree=s.a.transDataToTree(this.sourceTree),this.selectNames=n,this.expand(this.labelTree[0])},expand:function(e){this.expandItem.expand=e.expand,e.expand=!e.expand,this.expandItem=e,this.labelTree.push()},select:function(e){e.selected=!e.selected,this.labelTree.push(),e.selected?this.selectNames.push(e.name):this.selectNames.splice(this.selectNames.indexOf(e.name),1),this.selectNames.length>5&&this.limit&&(this.$Notice.warning({title:"标签选择不能超过5个"}),e.selected=!1,this.selectNames.pop())},submit:function(){if(this.selectNames.length<this.min)return this.$Notice.warning({title:"标签不能小于"+this.min+"个"}),!1;this.$emit("on-complete",{names:this.selectNames.join()},this.selectNames.length)},resetSelect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.selectNames=e,this.dataHandle(e)}},created:function(){this.getLabelTree()}},l=(t(601),t(1)),c=Object(l.a)(r,i,[],!1,null,"3cef2893",null);c.options.__file="src/views/knowledge/components/label-select.vue";n.a=c.exports},762:function(e,n,t){var i=t(1082);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,t(17).default)("2b78d4fb",i,!1,{})}}]);