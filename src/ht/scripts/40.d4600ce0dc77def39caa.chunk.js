(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{1103:function(t,e,a){"use strict";var i=a(765);a.n(i).a},1104:function(t,e,a){(e=a(10)(!1)).push([t.i,"\n.cmp-date-step-icon {\r\n    display: inline-block;\r\n    vertical-align: bottom;\r\n    /* margin-left: ; */\n}\n.cmp-date-step-icon a {\r\n    display: inline-block;\r\n    margin: 0 5px;\n}\r\n",""]),t.exports=e},1105:function(t,e,a){"use strict";var i=a(766);a.n(i).a},1106:function(t,e,a){(e=a(10)(!1)).push([t.i,"\n.data-quality-curves .curves-chart-container[data-v-1037a096] {\r\n    position: relative;\n}\n.data-quality-curves .curves-chart[data-v-1037a096] {\r\n    width: 1220px;\r\n    height: 540px;\n}\r\n",""]),t.exports=e},1107:function(t,e,a){"use strict";var i=a(767);a.n(i).a},1108:function(t,e,a){var i=a(10),n=a(24),r=a(791);e=i(!1);var s=n(r);e.push([t.i,"\n.data-quality-accuracy-curves {\r\n    position: relative;\n}\n.data-quality-accuracy-curves .tabs-nav {\r\n    display: inline-block;\r\n    max-width: auto;\r\n    height: 28px;\r\n    border: 1px solid #dadada;\r\n    border-radius: 5px;\r\n    color: #666;\r\n    font-size: 0;\r\n    z-index: 1;\r\n    margin-bottom: 20px;\n}\n.data-quality-accuracy-curves .tabs-nav li {\r\n    cursor: pointer;\r\n    display: inline-block;\r\n    width: 60px;\r\n    line-height: 26px;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    list-style: none;\r\n    padding: 0;\r\n    margin: 0;\r\n    border-left: 1px solid #dadada;\n}\n.data-quality-accuracy-curves .tabs-nav li:first-child {\r\n    border-left: none;\n}\n.data-quality-accuracy-curves .tabs-nav li.active {\r\n    background-color: #e6efff;\r\n    color: #5b8aff;\n}\n.data-quality-accuracy-curves .exceptionTip{\r\n    color: #4b7efe;\r\n    margin-left: 5px;\n}\n.data-quality-accuracy-curves .curves-chart-container {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 45%;\r\n    height: 546px;\n}\n.data-quality-accuracy-curves .curves-chart-container .ivu-checkbox-wrapper {\r\n    position: absolute;\r\n    right: 0;\r\n    top: 10px;\r\n    color: #838a95;\n}\n.data-quality-accuracy-curves .curves-chart-container .curves-chart {\r\n    height: 480px;\n}\n.data-quality-accuracy-curves .save-btn {\r\n    padding-left: 20px;\r\n    display: block;\r\n    width: 46px;\r\n    height: 20px;\r\n    line-height: 20px;\r\n    position: absolute;\r\n    right: 5px;\r\n    top: 10px;\r\n    z-index: 1000;\r\n    color: #4b7efe;\r\n    background: url("+s+") no-repeat 0 center;\n}\n.accuracy-table {\r\n    width: 660px;\r\n    height: 522px;\r\n    float: right;\n}\n.accuracy-table .ivu-table-body {\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    height: 500px;\n}\n.accuracy-table .ivu-table-header {\r\n    color: #838a95;\n}\n.accuracy-table th {\r\n    font-weight: normal;\n}\n.accuracy-tooltip-wrap .btn-wrap {\r\n    height: 24px;\r\n    border-top: 1px solid #eee;\r\n    vertical-align: bottom;\r\n    margin-top: 5px;\n}\n.accuracy-tooltip-wrap .btn-wrap a {\r\n    display: inline-block;\r\n    min-height: 30px;\r\n    line-height: 30px;\r\n    width: 50%;\r\n    text-align: center;\r\n    cursor: pointer;\n}\n.data-quality-accuracy .highcharts-tooltip {\r\n    pointer-events: auto !important;\n}\n.data-quality-accuracy-curves .table-page {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: -18px;\n}\r\n",""]),t.exports=e},1109:function(t,e,a){"use strict";var i=a(768);a.n(i).a},1110:function(t,e,a){var i=a(10),n=a(24),r=a(791);e=i(!1);var s=n(r);e.push([t.i,"\n.data-quality-integrity-curves {\r\n    position: relative;\n}\n.data-quality-integrity-curves .curves-chart-container {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 45%;\r\n    height: 560px;\n}\n.data-quality-integrity-curves .prograss-bar-wrap {\r\n    width: 549px;\r\n    height: 80px;\r\n    left: 0px;\r\n    top: 0px;\r\n    background-color: #f8f9fb;\r\n    position: relative;\n}\n.data-quality-integrity-curves .curves-chart-container .curves-chart {\r\n    height: 480px;\n}\n.data-quality-integrity-curves .save-btn {\r\n    padding-left: 20px;\r\n    display: block;\r\n    width: 46px;\r\n    height: 20px;\r\n    line-height: 20px;\r\n    position: absolute;\r\n    right: 5px;\r\n    top: 10px;\r\n    z-index: 1000;\r\n    color: #4b7efe;\r\n    background: url("+s+") no-repeat 0 center;\n}\n.integrity-table {\r\n    width: 660px;\r\n    height: 522px;\r\n    float: right;\n}\n.integrity-table .ivu-table-body {\r\n    overflow-x: hidden;\r\n    overflow-y: auto;\r\n    height: 500px;\n}\n.integrity-table .ivu-table-header {\r\n    color: #838a95;\n}\n.integrity-table th {\r\n    font-weight: normal;\n}\n.data-quality-integrity-curves .table-page {\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0px;\n}\n#integrityBar .highcharts-tooltip {\r\n    pointer-events: auto !important;\n}\r\n",""]),t.exports=e},1111:function(t,e,a){"use strict";var i=a(769);a.n(i).a},1112:function(t,e,a){(e=a(10)(!1)).push([t.i,"\n.data-quality-uniformity-curves {\r\n    position: relative;\n}\n.data-quality-uniformity-curves .curves-chart-container {\r\n    display: inline-block;\r\n    position: relative;\r\n    width: 100%;\r\n    height: 560px;\n}\n.data-quality-uniformity-curves .prograss-bar-wrap {\r\n    width: 1220px;\r\n    height: 80px;\r\n    left: 0px;\r\n    top: 0px;\r\n    background-color: #f8f9fb;\r\n    position: relative;\n}\n.data-quality-uniformity-curves .prograss-bar-wrap .highcharts-container,\r\n.data-quality-uniformity-curves .prograss-bar-wrap svg:not(:root) {\r\n    overflow: visible !important;\n}\n.data-quality-uniformity-curves .curves-chart-container .curves-chart {\r\n    height: 480px;\n}\r\n/* .highcharts-tooltip {\r\n    pointer-events: auto !important;\r\n} */\r\n",""]),t.exports=e},1113:function(t,e,a){"use strict";var i=a(770);a.n(i).a},1114:function(t,e,a){var i=a(10),n=a(24),r=a(1115),s=a(1116),o=a(1117),l=a(1118),c=a(1119);e=i(!1);var u=n(r),d=n(s),h=n(o),p=n(l),m=n(c);e.push([t.i,'.data-quality-curve .ivu-modal-footer,\n.data-quality-accuracy .ivu-modal-footer,\n.data-quality-integrity .ivu-modal-footer,\n.data-quality-uniformity .ivu-modal-footer {\n  display: none;\n  padding: 0;\n}\n.data-quality-statistics .box {\n  width: 20%;\n  color: #576374;\n  background-color: #f1f3f8;\n  display: inline-block;\n  vertical-align: top;\n  position: relative;\n}\n.data-quality-statistics .box .title {\n  height: 80px;\n  width: 40px;\n  word-break: break-all;\n  line-height: 20px;\n  padding-left: 15px;\n  padding-right: 10px;\n  margin-top: 8px;\n  margin-bottom: 8px;\n  font-size: 12px;\n  color: #333E4E;\n  border-right: 1px solid #e4e9f1;\n}\n.data-quality-statistics .box .content {\n  position: absolute;\n  height: 96px;\n  display: inline-block;\n  left: 50px;\n  right: 0;\n  top: 0;\n}\n.data-quality-statistics .box .content .evaluate-result {\n  margin-left: 0px;\n  margin-top: 18px;\n}\n.data-quality-statistics .box .content .sample-chart-wrap {\n  display: inline-block;\n  width: 66px;\n  height: 66px;\n  margin-top: 15px;\n}\n.data-quality-statistics .box .content .right-content {\n  display: inline-block;\n  vertical-align: top;\n  margin-top: 12px;\n  height: 56px;\n  position: absolute;\n  left: 72px;\n  right: 0;\n  top: 15px;\n}\n.data-quality-statistics .box .content .trend-chart {\n  height: 34px;\n  position: absolute;\n  right: 10px;\n  left: 10px;\n  bottom: 6px;\n}\n.data-quality-statistics .box .content .tip {\n  position: absolute;\n  left: 46px;\n  right: 0;\n  top: 18px;\n}\n.data-quality-statistics .box .content p {\n  display: table-cell;\n  width: 100%;\n  font-size: 12px;\n  vertical-align: middle;\n  margin-top: 18px;\n}\n.data-quality-statistics .box .content li {\n  list-style: none;\n  font-size: 14px;\n}\n.data-quality-statistics .box .content i {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n}\n.data-quality-statistics .box .content .label {\n  display: inline-block;\n  width: 40px;\n  margin: 0 5px;\n  font-size: 12px;\n}\n.data-quality-statistics .box .content .first {\n  position: relative;\n  color: #4b7efe;\n}\n.data-quality-statistics .box .content .first i {\n  background-color: #4b7efe;\n}\n.data-quality-statistics .box .content .first .num {\n  position: absolute;\n  left: 65px;\n  right: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.data-quality-statistics .box .content .second {\n  position: relative;\n  color: #f0a33f;\n}\n.data-quality-statistics .box .content .second i {\n  background-color: #f0a33f;\n}\n.data-quality-statistics .box .content .second .num {\n  position: absolute;\n  left: 65px;\n  right: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.data-quality-statistics .evaluate-result {\n  display: inline-block;\n  width: 36px;\n  height: 36px;\n  border-radius: 18px;\n  text-align: center;\n  line-height: 36px;\n  font-size: 16px;\n  margin: 10px 10px 10px 0px;\n}\n.data-quality-statistics .evaluate-index {\n  font-size: 16px;\n  font-weight: bold;\n  height: 22px;\n  line-height: 22px;\n  width: 95px;\n  color: #333E4E;\n}\n.data-quality-statistics .excellent .evaluate-result {\n  background-color: #dfe8e4;\n  color: #00AB01;\n}\n.data-quality-statistics .good .evaluate-result {\n  background-color: #e7eaf0;\n  color: #4B7EFE;\n}\n.data-quality-statistics .medium .evaluate-result {\n  background-color: #f0eee9;\n  color: #F5C758;\n}\n.data-quality-statistics .bad .evaluate-result {\n  background-color: #eee6e6;\n  color: #CD1C1A;\n}\n.data-quality-statistics .evaluate-list {\n  display: inline-block;\n  width: 58%;\n  margin: 0 0.5%;\n  background-color: #f1f3f8;\n  overflow: hidden;\n  height: 96px;\n  vertical-align: top;\n}\n.data-quality-statistics .evaluate-list li {\n  list-style: none;\n  float: left;\n  width: 25%;\n  position: relative;\n  text-align: center;\n}\n.data-quality-statistics .evaluate-list li .content {\n  min-width: 120px;\n  height: 57px;\n  margin: 8px auto 0;\n}\n.data-quality-statistics .evaluate-list li .right-content {\n  display: inline-block;\n  vertical-align: top;\n  margin-top: 10px;\n  text-align: left;\n}\n.data-quality-statistics .evaluate-list li .right-content .title {\n  color: #333E4E;\n}\n.data-quality-statistics .evaluate-list li p {\n  font-size: 10px;\n  color: #686F7B;\n}\n.data-quality-statistics .evaluate-list li:before {\n  content: "";\n  position: absolute;\n  left: 0;\n  top: 18px;\n  height: 60px;\n  width: 1px;\n  background-color: #e4e9f1;\n}\n.data-quality-statistics .evaluate-list li:first-child:before {\n  display: none;\n}\n.data-quality-statistics .data-quality-table .recalculation {\n  display: inline-block;\n  font-size: 12px;\n  width: 24px;\n  height: 24px;\n  background: url('+u+") no-repeat center center;\n  background-size: 20px;\n  vertical-align: middle;\n}\n.data-quality-statistics .data-quality-table .evaluate-result {\n  display: inline-block;\n  font-size: 12px;\n  width: 24px;\n  height: 24px;\n  line-height: 24px;\n  border-radius: 12px;\n  margin: auto 5px;\n  vertical-align: middle;\n}\n.data-quality-statistics .data-quality-table .excellent.evaluate-result {\n  background-color: #dfe8e4;\n  color: #00AB01;\n}\n.data-quality-statistics .data-quality-table .good.evaluate-result {\n  background-color: #e7eaf0;\n  color: #4B7EFE;\n}\n.data-quality-statistics .data-quality-table .medium.evaluate-result {\n  background-color: #f0eee9;\n  color: #F5C758;\n}\n.data-quality-statistics .data-quality-table .bad.evaluate-result {\n  background-color: #eee6e6;\n  color: #CD1C1A;\n}\n.data-quality-statistics .data-quality-table .excellent-card,\n.data-quality-statistics .data-quality-table .good-card,\n.data-quality-statistics .data-quality-table .medium-card,\n.data-quality-statistics .data-quality-table .bad-card {\n  display: inline-block;\n  width: 52px;\n  height: 22px;\n  line-height: 22px;\n  vertical-align: middle;\n  text-align: center;\n  color: #fff;\n  font-size: 12px;\n  padding-left: 8px;\n}\n.data-quality-statistics .data-quality-table .excellent-card {\n  background: url("+d+") no-repeat 0 0;\n  background-size: cover;\n}\n.data-quality-statistics .data-quality-table .good-card {\n  background: url("+h+") no-repeat 0 0;\n  background-size: cover;\n}\n.data-quality-statistics .data-quality-table .medium-card {\n  background: url("+p+") no-repeat 0 0;\n  background-size: cover;\n}\n.data-quality-statistics .data-quality-table .bad-card {\n  background: url("+m+") no-repeat 0 0;\n  background-size: cover;\n}\n",""]),t.exports=e},1115:function(t,e,a){t.exports=a.p+"images/21b80de3cf526906259b0377c396d178.png"},1116:function(t,e,a){t.exports=a.p+"images/0273884483c88e524a3e852483e14eb4.png"},1117:function(t,e,a){t.exports=a.p+"images/023d09c9045ac23b30b2c38d5b0c3453.png"},1118:function(t,e,a){t.exports=a.p+"images/89cfc41f4b46a61cfb319c9aa2cfba73.png"},1119:function(t,e,a){t.exports=a.p+"images/27dfa8da3d740a1b9f8857b229842f61.png"},1122:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-main-border data-quality-statistics"},[a("div",{staticClass:"c-left-border-blue"},[a("div",{staticClass:"c-search-main"},[a("div",{staticClass:"c-form-item"},[a("label",[t._v("区域位置：")]),t._v(" "),a("dropdown-tree",{attrs:{url:t.treeApi.getProcessTreeData,width:200,multiple:!0},model:{value:t.site,callback:function(e){t.site=e},expression:"site"}})],1),t._v(" "),a("div",{staticStyle:{display:"inline-block","margin-left":"40px"}},[a("data-quality-date-step",{ref:"dateStep",attrs:{editable:t.dateEditable,clearable:t.dateClearable},on:{"on-change":t.dateStepChange,"on-timeRangeChange":t.timeRangeChange},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("div",{staticClass:"c-adv-search-btn"},[a("Button",{attrs:{type:"primary",shape:"circle"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("Button",{staticClass:"c-btn-reset",attrs:{type:"primary",shape:"circle"},on:{click:t.searchParamsClean}},[t._v("重置")])],1)])]),t._v(" "),a("div",{staticClass:"c-top-border-gray"},[a("div",[a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v("总体评价")]),t._v(" "),a("div",{class:t.evaluateMap[t.statisticsInfo.overall]+" content"},[a("span",{staticClass:"evaluate-result"},[t._v(t._s(t.statisticsInfo.overallLevel))]),t._v(" "),a("div",{staticClass:"tip"},[a("div",{staticStyle:{display:"table",height:"36px"}},[a("p",[t._v(t._s(t.statisticsInfo.overallRemark))])])]),t._v(" "),a("div",{staticClass:"trend-chart",attrs:{id:"totalEvaluateChart"}})])]),t._v(" "),a("ul",{staticClass:"evaluate-list"},[a("li",[a("div",{class:t.evaluateMap[t.statisticsInfo.accuracyLevelNum]+" content"},[a("span",{staticClass:"evaluate-result",on:{mousemove:function(e){return t.showStandardInfo(e,"准确性")},mouseout:t.hideStandardInfo}},[t._v(t._s(t.statisticsInfo.accuracyLevel))]),t._v(" "),a("div",{staticClass:"right-content"},[a("span",{staticClass:"title"},[t._v("准确性")]),t._v(" "),a("div",{staticClass:"evaluate-index ell",attrs:{title:(t.statisticsInfo.overallAccuracy||"")+"%"}},[t._v(t._s(t.statisticsInfo.overallAccuracy)+"%")])])]),t._v(" "),a("p",[t._v("准确数据量/实际总数据量")])]),t._v(" "),a("li",[a("div",{class:t.evaluateMap[t.statisticsInfo.completenessLevelNum]+" content"},[a("span",{staticClass:"evaluate-result",on:{mousemove:function(e){return t.showStandardInfo(e,"完整性")},mouseout:t.hideStandardInfo}},[t._v(t._s(t.statisticsInfo.completenessLevel))]),t._v(" "),a("div",{staticClass:"right-content"},[a("span",{staticClass:"title"},[t._v("完整性")]),t._v(" "),a("div",{staticClass:"evaluate-index ell",attrs:{title:(t.statisticsInfo.overallCompleteness||"")+"%"}},[t._v(t._s(t.statisticsInfo.overallCompleteness)+"%")])])]),t._v(" "),a("p",[t._v("实际数据量/理论数据量")])]),t._v(" "),a("li",[a("div",{class:t.evaluateMap[t.statisticsInfo.timelinessLevelNum]+" content"},[a("span",{staticClass:"evaluate-result",on:{mousemove:function(e){return t.showStandardInfo(e,"及时性")},mouseout:t.hideStandardInfo}},[t._v(t._s(t.statisticsInfo.timelinessLevel))]),t._v(" "),a("div",{staticClass:"right-content"},[a("span",{staticClass:"title"},[t._v("及时性")]),t._v(" "),a("div",{staticClass:"evaluate-index ell",attrs:{title:(t.statisticsInfo.overallTimeliness||"")+"s"}},[t._v(t._s(t.statisticsInfo.overallTimeliness)+"s")])])]),t._v(" "),a("p",[t._v("平均采集延时")])]),t._v(" "),a("li",[a("div",{class:t.evaluateMap[t.statisticsInfo.consistencyLevelNum]+" content"},[a("span",{staticClass:"evaluate-result",on:{mousemove:function(e){return t.showStandardInfo(e,"一致性")},mouseout:t.hideStandardInfo}},[t._v(t._s(t.statisticsInfo.consistencyLevel))]),t._v(" "),a("div",{staticClass:"right-content"},[a("span",{staticClass:"title"},[t._v("一致性")]),t._v(" "),a("div",{staticClass:"evaluate-index ell",attrs:{title:(t.statisticsInfo.overallConsistency||"")+"%"}},[t._v(t._s(t.statisticsInfo.overallConsistency)+"%")])])]),t._v(" "),a("p",[t._v("一致数据量/实际总数据量")])])]),t._v(" "),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[t._v("样本占比")]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"sample-chart-wrap",attrs:{id:"sampleChart"}}),t._v(" "),a("ul",{staticClass:"right-content"},[a("li",{staticClass:"first"},[a("i"),t._v(" "),a("span",{staticClass:"label"},[t._v("总数")]),t._v(" "),a("span",{staticClass:"num",attrs:{title:t.statisticsInfo.totalSample}},[t._v(t._s(t.statisticsInfo.totalSample))])]),t._v(" "),a("li",{staticClass:"second"},[a("i"),t._v(" "),a("span",{staticClass:"label"},[t._v("样本数")]),t._v(" "),a("span",{staticClass:"num",attrs:{title:t.statisticsInfo.calcedSample}},[t._v(t._s(t.statisticsInfo.calcedSample))])])])])])])]),t._v(" "),a("div",{staticClass:"c-top-border-gray"},[a("div",{directives:[{name:"role",rawName:"v-role:multiple",value:"dq-rec-add,dq-rec-get",expression:"'dq-rec-add,dq-rec-get'",arg:"multiple"}],staticClass:"c-table-top-btns"},[a("Button",{directives:[{name:"role",rawName:"v-role",value:"dq-rec-add",expression:"'dq-rec-add'"}],staticClass:"c-btn-add",attrs:{type:"primary",shape:"circle",loading:t.reCalcLoading},on:{click:t.reCalc}},[t._v("重新计算")]),t._v(" "),a("Button",{directives:[{name:"role",rawName:"v-role",value:"dq-rec-get",expression:"'dq-rec-get'"}],staticClass:"c-btn-add",attrs:{type:"primary",shape:"circle"},on:{click:t.routerTolog}},[t._v("重算日志")])],1),t._v(" "),a("Table",{ref:"dataQualityTable",staticClass:"data-quality-table",attrs:{columns:t.columns,data:t.listData,loading:t.loading,stripe:""},on:{"on-select":t.onSelect,"on-select-cancel":t.onSelectCancel,"on-select-all":t.onSelectAll}})],1),t._v(" "),a("Modal",{staticClass:"data-quality-curve",attrs:{width:"1260",styles:{top:"20px"},title:"曲线"},model:{value:t.showCurveModal,callback:function(e){t.showCurveModal=e},expression:"showCurveModal"}},[a("data-quality-curve",{ref:"dataQualityCurve",attrs:{chartParams:t.chartParams}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("Modal",{staticClass:"data-quality-accuracy",attrs:{width:"1260",styles:{top:"20px"},title:"准确性"},model:{value:t.showAccuracyCurveModal,callback:function(e){t.showAccuracyCurveModal=e},expression:"showAccuracyCurveModal"}},[a("accuracy-curve",{ref:"accuracyCurve",attrs:{chartParams:t.chartParams}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("Modal",{staticClass:"data-quality-integrity",attrs:{width:"1260",styles:{top:"20px"},title:"完整性"},model:{value:t.showIntegrityCurveModal,callback:function(e){t.showIntegrityCurveModal=e},expression:"showIntegrityCurveModal"}},[a("integrity-curve",{ref:"integrityCurve",attrs:{chartParams:t.chartParams}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("Modal",{staticClass:"data-quality-uniformity",attrs:{width:"1260",styles:{top:"20px"},title:"一致性"},model:{value:t.showUniformityCurveModal,callback:function(e){t.showUniformityCurveModal=e},expression:"showUniformityCurveModal"}},[a("uniformity-curve",{ref:"uniformityCurve",attrs:{chartParams:t.chartParams}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1),t._v(" "),a("div",{staticClass:"ivu-tooltip-popper",style:"display:none;position: fixed; will-change: top, left; top: "+t.standardInfoDialog.y+"px; left: "+t.standardInfoDialog.x+"px;",attrs:{id:"standardInfoDialog","x-placement":"right"}},[a("div",{staticClass:"ivu-tooltip-content"},[a("div",{staticClass:"ivu-tooltip-arrow"}),t._v(" "),a("div",{staticClass:"ivu-tooltip-inner"},[a("div",{domProps:{innerHTML:t._s(t.standardInfoDialog.content)}})])])])],1)};i._withStripped=!0;var n=a(556),r=a.n(n),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cmp-date-step"},[a("label",{attrs:{for:""}},[t._v("起始时间：")]),t._v(" "),a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",format:"yyyy-MM-dd HH:mm:ss",placeholder:"选择时间",size:"small",editable:t.editable,clearable:t.clearable},on:{"on-change":t.dateChange},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}}),t._v(" "),a("div",{staticClass:"cmp-date-step-icon"},[a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.dateRelaChange(-1)}}},[a("Icon",{attrs:{type:"arrow-left-b",size:"22",color:"#4B7EFE"}})],1),t._v(" "),a("a",{attrs:{href:"javascript:;"},on:{click:function(e){return t.dateRelaChange(1)}}},[a("Icon",{attrs:{type:"arrow-right-b",size:"22",color:"#4B7EFE"}})],1)]),t._v(" "),a("label",{attrs:{for:""}},[t._v("时间跨度：")]),t._v(" "),a("Select",{staticStyle:{width:"70px"},attrs:{size:"small"},on:{"on-change":t.dateStepChange},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("Option",{attrs:{value:"day"}},[t._v("天")]),t._v(" "),a("Option",{attrs:{value:"week"}},[t._v("周")]),t._v(" "),a("Option",{attrs:{value:"month"}},[t._v("月")]),t._v(" "),a("Option",{attrs:{value:"year"}},[t._v("年")])],1),t._v(" "),t._t("default")],2)};s._withStripped=!0;var o=a(517),l={name:"mgDateStep",props:{editable:!1,clearable:!1,value:{type:String,default:""}},data:function(){return{startDate:this.value.split("#")[0]||o.a.midnight(new Date),step:this.value.split("#")[1]||"day"}},methods:{dateChange:function(){this.$emit("on-change",{date:o.a.midnight(this.startDate),step:this.step})},dateStepChange:function(){switch(this.step){case"day":this.startDate=o.a.midnight(new Date);break;case"week":this.startDate=o.a.firstDayByWeek();break;case"month":this.startDate=o.a.firstDayByMonth();break;case"year":this.startDate=o.a.firstDayByYear()}this.$emit("on-timeRangeChange",{date:this.startDate,step:this.step}),this.$emit("on-change",{date:this.startDate,step:this.step})},dateRelaChange:function(t){var e=this.startDate,a=this.step;this.startDate=o.a.countDateByStep(e,t,a),this.$emit("on-change",{date:this.startDate,step:this.step})},dateRelaLastest:function(){this.dateStepChange()},resetDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.value;this.startDate=t.split("#")[0]||o.a.midnight(new Date),this.step=t.split("#")[1]||"day"}},mounted:function(){}},c=(a(1103),a(1)),u=Object(c.a)(l,s,[],!1,null,null,null);u.options.__file="src/views/data-quality/data-quality-date-step.vue";var d=u.exports,h=a(145),p=a(11),m=a(545),g=a(107),f=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"data-quality-curves"},[e("div",{staticClass:"curves-chart-container"},[this.loading?e("Spin",{attrs:{fix:""}}):this._e(),this._v(" "),e("div",{staticClass:"curves-chart",attrs:{id:"J_CHART"}})],1)])};f._withStripped=!0;var v=a(7),y=a(572),b=a.n(y),x=a(785),D=a(600),C=a.n(D),w=a(538),k=a.n(w);function S(t){return""===t||null===t||Number.isNaN(Number(t))?null:Number(t)}var T=["#2D73C5","#285C5C","#F5967D","#41E741","#B8860B","#12B4AB","#FAE919","#00BFFF"],B={noData:{style:{fontWeight:"normal",fontSize:"13px",color:"#A1A1A1"}},credits:{enabled:!1},title:{text:null},legend:{margin:0,symbolHeight:10},chart:{marginLeft:50,type:"spline",spacingBottom:0,zoomType:"x",selectionMarkerFill:"rgba(0,0,0, 0.2)",resetZoomButton:{position:{align:"right",verticalAlign:"top",x:0,y:0},theme:{fill:"white",stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},plotOptions:{series:{animation:!1},spline:{marker:{enabled:!1}},line:{step:!0,marker:{enabled:!1}}},tooltip:{formatter:function(){return"<div>"+p.a.F(this.x,"yyyy-MM-dd hh:mm:ss")+"</div><br/><div>"+this.series.name+":<b>"+this.y+this.series.userOptions.unit+"</b></div>"},pointFormat:"{point.y}",xDateFormat:"%Y-%m-%d %H:%M:%S"},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%e",week:"%m-%e",month:"%Y-%m",year:"%Y"},crosshair:!0,events:{},labels:{},tickLength:3},yAxis:{title:{align:"high",offset:0,text:"",rotation:0,y:0,x:50,style:{color:"#000000"}},maxPadding:0,minPadding:0,gridLineWidth:1,lineWidth:1,labels:{x:-5}},series:[]};b()(r.a),Object(x.a)(r.a,v.default),C()(r.a),v.default.use(k.a),r.a.setOptions({global:{useUTC:!1},lang:{loading:"载入中...",resetZoom:"取消放大",resetZoomTitle:"取消放大",shortMonths:["01","02","03","04","05","06","07","08","09","10","11","12"],noData:"暂无数据",thousandsSep:","}});var _={name:"data-quality-curve",components:{},props:{chartParams:Object},data:function(){return{loading:!1,chartConHeight:"",chartConWidth:""}},created:function(){},mounted:function(){document.querySelector("#J_CHART");this.chartConWidth=1220,this.chartConHeight=540},methods:{clearChart:function(){for(var t=document.querySelector("#J_CHART");t.firstChild;)t.removeChild(t.firstChild)},getChartData:function(){var t=this;this.loading=!0;var e={mpointId:this.chartParams.mpointId,beginDate:this.chartParams.beginDate,endDate:this.chartParams.endDate};this.$http.get(m.a.getCurveData,e).then((function(e){e&&t.renderChart([e]),t.loading=!1})).catch((function(){t.loading=!1}))},renderChart:function(t){this.clearChart();var e=this.chartParams,a=t.length,i=this.chartConHeight/a,n=this.chartConWidth,s=document.querySelector("#J_CHART"),l=o.a.getPeriods(e);t.forEach((function(t,o){var c="C"+p.a.gusid(8),u=document.createElement("div"),d="",h="";t.gid=c,u.setAttribute("id",c),u.setAttribute("data-m-id",t.mpointId),u.style.height=i+"px",u.style.width=n+"px",u.style.position="relative",s.appendChild(u),B.chart.height=i,d=null==t.siteName?"":"-"+t.siteName,t.unit&&(h=" "+t.unit),B.yAxis.title.text=h;e.beginDate;var m=e.cycle;B.xAxis.labels.enabled=o===a-1,B.xAxis.max=l.max,B.xAxis.min=l.min;var g=t.curveYaxisLowerRange,f=t.curveYaxisUpperRange;B.yAxis.min=S(g),B.yAxis.max=S(f);var v=function(t){var e=[];return t?(t.forEach((function(t){e.push([t.dataDate,Number(t.dataValue)])})),e):e}(t.data),y=Object.assign({},B,{datetime:!0,yAxisZero:!0,series:[{type:"State"===t.datype?"line":"spline",name:t.mpointName+d,data:v,color:T[o],unit:h,lineWidth:1,cycle:m,mpointId:t.mpointId}]});r.a.chart(c,y)}))},refreshChart:function(){}}},q=(a(1105),Object(c.a)(_,f,[],!1,null,"1037a096",null));q.options.__file="src/views/data-quality/curve.vue";var E=q.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-quality-accuracy-curves"},[a("div",{staticClass:"curves-chart-container"},[0!=t.navList.length?a("ul",{staticClass:"tabs-nav"},t._l(t.navList,(function(e){return a("li",{class:e.className,on:{click:function(a){return t.changeTab(e)}}},[t._v(t._s(e.label))])})),0):t._e(),t._v(" "),a("span",{staticClass:"exceptionTip"},[t._v(t._s(t.exceptionTip))]),t._v(" "),a("Checkbox",{on:{"on-change":t.beforecCorrectEvent},model:{value:t.beforecCorrect,callback:function(e){t.beforecCorrect=e},expression:"beforecCorrect"}},[t._v("修正前")]),t._v(" "),t.loading?a("Spin",{attrs:{fix:""}}):t._e(),t._v(" "),a("div",{staticClass:"curves-chart",attrs:{id:"accuracyChart"}})],1),t._v(" "),t.showUpdateTable?a("a",{staticClass:"save-btn",attrs:{href:"javascript:;"},on:{click:t.saveCorrectData}},[t._v("保存")]):t._e(),t._v(" "),t.showUpdateTable?a("Table",{staticClass:"accuracy-table",attrs:{columns:t.columns,data:t.listData,loading:t.loading,stripe:""}}):t._e(),t._v(" "),t.showUpdateTable?a("Page",{staticClass:"table-page",attrs:{total:t.total,current:t.currentPage,"show-total":"","show-elevator":""},on:{"update:current":function(e){t.currentPage=e},"on-change":t.pageChange}}):t._e(),t._v(" "),t.showUpdateTable?t._e():a("Table",{staticClass:"accuracy-table",attrs:{columns:t.columnsByRecord,data:t.listDataByRecord,loading:t.loadingByRecord,stripe:""}}),t._v(" "),t.showUpdateTable?t._e():a("Page",{staticClass:"table-page",attrs:{total:t.totalByRecord,current:t.currentByRecord,"show-total":"","show-elevator":""},on:{"update:current":function(e){t.currentByRecord=e},"on-change":t.pageChangeByRecord}})],1)};F._withStripped=!0;var A=[];function L(t){return""===t||null===t||Number.isNaN(Number(t))?null:Number(t)}var P={upperRange:"上限",lowerRange:"下限",upper:"上限",upperFourHalf:"上四分位数",half:"中位数",lowerFourHalf:"下四分位数",lower:"下限","3σ+μ":"3σ+μ","2σ+μ":"2σ+μ","σ+μ":"σ+μ","-σ+μ":"-σ+μ","-2σ+μ":"-2σ+μ","-3σ+μ":"-3σ+μ"},M=["#4B7EFE","#285C5C","#F5967D","#41E741","#B8860B","#12B4AB","#FAE919","#00BFFF"],I={noData:{style:{fontWeight:"normal",fontSize:"13px",color:"#A1A1A1"}},credits:{enabled:!1},title:{text:null},legend:{margin:0,symbolHeight:10},chart:{marginLeft:50,type:"spline",spacingBottom:0,spacingTop:20,zoomType:"x",selectionMarkerFill:"rgba(0,0,0, 0.2)",resetZoomButton:{position:{align:"right",verticalAlign:"top",x:0,y:0},theme:{fill:"white",stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},plotOptions:{series:{animation:!1,point:{events:{mouseOver:function(){this.isException?document.querySelectorAll("#accuracyChart .highcharts-tooltip").forEach((function(t){return t.onmousemove=function(t){t.stopPropagation()}})):document.querySelectorAll("#accuracyChart .highcharts-tooltip").forEach((function(t){return t.onmousemove=null}))}}},events:{mouseOver:function(){},mouseOut:function(){}}},spline:{marker:{enabled:!1},stickyTracking:!1},line:{step:!0,marker:{enabled:!1}}},tooltip:{borderColor:"#f8f8f8",backgroundColor:"#f8f9fb",borderWidth:0,useHTML:!0,formatter:function(){var t="",e="";return this.point.isException?(t="<div class='btn-wrap'><a href='javascript:;' style='color:#F0A33F' onclick='correctedHistory()'>修正历史</a><a href='javascript:;' style='color:#4B7EFE' onclick='correcte()'>修正</a></div>",e="<div style='color:#576374'>"+this.series.name+":<b>"+this.y+this.series.userOptions.unit+"</b><p>"+(this.point.remarks||"")+"</p></div>"):e="<div style='color:#576374'>"+this.series.name+":<b>"+this.y+this.series.userOptions.unit+"</b></div>","<div class='accuracy-tooltip-wrap'><div style='color:#838A95'>"+p.a.F(this.x,"yyyy-MM-dd hh:mm:ss")+"</div>"+e+t+"</div>"},pointFormat:"{point.y}",xDateFormat:"%Y-%m-%d %H:%M:%S"},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%e",week:"%m-%e",month:"%Y-%m",year:"%Y"},crosshair:!0,events:{},labels:{},tickLength:3},yAxis:{title:{align:"high",offset:0,text:"",rotation:0,y:0,x:50,style:{color:"#000000"}},maxPadding:0,minPadding:0,gridLineWidth:1,lineWidth:1,labels:{x:-5}},series:[]},R={},O={};b()(r.a),C()(r.a),v.default.use(k.a),r.a.setOptions({global:{useUTC:!1},lang:{loading:"载入中...",resetZoom:"取消放大",resetZoomTitle:"取消放大",shortMonths:["01","02","03","04","05","06","07","08","09","10","11","12"],noData:"暂无数据",thousandsSep:","}});var N=null,H={name:"accuracy-curve",components:{},props:{chartParams:Object},data:function(){var t=this;return{exceptionTip:"",currentTab:"",beforecCorrect:!1,loading:!1,chartConHeight:"",chartConWidth:"",navList:[],showUpdateTable:!1,listData:[],currentTabCacheData:[],currentPage:1,total:0,columns:[{title:"数据时间",key:"dataTimestamp",width:90,render:function(t,e){return p.a.tableDatetime(t,e.row.dataTimestamp)}},{title:"当前值",key:"orgValue",width:110},{title:"修正值",key:"value",width:110,render:function(e,a){return e("div",[e("Input",{props:{value:a.row.value},on:{input:function(e){a.row.value=e,t.listData[a.index]=a.row,t.currentTabCacheData[10*(t.currentPage-1)+a.index]=a.row}}})])}},{title:"备注",key:"logRemarks",render:function(e,a){return e("div",[e("Input",{props:{value:a.row.logRemarks},on:{input:function(e){a.row.logRemarks=e,t.listData[a.index]=a.row,t.currentTabCacheData[10*(t.currentPage-1)+a.index]=a.row}}})])}}],listDataByRecord:[],loadingByRecord:!1,totalByRecord:0,currentByRecord:1,columnsByRecord:[{title:"采集时间",key:"dataTimestamp",width:90,render:function(t,e){return p.a.tableDatetime(t,e.row.dataTimestamp)}},{title:"修正前",key:"orgValue",width:110},{title:"修正后",key:"value",width:110},{title:"修正时间",key:"createTime",width:90,render:function(t,e){return p.a.tableDatetime(t,e.row.createTime)}},{title:"修正人",key:"creatorName",width:90},{title:"备注",key:"remarks"}]}},created:function(){p.a.initTableColumnTitle(this.columns),p.a.initTableColumnTitle(this.columnsByRecord)},mounted:function(){N=this,window.correcte=function(){this.showUpdateTable=!0;var t=[];0==this.currentTab&&(t=JSON.stringify(R.boundExceptionDatas)),1==this.currentTab&&(t=JSON.stringify(R.sigmaExceptionDatas)),2==this.currentTab&&(t=JSON.stringify(R.boxExceptionDatas)),3==this.currentTab&&(t=JSON.stringify(R.increaseExceptionDatas)),4==this.currentTab&&(t=JSON.stringify(R.enumExceptionDatas)),this.currentTabCacheData=JSON.parse(t),this.total=this.currentTabCacheData.length,this.currentPage=1,this.pageChange(1)}.bind(N),window.correctedHistory=function(){this.showUpdateTable=!1,this.currentByRecord=1,this.getCorrectionList()}.bind(N);document.querySelector("#accuracyChart");this.chartConWidth=549,this.chartConHeight=480},methods:{getCurvesDataContainException:function(t,e,a){var i=R[e].data;if((t=R[t])&&t.length)for(var n=t.length;n--;){var r=t[n],s=r.dataTimestamp;if(0==O[s]||O[s]){var o=i[O[s]][1];"before"!=a&&(0==r.orgValue||r.orgValue)&&(o=r.orgValue),R[e].data.splice(O[s],1,{x:s,y:o,remarks:r.remarks,isException:!0,marker:{enabled:!0,fillColor:"red",states:{hover:{fillColor:"red"}}}})}}},handleData:function(t,e){var a=this;this.exceptionTip="";var i={curveYaxisLowerRange:t.curveData.curveYaxisLowerRange,curveYaxisUpperRange:t.curveData.curveYaxisUpperRange,datype:t.curveData.datype,mpointId:t.curveData.mpointId,mpointName:t.curveData.mpointName,ring:t.curveData.ring,siteName:t.curveData.siteName,unit:t.curveData.unit,year:t.curveData.year};if((R=t||{}).curveDataByIncrease=Object.assign({data:[]},i),R.curveDataByEnum=Object.assign({data:[]},i),R.curveDataByBound=Object.assign({data:[]},i),R.curveDataBySigma=Object.assign({data:[]},i),R.curveDataByBox=Object.assign({data:[]},i),this.navList=[],O={},t.curveData){if(!t.curveType)return;var n=!0;[{label:"上下限",value:0,key:"bound"},{label:"3σ",value:1,key:"sigma3"},{label:"箱型图",value:2,key:"box"},{label:"单调递增",value:3,key:"increase"},{label:"状态",value:4,key:"enumcheck"}].forEach((function(e){-1!=t.curveType.indexOf(e.key)&&(n?(""==a.currentTab&&(a.currentTab=e.value),a.navList.push(e)):(e.className="",a.navList.push(e)),a.currentTab==e.value&&(e.className="active"),n=!1)}));for(var r=[],s=t.curveData.data.length;s--;){var o=t.curveData.data[s];O[o.dataDate]=s,r.unshift([o.dataDate,Number(o.dataValue)])}if(-1!=t.curveType.indexOf("bound")){var l=JSON.stringify(r);R.curveDataByBound.data=JSON.parse(l),a.getCurvesDataContainException("boundExceptionDatas","curveDataByBound",e)}if(-1!=t.curveType.indexOf("sigma3")){var c=JSON.stringify(r);R.curveDataBySigma.data=JSON.parse(c)||[],a.getCurvesDataContainException("sigmaExceptionDatas","curveDataBySigma",e)}if(-1!=t.curveType.indexOf("box")){var u=JSON.stringify(r);R.curveDataByBox.data=JSON.parse(u)||[],a.getCurvesDataContainException("boxExceptionDatas","curveDataByBox",e)}if(-1!=t.curveType.indexOf("increase")){var d=JSON.stringify(r);R.curveDataByIncrease.data=JSON.parse(d)||[],a.getCurvesDataContainException("increaseExceptionDatas","curveDataByIncrease",e)}if(-1!=t.curveType.indexOf("enumcheck")){var h=JSON.stringify(r);R.curveDataByEnum.data=JSON.parse(h)||[],a.getCurvesDataContainException("enumExceptionDatas","curveDataByEnum",e)}0==this.currentTab&&this.renderChart([R.curveDataByBound],(function(e){a.setChartExtremes(t.lowerRange,t.upperRange),(0==t.upperRange||t.upperRange)&&a.addLineAlarm(!0,"upperRange",t.upperRange),(0==t.lowerRange||t.lowerRange)&&a.addLineAlarm(!0,"lowerRange",t.lowerRange)})),1==this.currentTab&&(this.exceptionTip=t.sigmaRemark||"",this.renderChart([R.curveDataBySigma],(function(e){if(t.avgs){var i=["3σ+μ","2σ+μ","σ+μ","-σ+μ","-2σ+μ","-3σ+μ"];a.setChartExtremes(t.avgs[5],t.avgs[0]),t.avgs.forEach((function(e,n){a.addLineAlarm(!0,i[n],t.avgs[n])}))}}))),2==this.currentTab&&(this.exceptionTip=t.boxRemark||"",this.renderChart([R.curveDataByBox],(function(e){if(t.boxDatas){var i=["upper","upperFourHalf","half","lowerFourHalf","lower"];a.setChartExtremes(t.boxDatas[4],t.boxDatas[0]),t.boxDatas.forEach((function(e,n){a.addLineAlarm(!0,i[n],t.boxDatas[n])}))}}))),3==this.currentTab&&this.renderChart([R.curveDataByIncrease]),4==this.currentTab&&this.renderChart([R.curveDataByEnum])}},setChartExtremes:function(t,e){var a=A[0].yAxis[0],i=L(R.curveData.curveYaxisLowerRange),n=L(R.curveData.curveYaxisUpperRange),r=a.getExtremes().dataMin,s=a.getExtremes().dataMax;0==i||i?t<i?a.update({min:t}):a.update({min:i}):t<r?a.update({min:t}):a.update({min:null}),0==n||n?e>n?a.update({max:e}):a.update({max:n}):e>s?a.update({max:e}):a.update({max:null})},getChartData:function(){var t=this;this.beforecCorrect=!1,this.showUpdateTable=!1,this.loading=!0;var e={id:this.chartParams.id,beginDate:this.chartParams.beginDate,endDate:this.chartParams.endDate,cycle:this.chartParams.cycle};this.$http.get(m.a.getCurveAccuracy,e).then((function(e){e&&t.handleData(e),t.loading=!1})).catch((function(e){t.loading=!1}))},clearChart:function(){for(var t=document.querySelector("#accuracyChart");t.firstChild;)t.removeChild(t.firstChild)},renderChart:function(t,e){A=[];this.clearChart();var a=this.chartParams,i=t.length,n=this.chartConHeight/i,s=this.chartConWidth,l=document.querySelector("#accuracyChart"),c=o.a.getPeriods(a);t.forEach((function(t,o){var u="C"+p.a.gusid(8),d=document.createElement("div"),h="",m="";t.gid=u,d.setAttribute("id",u),d.setAttribute("data-m-id",t.mpointId),d.style.height=n+"px",d.style.width=s+"px",d.style.position="relative",l.appendChild(d),I.chart.height=n,h=null==t.siteName?"":"-"+t.siteName,t.unit&&(m=" "+t.unit),I.yAxis.title.text=m;a.beginDate;var g=a.cycle;I.xAxis.labels.enabled=o===i-1,I.xAxis.max=c.max,I.xAxis.min=c.min;var f=t.curveYaxisLowerRange,v=t.curveYaxisUpperRange;I.yAxis.min=L(f),I.yAxis.max=L(v);var y=JSON.stringify(t.data),b=Object.assign({},I,{datetime:!1,yAxisZero:!0,series:[{type:"State"===t.datype?"line":"spline",name:t.mpointName+h,data:JSON.parse(y)||[],color:M[o],unit:m,lineWidth:1,cycle:g,mpointId:t.mpointId,turboThreshold:0}]}),x=r.a.chart(u,b);A.push(x),e&&e([x])}))},addLineAlarm:function(t,e,a){if(t){var i="#f87a78",n="Solid";"upperFourHalf"!=e&&"half"!=e&&"lowerFourHalf"!=e&&"2σ+μ"!=e&&"σ+μ"!=e&&"-σ+μ"!=e&&"-2σ+μ"!=e||(i="#4B7EFE",n="Dash"),A[0].yAxis[0].addPlotLine({id:"line_"+e,width:1,color:i,value:a,label:{text:P[e]+": "+a,style:{color:i}},dashStyle:n})}else A[0].yAxis[0].removePlotLine("line_"+e)},clearPlotLine:function(){if(A.length)for(var t in P)if(P.hasOwnProperty(t)){P[t];A[0].yAxis[0].removePlotLine("line_"+t)}},changeTab:function(t){var e=this;this.exceptionTip="";var a=[];this.navList.forEach((function(t){t.className=""})),t.className="active",this.currentTab=t.value,this.clearPlotLine(),A[0].series[0].update({data:[]});var i=[],n=null,r=null;if(0==t.value&&(n=R.lowerRange,r=R.upperRange,(0==R.upperRange||R.upperRange)&&e.addLineAlarm(!0,"upperRange",R.upperRange),(0==R.lowerRange||R.lowerRange)&&e.addLineAlarm(!0,"lowerRange",R.lowerRange),a=JSON.stringify(R.curveDataByBound.data),i=JSON.stringify(R.boundExceptionDatas||[])),1==t.value){if(this.exceptionTip=R.sigmaRemark||"",R.avgs){var s=["3σ+μ","2σ+μ","σ+μ","-σ+μ","-2σ+μ","-3σ+μ"];n=R.avgs[5],r=R.avgs[0],R.avgs.forEach((function(t,a){e.addLineAlarm(!0,s[a],R.avgs[a])}))}a=JSON.stringify(R.curveDataBySigma.data),i=JSON.stringify(R.sigmaExceptionDatas||[])}if(2==t.value){if(this.exceptionTip=R.boxRemark||"",R.boxDatas){var o=["upper","upperFourHalf","half","lowerFourHalf","lower"];n=R.boxDatas[4],r=R.boxDatas[0],R.boxDatas.forEach((function(t,a){e.addLineAlarm(!0,o[a],R.boxDatas[a])}))}a=JSON.stringify(R.curveDataByBox.data),i=JSON.stringify(R.boxExceptionDatas||[])}3==t.value&&(a=JSON.stringify(R.curveDataByIncrease.data),i=JSON.stringify(R.increaseExceptionDatas||[])),4==t.value&&(a=JSON.stringify(R.curveDataByEnum.data),i=JSON.stringify(R.enumExceptionDatas||[])),A[0].series[0].update({data:JSON.parse(a)}),this.setChartExtremes(n,r),this.currentTabCacheData=JSON.parse(i),this.total=this.currentTabCacheData.length,this.currentPage=1,this.listData=this.currentTabCacheData.slice(0,10)},beforecCorrectEvent:function(t){t?this.getCurveAccuracyBefore():this.getChartData()},getCurveAccuracyBefore:function(){var t=this;this.showUpdateTable=!1,this.loading=!0;var e={id:this.chartParams.id,beginDate:this.chartParams.beginDate,endDate:this.chartParams.endDate,cycle:this.chartParams.cycle};this.$http.get(m.a.getCurveAccuracyBefore,e).then((function(e){e&&t.handleData(e,"before"),t.loading=!1})).catch((function(){t.loading=!1}))},saveCorrectData:function(){for(var t=this,e=[],a=0;a<this.currentTabCacheData.length;a++){var i=this.currentTabCacheData[a];(0==i.value||i.value)&&e.push(i)}if(0==e.length)return this.$Notice.warning({title:"提示",desc:"未修正任何数据",duration:3}),!1;this.$http.put(m.a.correctionData,e).then((function(e){e&&(t.$Notice.success({title:"成功",desc:"数据保存成功",duration:3}),t.getChartData(),t.currentByRecord=1,t.getCorrectionList()),t.loading=!1})).catch((function(){t.loading=!1}))},getCorrectionList:function(t){var e=this;this.loadingByRecord=!0;var a={type:"inaccuracy",mpointId:this.chartParams.mpointId,beginDate:this.chartParams.beginDate,endDate:this.chartParams.endDate,currentPage:t||1,pageSize:10};this.$http.get(m.a.getCorrectionData,a).then((function(t){t&&(e.listDataByRecord=t.items,e.totalByRecord=t.total,e.loadingByRecord=!1)}))},pageChange:function(t){this.listData=this.currentTabCacheData.slice(10*(t-1),10*t)},pageChangeByRecord:function(t){this.getCorrectionList(t)}}},$=(a(1107),Object(c.a)(H,F,[],!1,null,null,null));$.options.__file="src/views/data-quality/accuracy.vue";var z=$.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"data-quality-integrity-curves"},[a("div",{staticClass:"curves-chart-container"},[t.loading?a("Spin",{attrs:{fix:""}}):t._e(),t._v(" "),a("div",{staticClass:"curves-chart",attrs:{id:"integrityChart"}}),t._v(" "),a("div",{staticClass:"prograss-bar-wrap",attrs:{id:"integrityBar"}})],1),t._v(" "),t.isShow?a("a",{staticClass:"save-btn",attrs:{href:"javascript:;"},on:{click:t.saveInputData}},[t._v("保存")]):t._e(),t._v(" "),t.isShow?a("Table",{staticClass:"integrity-table",attrs:{columns:t.columns,data:t.listData,loading:t.listLoading,stripe:""}}):t._e(),t._v(" "),t.isShow?a("Page",{staticClass:"table-page",attrs:{total:t.total,current:t.currentPage,"show-total":"","show-elevator":""},on:{"update:current":function(e){t.currentPage=e},"on-change":t.pageChange}}):t._e(),t._v(" "),t.isShow?t._e():a("Table",{staticClass:"integrity-table",attrs:{columns:t.columnsByRecord,data:t.listDataByRecord,loading:t.loadingByRecord,stripe:""}}),t._v(" "),t.isShow?t._e():a("Page",{staticClass:"table-page",attrs:{total:t.totalByRecord,current:t.currentByRecord,"show-total":"","show-elevator":""},on:{"update:current":function(e){t.currentByRecord=e},"on-change":t.pageChangeByRecord}})],1)};W._withStripped=!0;var Y=[];function j(t){return""===t||null===t||Number.isNaN(Number(t))?null:Number(t)}function J(t){var e=this.chart,a=e.series[0].userOptions;"syncExtremes"!==t.trigger&&Y.forEach((function(i){if(i!==e&&i.xAxis[0].setExtremes){var n=i.series[0].userOptions,r=n.cycle,s=t.max,l=t.min;a.year?(l=o.a.countDateByStep(l,1,"year",1),s=o.a.countDateByStep(s,1,"year",1),n.ring&&(l=o.a.countDateByStep(l,-1,r,1),s=o.a.countDateByStep(s,-1,r,1))):a.ring?(l=o.a.countDateByStep(l,1,r,1),s=o.a.countDateByStep(s,1,r,1),n.year&&(l=o.a.countDateByStep(l,-1,"year",1),s=o.a.countDateByStep(s,-1,"year",1))):n.ring?(l=o.a.countDateByStep(l,-1,r,1),s=o.a.countDateByStep(s,-1,r,1)):n.year&&(l=o.a.countDateByStep(l,-1,"year",1),s=o.a.countDateByStep(s,-1,"year",1)),isNaN(l)&&(l=s=void 0),i.xAxis[0].setExtremes(l,s,void 0,!1,{trigger:"syncExtremes"})}}))}var U=["#4B7EFE","#285C5C","#F5967D","#41E741","#B8860B","#12B4AB","#FAE919","#00BFFF"],Z={noData:{style:{fontWeight:"normal",fontSize:"13px",color:"#A1A1A1"}},credits:{enabled:!1},title:{text:null},legend:{margin:0,symbolHeight:10},chart:{marginLeft:50,type:"spline",spacingBottom:0,zoomType:"x",selectionMarkerFill:"rgba(0,0,0, 0.2)",resetZoomButton:{position:{align:"right",verticalAlign:"top",x:0,y:0},theme:{fill:"white",stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},plotOptions:{series:{animation:!1,events:{mouseOver:function(){},mouseOut:function(){}}},spline:{marker:{enabled:!1},stickyTracking:!1},line:{step:!0,marker:{enabled:!1}}},tooltip:{borderColor:"#f8f8f8",backgroundColor:"#f8f9fb",borderWidth:0,useHTML:!0,formatter:function(){return"<div class='integrity-tooltip-wrap'><div style='color:#838A95'>"+p.a.F(this.x,"yyyy-MM-dd hh:mm:ss")+"</div><div style='color:#576374'>"+this.series.name+":<b>"+this.y+this.series.userOptions.unit+"</b></div></div>"},pointFormat:"{point.y}",xDateFormat:"%Y-%m-%d %H:%M:%S"},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%e",week:"%m-%e",month:"%Y-%m",year:"%Y"},crosshair:!0,events:{setExtremes:J},labels:{},tickLength:3},yAxis:{title:{align:"high",offset:0,text:"",rotation:0,y:0,x:50,style:{color:"#000000"}},maxPadding:0,minPadding:0,gridLineWidth:1,lineWidth:1,labels:{x:-5}},series:[]},V={},Q=[];b()(r.a),C()(r.a),v.default.use(k.a),r.a.setOptions({global:{useUTC:!1},lang:{loading:"载入中...",resetZoom:"取消放大",resetZoomTitle:"取消放大",shortMonths:["01","02","03","04","05","06","07","08","09","10","11","12"],noData:"暂无数据",thousandsSep:","}});var G={name:"integrity-curve",components:{},props:{chartParams:Object},data:function(){var t=this;return{missingCount:0,correctedCount:0,loading:!1,chartConHeight:"",chartConWidth:"",isShow:!1,cacheListData:[],listData:[],listLoading:!1,total:0,currentPage:1,columns:[{title:"数据时间",key:"dataTimestamp",width:90,render:function(t,e){return p.a.tableDatetime(t,e.row.dataTimestamp)}},{title:"补录值",key:"value",width:110,render:function(e,a){return e("div",[e("Input",{props:{value:a.row.value},on:{input:function(e){a.row.value=e,t.listData[a.index]=a.row,t.cacheListData[10*(t.currentPage-1)+a.index]=a.row}}})])}},{title:"补录时间",key:"updateTime",width:90,render:function(t,e){return p.a.tableDatetime(t,e.row.updateTime)}},{title:"补录人",key:"",width:90,render:function(t,e){return t("span",[e.row.log?e.row.log.creatorName:""])}},{title:"备注",key:"logRemarks",render:function(e,a){return e("div",[e("Input",{props:{value:a.row.logRemarks},on:{input:function(e){a.row.logRemarks=e,t.listData[a.index]=a.row,t.cacheListData[10*(t.currentPage-1)+a.index]=a.row}}})])}}],listDataByRecord:[],loadingByRecord:!1,totalByRecord:0,currentByRecord:1,columnsByRecord:[{title:"采集时间",key:"dataTimestamp",width:90,render:function(t,e){return p.a.tableDatetime(t,e.row.dataTimestamp)}},{title:"补录前",key:"orgValue",width:110},{title:"补录后",key:"value",width:110},{title:"补录时间",key:"createTime",width:90,render:function(t,e){return p.a.tableDatetime(t,e.row.createTime)}},{title:"补录人",key:"creatorName",width:90},{title:"备注",key:"remarks"}]}},created:function(){p.a.initTableColumnTitle(this.columns),p.a.initTableColumnTitle(this.columnsByRecord)},mounted:function(){var t=document.querySelector("#integrityChart");this.chartConWidth=549,this.chartConHeight=480,t.addEventListener("mousemove",(function(t){var e,a;for(a=0;a<Y.length;a++)(e=Y[a].series[0].searchPoint(t,!0))&&e.highlight(t)})),document.querySelector("#integrityBar").addEventListener("mousemove",(function(t){var e,a;for(a=0;a<Y.length;a++)(e=Y[a].series[0].searchPoint(t,!0))&&e.highlight(t)}))},methods:{renderBarChart:function(t,e){var a=this;window.inputData=function(){this.isShow=!0}.bind(a);var i=o.a.getPeriods(this.chartParams),n=r.a.chart("integrityBar",{lang:{loading:"载入中...",noData:"",thousandsSep:","},plotOptions:{series:{animation:!1,events:{mouseOver:function(){setTimeout((function(){document.querySelectorAll("#integrityBar .highcharts-tooltip").forEach((function(t){return t.onmousemove=function(t){t.stopPropagation()}}))}),0)},mouseOut:function(){}}},spline:{marker:{enabled:!1},stickyTracking:!1},line:{step:!0,marker:{enabled:!1}}},credits:{enabled:!1},title:{text:""},chart:{type:"spline",plotBackgroundColor:"#f8f9fb",marginLeft:50,marginTop:36,marginBottom:30,spacingBottom:0},tooltip:{borderColor:"#f8f8f8",backgroundColor:"#f8f9fb",borderWidth:0,useHTML:!0,formatter:function(){return'<div style="width:200px"><p style="white-space:normal">共'+a.missingCount+"个数据点缺失，剩"+(a.missingCount-a.correctedCount)+'个数据点未补录</p><button type="button" class="ivu-btn ivu-btn-primary ivu-btn-circle fr" onclick="inputData()"><span>补录</span></button></div>'}},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%e",week:"%m-%e",month:"%Y-%m",year:"%Y"},minPadding:0,max:i.max,min:i.min,crosshair:!1,events:{setExtremes:J},labels:{style:{color:"rgba(255,255,255,0)"}},lineWidth:0,tickLength:0,plotLines:e},yAxis:{max:1,min:0,title:{align:"high",offset:0,text:"",rotation:0,y:0,x:50,style:{color:"#000000"}},maxPadding:0,minPadding:0,gridLineWidth:0,lineWidth:0,labels:{x:-5,style:{color:"rgba(255,255,255,0)"}}},legend:{enabled:!1},boost:{useGPUTranslations:!0},series:[{data:t,turboThreshold:0,color:"raga(255,255,255,0)",states:{hover:{enabled:!1}}}]});Y.push(n)},handleData:function(t){if(t.curveData){V={};var e=[],a=[];t.exceptionDatas||(t.exceptionDatas=[]),t.exceptionDatas.forEach((function(t){t.value=t.orgValue,t.log&&(t.logRemarks=t.log.remarks),e.push([t.dataTimestamp,1]),a.push({color:1==t.corrected?"#52c990":"#fc7775",width:2,value:t.dataTimestamp})}));var i=[];t.curveData.data=t.exceptionDatas.concat(t.curveData.data);for(var n=t.curveData.data.length;n--;){var r=t.curveData.data[n],s=r.dataDate||r.dataTimestamp,o=r.dataValue||r.orgValue;0==V[s]||V[s]||(r.dataTimestamp?i.unshift({x:s,y:o||null,isException:!0,corrected:r.corrected}):i.unshift([s,Number(o)]),V[s]=n)}i.sort((function(t,e){return(t[0]||t.x)-(e[0]||e.x)})),t.curveData.data=i,this.renderChart([t.curveData]);var l=JSON.stringify(t.exceptionDatas||[]);Q=JSON.parse(l),this.cacheListData=JSON.parse(l),this.currentPage=1,this.total=this.cacheListData.length,this.listData=this.cacheListData.slice(0,10),this.renderBarChart(e,a)}},getChartData:function(){var t=this;this.isShow=!1,this.loading=!0,this.listLoading=!0;var e={mpointId:this.chartParams.mpointId,beginDate:this.chartParams.beginDate,endDate:this.chartParams.endDate};this.$http.get(m.a.getCurveCompleteness,e).then((function(e){e&&(t.loading=!1,t.listLoading=!1,t.missingCount=e.missingCount||0,t.correctedCount=e.correctedCount||0,t.handleData(e))})).catch((function(){t.loading=!1,t.listLoading=!1}))},clearChart:function(){for(var t=document.querySelector("#integrityChart");t.firstChild;)t.removeChild(t.firstChild)},renderChart:function(t){Y=[];this.clearChart();var e=this.chartParams,a=t.length,i=this.chartConHeight/a,n=this.chartConWidth,s=document.querySelector("#integrityChart"),l=o.a.getPeriods(e);t.forEach((function(t,o){var c="C"+p.a.gusid(8),u=document.createElement("div"),d="",h="";t.gid=c,u.setAttribute("id",c),u.setAttribute("data-m-id",t.mpointId),u.style.height=i+"px",u.style.width=n+"px",u.style.position="relative",s.appendChild(u),Z.chart.height=i,d=null==t.siteName?"":"-"+t.siteName,t.unit&&(h=" "+t.unit),Z.yAxis.title.text=h;e.beginDate;var m=e.cycle;Z.xAxis.labels.enabled=o===a-1,Z.xAxis.max=l.max,Z.xAxis.min=l.min;var g=t.curveYaxisLowerRange,f=t.curveYaxisUpperRange;Z.yAxis.min=j(g),Z.yAxis.max=j(f);var v=JSON.stringify(t.data),y=Object.assign({},Z,{datetime:!1,yAxisZero:!0,series:[{type:"State"===t.datype?"line":"spline",name:t.mpointName+d,data:JSON.parse(v)||[],color:U[o],unit:h,lineWidth:1,cycle:m,mpointId:t.mpointId,turboThreshold:0}]}),b=r.a.chart(c,y);Y.push(b)}))},getInputList:function(t){var e=this;this.loadingByRecord=!0;var a={type:"incomplete",mpointId:this.chartParams.mpointId,beginDate:this.chartParams.beginDate,endDate:this.chartParams.endDate,currentPage:t||1,pageSize:10};this.$http.get(m.a.getCorrectionData,a).then((function(t){t&&(e.listDataByRecord=t.items,e.totalByRecord=t.total,e.loadingByRecord=!1)}))},saveInputData:function(){for(var t=this,e=[],a=0;a<this.cacheListData.length;a++){var i=this.cacheListData[a];(0==i.value||i.value||i.logRemarks)&&(Q[a].value==i.value&&Q[a].logRemarks==i.logRemarks||e.push(i))}if(0==e.length)return this.$Notice.warning({title:"提示",desc:"未补录任何数据",duration:3}),!1;this.$http.put(m.a.inputData,e).then((function(e){e&&(t.$Notice.success({title:"成功",desc:"数据保存成功",duration:3}),t.getChartData(),t.currentByRecord=1,t.getInputList()),t.loading=!1})).catch((function(){t.loading=!1}))},pageChange:function(t){this.listData=this.cacheListData.slice(10*(t-1),10*t)},pageChangeByRecord:function(t){this.getInputList(t)}}},K=(a(1109),Object(c.a)(G,W,[],!1,null,null,null));K.options.__file="src/views/data-quality/integrity.vue";var X=K.exports,tt=function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"data-quality-uniformity-curves"},[e("div",{staticClass:"curves-chart-container"},[this.loading?e("Spin",{attrs:{fix:""}}):this._e(),this._v(" "),e("div",{staticClass:"curves-chart",attrs:{id:"uniformityChart"}}),this._v(" "),e("div",{staticClass:"prograss-bar-wrap",attrs:{id:"uniformityBar"}})],1)])};tt._withStripped=!0;var et=[];function at(t){return""===t||null===t||Number.isNaN(Number(t))?null:Number(t)}function it(t){var e=this.chart,a=e.series[0].userOptions;"syncExtremes"!==t.trigger&&et.forEach((function(i){if(i!==e&&i.xAxis[0].setExtremes){var n=i.series[0].userOptions,r=n.cycle,s=t.max,l=t.min;a.year?(l=o.a.countDateByStep(l,1,"year",1),s=o.a.countDateByStep(s,1,"year",1),n.ring&&(l=o.a.countDateByStep(l,-1,r,1),s=o.a.countDateByStep(s,-1,r,1))):a.ring?(l=o.a.countDateByStep(l,1,r,1),s=o.a.countDateByStep(s,1,r,1),n.year&&(l=o.a.countDateByStep(l,-1,"year",1),s=o.a.countDateByStep(s,-1,"year",1))):n.ring?(l=o.a.countDateByStep(l,-1,r,1),s=o.a.countDateByStep(s,-1,r,1)):n.year&&(l=o.a.countDateByStep(l,-1,"year",1),s=o.a.countDateByStep(s,-1,"year",1)),isNaN(l)&&(l=s=void 0),i.xAxis[0].setExtremes(l,s,void 0,!1,{trigger:"syncExtremes"})}}))}var nt=["#2D73C5","#285C5C","#F5967D","#41E741","#B8860B","#12B4AB","#FAE919","#00BFFF"],rt={noData:{style:{fontWeight:"normal",fontSize:"13px",color:"#A1A1A1"}},credits:{enabled:!1},title:{text:null},legend:{margin:0,symbolHeight:10},chart:{marginLeft:50,type:"spline",spacingBottom:0,zoomType:"x",selectionMarkerFill:"rgba(0,0,0, 0.2)",resetZoomButton:{position:{align:"right",verticalAlign:"top",x:0,y:0},theme:{fill:"white",stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},plotOptions:{series:{animation:!1,events:{mouseOver:function(){},mouseOut:function(){}}},spline:{marker:{enabled:!1},stickyTracking:!1},line:{step:!0,marker:{enabled:!1}}},tooltip:{borderColor:"#f8f8f8",backgroundColor:"#f8f9fb",borderWidth:0,useHTML:!0,formatter:function(){return"<div class='integrity-tooltip-wrap'><div style='color:#838A95'>"+p.a.F(this.x,"yyyy-MM-dd hh:mm:ss")+"</div><div style='color:#576374'>"+this.series.name+":<b>"+this.y+this.series.userOptions.unit+"</b></div></div>"},pointFormat:"{point.y}",xDateFormat:"%Y-%m-%d %H:%M:%S"},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%e",week:"%m-%e",month:"%Y-%m",year:"%Y"},crosshair:!0,events:{setExtremes:it},labels:{},tickLength:3},yAxis:{title:{align:"high",offset:0,text:"",rotation:0,y:0,x:50,style:{color:"#000000"}},maxPadding:0,minPadding:0,gridLineWidth:1,lineWidth:1,labels:{x:-5}},series:[]};b()(r.a),C()(r.a),v.default.use(k.a),r.a.Pointer.prototype.reset=function(){},r.a.Point.prototype.highlight=function(t){this.onMouseOver(),this.series.chart.tooltip.refresh(this),this.series.chart.xAxis[0].drawCrosshair(t,this)},r.a.setOptions({global:{useUTC:!1},lang:{loading:"载入中...",resetZoom:"取消放大",resetZoomTitle:"取消放大",shortMonths:["01","02","03","04","05","06","07","08","09","10","11","12"],noData:"暂无数据",thousandsSep:","}});var st={name:"uniformity-curve",components:{},props:{chartParams:Object},data:function(){return{toolTipContent:"",showTooltip:!1,toolTipLeft:0,loading:!1,chartConHeight:"",chartConWidth:"",uniformityData:[]}},created:function(){},mounted:function(){var t=document.querySelector("#uniformityChart");this.chartConWidth=1220,this.chartConHeight=480,t.addEventListener("mousemove",(function(t){var e,a;for(a=0;a<et.length;a++)(e=et[a].series[0].searchPoint(t,!0))&&e.highlight(t)})),document.querySelector("#uniformityBar").addEventListener("mousemove",(function(t){var e,a;for(a=0;a<et.length;a++)(e=et[a].series[0].searchPoint(t,!0))&&e.highlight(t)}))},methods:{renderBarChart:function(t,e){var a=o.a.getPeriods(this.chartParams),i=r.a.chart("uniformityBar",{lang:{loading:"载入中...",noData:"",thousandsSep:","},plotOptions:{spline:{marker:{enabled:!1},stickyTracking:!1},line:{step:!0,marker:{enabled:!1}}},credits:{enabled:!1},title:{text:""},chart:{type:"spline",plotBackgroundColor:"#f8f9fb",marginLeft:50,marginTop:36,marginBottom:30,spacingBottom:0},tooltip:{borderColor:"#f8f8f8",backgroundColor:"#f8f9fb",borderWidth:0,useHTML:!0,formatter:function(t){return'<div style="width:300px;"><p>违反一致性校验规则</p><p style="white-space:normal;word-break: break-all;">'+this.point.remarks+"</p></div>"}},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%e",week:"%m-%e",month:"%Y-%m",year:"%Y"},minPadding:0,max:a.max,min:a.min,crosshair:!1,events:{setExtremes:it},labels:{style:{color:"rgba(255,255,255,0)"}},lineWidth:0,tickLength:0,plotLines:e},yAxis:{max:1,min:0,title:{align:"high",offset:0,text:"",rotation:0,y:0,x:50,style:{color:"#000000"}},maxPadding:0,minPadding:0,gridLineWidth:0,lineWidth:0,labels:{x:-5,style:{color:"rgba(255,255,255,0)"}}},legend:{enabled:!1},boost:{useGPUTranslations:!0},series:[{data:t,turboThreshold:0,color:"raga(255,255,255,0)",states:{hover:{enabled:!1}}}]});et.push(i)},handleData:function(t){var e=t.exceptionDatas||[];if(t.curveData){for(var a=[],i=[],n=e.length;n--;){var r=e[n],s=r.dataTimestamp;a.push({x:s,y:1,remarks:r.remarks||""}),i.push({color:"#fc7775",width:2,value:s})}this.renderChart(t.curveData),this.renderBarChart(a,i)}},getChartData:function(){var t=this;this.showTooltip=!1,this.loading=!0;var e={id:this.chartParams.id,beginDate:this.chartParams.beginDate,endDate:this.chartParams.endDate};this.$http.get(m.a.getCurveConsistency,e).then((function(e){e&&t.handleData(e),t.loading=!1})).catch((function(){t.loading=!1}))},clearChart:function(){for(var t=document.querySelector("#uniformityChart");t.firstChild;)t.removeChild(t.firstChild)},renderChart:function(t){et=[];this.clearChart();var e=this.chartParams,a=t.length,i=this.chartConHeight/a,n=this.chartConWidth,s=document.querySelector("#uniformityChart"),l=o.a.getPeriods(e);t.forEach((function(t,o){var c="C"+p.a.gusid(8),u=document.createElement("div"),d="",h="";t.gid=c,u.setAttribute("id",c),u.setAttribute("data-m-id",t.mpointId),u.style.height=i+"px",u.style.width=n+"px",u.style.position="relative",s.appendChild(u),rt.chart.height=i,d=null==t.siteName?"":"-"+t.siteName,t.unit&&(h=" "+t.unit),rt.yAxis.title.text=h;e.beginDate;var m=e.cycle;rt.xAxis.labels.enabled=o===a-1,rt.xAxis.max=l.max,rt.xAxis.min=l.min;var g=t.curveYaxisLowerRange,f=t.curveYaxisUpperRange;rt.yAxis.min=at(g),rt.yAxis.max=at(f);var v=function(t){var e=[];return t?(t.forEach((function(t){e.push([t.dataDate,Number(t.dataValue)])})),e):e}(t.data),y=Object.assign({},rt,{datetime:!1,yAxisZero:!0,series:[{type:"State"===t.datype?"line":"spline",name:t.mpointName+d,data:v,color:nt[o],unit:h,lineWidth:1,cycle:m,mpointId:t.mpointId,turboThreshold:0}]}),b=r.a.chart(c,y);et.push(b)}))}}},ot=(a(1111),Object(c.a)(st,tt,[],!1,null,null,null));ot.options.__file="src/views/data-quality/uniformity.vue";var lt=ot.exports,ct={name:"data-quality-statistics",components:{dataQualityDateStep:d,dropdownTree:h.a,dataQualityCurve:E,accuracyCurve:z,integrityCurve:X,uniformityCurve:lt},data:function(){var t=this;return{standardInfo:{"准确性":{},"完整性":{},"及时性":{},"一致性":{}},standardInfoDialog:{x:0,y:0,content:""},evaluateMap:{4:"excellent",3:"good",2:"medium",1:"bad"},dateEditable:!1,dateClearable:!1,date:o.a.midnight((new Date).getTime()-864e5)+"#day",treeApi:g.a,site:{id:"",title:"请选择"},searchParams:{siteId:null,beginDate:p.a.transDateFromLocale(o.a.midnight((new Date).getTime()-864e5)),endDate:p.a.transDateFromLocale(o.a.midnight(new Date))},statisticsInfo:{},reCalcLoading:!1,columns:[{type:"selection",width:40},{title:"序号",type:"index",width:50},{title:" ",width:110,key:"",render:function(e,a){var i=[e("span",{attrs:{title:"总体评价",class:(t.evaluateMap[a.row.overallEvaluLevel]||"")+" evaluate-result"}},a.row.overallEvalu),e("a",{attrs:{title:"查看曲线",class:"c-icon-chart",style:"vertical-align:middle"},on:{click:function(){t.routerToChart(a.row.mpointId)}}})];return a.row.recaled?i.unshift(e("span",{attrs:{title:"重算",class:"recalculation"}})):i.unshift(e("span",{attrs:{style:"display: inline-block; width: 24px;height: 24px;"}})),i}},{title:"测点名称",key:"mpointName"},{title:"区域位置",key:"siteName"},{title:"数据量",align:"center",key:"mpointQuantity",width:100,render:function(t,e){return t("span",{attrs:{title:e.row.mpointQuantity},style:{color:"#739AFB"}},e.row.mpointQuantity||"-")}},{title:"准确性",align:"center",key:"accuracy",width:100,render:function(e,a){return 0==a.row.accuracy||a.row.accuracy?e("a",{attrs:{title:a.row.accuracy+"%",class:t.evaluateMap[a.row.accuracyLevelNum]+"-card"},on:{click:function(){t.routerToAccuracyChart(a.row.mpointId,a.row.id)}}},a.row.accuracy+"%"):e("span","-")}},{title:"完整性",align:"center",key:"completeness",width:100,render:function(e,a){return 0==a.row.completeness||a.row.completeness?e("a",{attrs:{title:a.row.completeness+"%",class:t.evaluateMap[a.row.completenessLevelNum]+"-card"},on:{click:function(){t.routerToIntegrityChart(a.row.mpointId,a.row.id)}}},a.row.completeness+"%"):e("span","-")}},{title:"及时性",align:"center",key:"timeliness",width:100,render:function(e,a){return 0==a.row.timeliness||a.row.timeliness?e("div",{attrs:{style:"cursor: default",title:a.row.timeliness+"s",class:t.evaluateMap[a.row.timelinessLevelNum]+"-card"}},[e("span",{attrs:{style:"width: 40px;display: inline-block",title:a.row.timeliness+"s",class:"ell"}},a.row.timeliness+"s")]):e("span","-")}},{title:"一致性",align:"center",key:"consistency",width:80,render:function(e,a){return 0==a.row.consistency||a.row.consistency?e("a",{attrs:{title:a.row.consistency+"%",class:t.evaluateMap[a.row.consistencyLevelNum]+"-card"},on:{click:function(){t.routerToUniformityChart(a.row.mpointId,a.row.id)}}},a.row.consistency+"%"):e("span","-")}},{title:"所属设备",key:"equName",width:100},{title:"统计时间",key:"calcTime",width:110,render:function(t,e){return p.a.tableDatetime(t,e.row.calcTime)}}],listData:[],loading:!1,total:0,selectedTemp:[],chartParams:{mpointId:"",beginDate:p.a.transDateFromLocale(o.a.midnight((new Date).getTime()-864e5)),endDate:p.a.transDateFromLocale(o.a.midnight(new Date)),cycle:"day"},showCurveModal:!1,curvePointId:"",showAccuracyCurveModal:!1,showIntegrityCurveModal:!1,showUniformityCurveModal:!1}},created:function(){p.a.initTableColumnTitle(this.columns),this.getData(),this.getStatisticsInfo(),this.renderTrendChart(),this.getStandardData()},mounted:function(){},methods:{showStandardInfo:function(t,e){this.standardInfoDialog.x=t.x+10,this.standardInfoDialog.y=t.y-54;var a=this.standardInfo[e];this.standardInfoDialog.content="及时性"==e?"<p>"+e+"</p><p>优：≤ "+a["优"]+"s</p> <p>良：≤ "+a["良"]+"s</p> <p>中：≤ "+a["中"]+"s</p> <p>差：> "+a["差"]+"s</p>":"<p>"+e+"</p><p>优：≥ "+a["优"]+"%</p> <p>良：≥ "+a["良"]+"%</p> <p>中：≥ "+a["中"]+"%</p> <p>差：< "+a["差"]+"%</p>",document.getElementById("standardInfoDialog").style.display="block"},hideStandardInfo:function(){document.getElementById("standardInfoDialog").style.display="none"},getStandardData:function(){var t=this;this.$http.get(m.a.getStandard).then((function(e){if(e){var a={1:"差",2:"中",3:"良",4:"优"};e.forEach((function(e){var i=a[e.level];t.standardInfo["准确性"][i]=e.accuracy,t.standardInfo["完整性"][i]=e.completeness,t.standardInfo["及时性"][i]=e.timeliness,t.standardInfo["一致性"][i]=e.consistency}))}}))},getData:function(){var t=this;this.loading=!0,this.$http.get(m.a.getStatisticsList,this.searchParams).then((function(e){e&&(t.listData=e,t.loading=!1,t.checkSelection())}))},getStatisticsInfo:function(){var t=this;this.$http.get(m.a.getStatisticsInfo,this.searchParams).then((function(e){if(e){t.statisticsInfo=e;r.a.chart("sampleChart",{chart:{backgroundColor:"#f1f3f8",spacing:[0,0,0,0]},credits:{enabled:!1},title:{floating:!0,text:"",style:{color:"#F0A33F",fontWeight:"bold",fontSize:"12px"}},tooltip:{enabled:!1},plotOptions:{series:{enableMouseTracking:!1},pie:{allowPointSelect:!0,slicedOffset:2,cursor:"pointer",colors:["#4B7EFE","#F0A33F"],dataLabels:{enabled:!1}}},series:[{type:"pie",size:"90%",innerSize:"80%",name:"",states:{hover:{enabled:!1}},data:[["样本总数",e.totalSample-e.calcedSample],["样本数",e.calcedSample]]}]},(function(t){var a=t.series[0].center[1],i=parseInt(t.title.styles.fontSize);t.setTitle({y:a+i/2,text:(Number(e.samplePercentage).toFixed(2)||"")+"%"})}))}}))},renderTrendChart:function(){this.$http.get(m.a.getTrend,{siteId:this.searchParams.siteId}).then((function(t){if(t&&t.length)r.a.chart("totalEvaluateChart",{chart:{type:"line",backgroundColor:"#f1f3f8",spacing:[0,0,0,0],margin:[0,0,0,0]},title:{text:""},yAxis:{visible:!1,min:0},xAxis:{visible:!1},credits:{enabled:!1},plotOptions:{series:{enableMouseTracking:!1,connectNulls:!0},area:{fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"rgba(218,231,255,1)"],[1,"rgba(218,231,255,0)"]]},lineWidth:1,states:{hover:{lineWidth:1}},threshold:null,marker:{enabled:!1}}},tooltip:{enabled:!1},legend:{enabled:!1},series:[{type:"area",name:"",data:t}]})}))},search:function(){this.selectedTemp=[],this.searchParams.siteId=this.site.id,this.getData(),this.getStatisticsInfo(),this.renderTrendChart()},searchParamsClean:function(){this.$refs.dateStep.resetDate(),this.site={id:"",title:"请选择"};var t=p.a.transDateFromLocale(o.a.midnight((new Date).getTime()-864e5)),e=p.a.transDateFromLocale(o.a.midnight(new Date));this.date=o.a.midnight((new Date).getTime()-864e5)+"#day",this.searchParams={siteId:null,beginDate:t,endDate:e},this.chartParams={cycle:"day",mpointId:"",beginDate:t,endDate:e}},onSelect:function(t,e){var a=this.selectedTemp;this.max&&a.length>=this.max?(this.$Notice.info({title:"最多选择"+this.max+"个"}),this.cancelChecked(e.id)):this.selectedTemp.push(e)},onSelectCancel:function(t,e){var a=this;this.selectedTemp.forEach((function(t,i){t.id==e.id&&a.selectedTemp.splice(i,1)}))},onSelectAll:function(t){t.length==this.listData.length?this.addTableToTemp(t):0==t.length&&this.removeTableFromTemp(this.listData)},addTableToTemp:function(t){var e=this.selectedTemp;t.forEach((function(t){var a=!1;e.forEach((function(e,i){e.id==t.id&&(a=!0)})),a||e.push(t)}))},removeTableFromTemp:function(t){for(var e=this.selectedTemp,a=e.length;a--;){var i=!1;t.forEach((function(t){t.id==e[a].id&&(i=!0)})),i&&e.splice(a,1)}},cancelChecked:function(t){var e=this;this.checkSelection();var a=this.selectedTemp,i=[];a.forEach((function(a){a.id==t&&e.$set(a,"_checked",!1),i.push(a)})),this.selectedTemp=i},checkSelection:function(){var t=this;this.$nextTick((function(){var e=t.listData,a=t.selectedTemp,i=t.$refs.dataQualityTable;e.forEach((function(t,e){var n=i.$refs.tbody.objData[e];n._isChecked=!1,a.forEach((function(e){e.id==t.id&&(n._isChecked=!0)}))}))}))},routerToChart:function(t,e){this.showCurveModal=!0,this.chartParams.mpointId=t,this.$refs.dataQualityCurve.getChartData()},routerToAccuracyChart:function(t,e){this.showAccuracyCurveModal=!0,this.chartParams.mpointId=t,this.chartParams.id=e,this.$refs.accuracyCurve.getChartData(),this.$refs.accuracyCurve.listDataByRecord=[],this.$refs.accuracyCurve.totalByRecord=0,this.$refs.accuracyCurve.currentByRecord=1,this.$refs.accuracyCurve.currentTab="",this.$refs.accuracyCurve.getCorrectionList()},routerToIntegrityChart:function(t,e){this.showIntegrityCurveModal=!0,this.chartParams.mpointId=t,this.chartParams.id=e,this.$refs.integrityCurve.getChartData(),this.$refs.integrityCurve.listDataByRecord=[],this.$refs.integrityCurve.totalByRecord=0,this.$refs.integrityCurve.currentByRecord=1,this.$refs.integrityCurve.getInputList()},routerToUniformityChart:function(t,e){this.showUniformityCurveModal=!0,this.chartParams.mpointId=t,this.chartParams.id=e,this.$refs.uniformityCurve.getChartData()},routerTolog:function(){this.$router.push({name:"data-quality-log"})},reCalc:function(){var t=this;if(this.selectedTemp.length){this.reCalcLoading=!0;var e=[];this.selectedTemp.forEach((function(a){e.push({configId:a.id,endDate:t.searchParams.endDate,mpointId:a.mpointId,startDate:t.searchParams.beginDate})})),this.$http.post(m.a.recalcData,e).then((function(e){e&&(t.$Notice.success({title:"成功",desc:"重新计算成功",duration:3}),t.selectedTemp=[],t.search()),t.reCalcLoading=!1})).catch((function(e){t.reCalcLoading=!1}))}else this.$Notice.warning({title:"提示",desc:"请选择至少一个测点",duration:3})},timeRangeChange:function(t){"day"==t.step&&(this.$refs.dateStep.startDate=o.a.midnight((new Date).getTime()-864e5));var e=o.a.midnight(new Date);t.date==e&&(this.$refs.dateStep.startDate=o.a.countDateByStep(t.date,-1,t.step))},dateStepChange:function(t){var e={beginDate:p.a.transDateFromLocale(t.date),endDate:null},a=new Date(t.date);"day"==t.step&&(e.endDate=p.a.transDateFromLocale(new Date(a.setDate(a.getDate()+1)))),"week"==t.step&&(e.endDate=p.a.transDateFromLocale(new Date(a.getTime()+6048e5))),"month"==t.step&&(e.endDate=p.a.transDateFromLocale(new Date(a.setMonth(a.getMonth()+1)))),"year"==t.step&&(e.endDate=p.a.transDateFromLocale(new Date(a.setFullYear(a.getFullYear()+1)))),this.chartParams.cycle=t.step,this.chartParams=Object.assign({},this.chartParams,e),this.searchParams=Object.assign({},this.searchParams,e),this.selectedTemp=[],this.getData(),this.getStatisticsInfo()}}},ut=(a(1113),Object(c.a)(ct,i,[],!1,null,null,null));ut.options.__file="src/views/data-quality/statistics.vue";e.default=ut.exports},517:function(t,e,a){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n={F:function(t,e){if(!t)return"";"object"!=i(t)&&(t=new Date(t)),e=e||"yyyy-MM-dd";var a=t.getFullYear().toString(),n={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};for(var r in e=e.replace(/(y+)/gi,(function(t,e){return a.substr(4-Math.min(4,e.length))})),n)e=e.replace(new RegExp("("+r+"+)","g"),(function(t,e){return n[r]<10&&e.length>1?"0"+n[r]:n[r]}));return e},str2Date:function(t){if(t)return"object"!=i(t)?new Date(t):t},firstDayByWeek:function(t){var e=n.str2Date(t)||new Date,a=e.getDay(),i=(0==a?7:a)-1;return n.midnight(new Date(e.getTime()-24*i*60*60*1e3))},firstDayByMonth:function(t){var e=n.str2Date(t)||new Date;return n.midnight(new Date(e.getFullYear(),e.getMonth(),1))},firstDayByYear:function(t){var e=n.str2Date(t)||new Date;return n.midnight(new Date(e.getFullYear(),0,1))},countDateByStep:function(t,e,a,i){t=n.formatePolyfill(t);var r,s=n.str2Date(t)||new Date(t),o=s.getTime(),l=(new Date).getTime();switch(a){case"day":r=o+864e5*e;break;case"week":r=o+6048e5*e;break;case"month":r=new Date(s.getFullYear(),s.getMonth()+e,s.getDate()).getTime(),i&&(r=new Date(s.getFullYear(),s.getMonth()+e,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()).getTime());break;case"year":r=new Date(s.getFullYear()+e,s.getMonth(),s.getDate()).getTime(),i&&(r=new Date(s.getFullYear()+e,s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds()).getTime())}return r>l&&(r=l),i?r:n.midnight(r)},midnight:function(t){return t?n.F(t)+" 00:00:00":""},beforeMidnight:function(t){return t?n.F(t)+" 23:59:59":""},midnightMill:function(t){var e=n.str2Date(t)||new Date;return new Date(n.midnight(e)).getTime()},chain:function(t,e){return n.countDateByStep(t,-1,e)},yearOFyear:function(t){return n.countDateByStep(t,-1,"year")},getPeriods:function(t){var e,a=t.beginDate,i=new Date(n.formatePolyfill(a)),r=i.getTime();switch(t.cycle){case"day":e=r+864e5;break;case"week":e=r+6048e5;break;case"month":e=new Date(i.getFullYear(),i.getMonth()+1,i.getDate(),0,0,0).getTime();break;case"year":e=new Date(i.getFullYear()+1,i.getMonth(),i.getDate(),0,0,0).getTime()}return{min:r,max:new Date(e).getTime()}},formatePolyfill:function(t){return"string"!=typeof t?t:("string"==typeof t&&0==/[TZ]/.test(t)&&(t=t.replace(/-/g,"/")),t)},getTerminalsByMonth:function(t,e){var a,i;return 0==e?(a=new Date(t,0,1,0,0,0),i=new Date(t,11,31,23,59,59)):(a=new Date(t,e-1,1,0,0,0),i=new Date(t,e,0,23,59,59)),{start:a,end:i}},transDateFromServer:function(t,e){return t?("string"==typeof t&&0==/[TZ]/.test(t)&&(t=t.replace(/-/g,"/")),n.F(t,e||"yyyy-MM-dd hh:mm")):""},transDateFromLocale:function(t){return t?("string"==typeof t&&(0==/[TZ]/.test(t)&&(t=t.replace(/-/g,"/")),t=new Date(t)),t.toISOString()):""},strToData:function(t){var e=t.split(" ")[0].split("-"),a=[];return void 0!==t.split(" ")[1]&&(a=t.split(" ")[1].split(":")),new Date(e[0],e[1]-1,e[2],null!==a[0]?a[0]:0,null!==a[1]?a[1]:0,null!==a[2]?a[2]:0)}};e.a=n},538:function(t,e,a){t.exports=function(t){function e(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,a){"use strict";e.b=function(){var t=document.documentElement;return"requestFullscreen"in t||"mozRequestFullScreen"in t&&document.mozFullScreenEnabled||"msRequestFullscreen"in t&&document.msFullscreenEnabled||"webkitRequestFullScreen"in t},e.c=function(){return!!(document.fullscreen||document.mozFullScreen||document.fullscreenElement||document.msFullscreenElement||document.webkitIsFullScreen)},e.g=function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():console.log("Fullscreen API is not supported.")},e.d=function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.log("Fullscreen API is not supported.")},e.f=function(t){document.addEventListener("fullscreenchange",t),document.addEventListener("mozfullscreenchange",t),document.addEventListener("MSFullscreenChange",t),document.addEventListener("webkitfullscreenchange",t)},e.e=function(t){document.removeEventListener("fullscreenchange",t),document.removeEventListener("mozfullscreenchange",t),document.removeEventListener("MSFullscreenChange",t),document.removeEventListener("webkitfullscreenchange",t)},e.a=function t(){var e={},a=!1,i=0,n=arguments.length;for("[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(a=arguments[0],i++);i<n;i++)!function(i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a&&"[object Object]"===Object.prototype.toString.call(i[n])?e[n]=t(!0,e[n],i[n]):e[n]=i[n])}(arguments[i]);return e}},function(t,e,a){"use strict";function i(){return a.i(s.c)()}function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,e=arguments[1];if(l&&!i()){e=a.i(s.a)(!0,{},o,e);var n=t,r=void 0;e.wrap&&((r=document.createElement("div")).style["overflow-y"]="auto",r.style.background=e.background,r.style.width="100%",r.style.height="100%",n.parentNode.insertBefore(r,n),r.appendChild(n),r.addEventListener("click",(function(t){t.target===this&&a.i(s.d)()}))),n.classList.add(e.fullscreenClass),a.i(s.f)((function t(){var o=i();o||(a.i(s.e)(t),n.classList.remove(e.fullscreenClass),e.wrap&&(r.parentNode.insertBefore(n,r),r.parentNode.removeChild(r))),e.callback&&e.callback(o)})),a.i(s.g)(e.wrap?r:n)}}function r(){l&&i()&&a.i(s.d)()}var s=a(0),o={wrap:!0,background:"#333",callback:function(){},fullscreenClass:"fullscreen"},l=a.i(s.b)();e.a={getState:i,toggle:function(t,e,a){l&&(void 0===a?i()?r():n(t,e):a?n(t,e):r())},enter:n,exit:r}},function(t,e,a){var i=a(5)(a(4),a(6),null,null);t.exports=i.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(2),n=a.n(i),r=a(1),s=a(0);e.default={install:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.name||"fullscreen";t.component(i,a.i(s.a)(n.a,{name:i})),t.prototype["$"+i]=r.a}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(0);e.default={props:{background:{type:String,default:"#333"},fullscreenClass:{type:String,default:"fullscreen"},fullscreen:{type:Boolean,default:!1}},data:function(){return{supportFullScreen:!1,isFullscreen:!1}},computed:{wrapperStyle:function(){return{background:this.background,"overflow-y":"auto",width:"100%",height:"100%"}}},methods:{toggle:function(t){void 0===t?a.i(i.c)()?this.exit():this.enter():t?this.enter():this.exit()},enter:function(){this.supportFullScreen&&(a.i(i.f)(this.fullScreenCallback),a.i(i.g)(this.$el))},exit:function(){this.supportFullScreen&&this.getState()&&a.i(i.d)()},getState:function(){return a.i(i.c)()},shadeClick:function(t){t.target===this.$el&&this.exit()},fullScreenCallback:function(){this.isFullscreen=a.i(i.c)(),this.isFullscreen||a.i(i.e)(this.fullScreenCallback),this.$emit("change",this.isFullscreen),this.$emit("update:fullscreen",this.isFullscreen)}},watch:{fullscreen:function(t){t!==a.i(i.c)()&&(t?this.enter():this.exit())}},created:function(){this.supportFullScreen=a.i(i.b)()}}},function(t,e){t.exports=function(t,e,a,i){var n,r=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(n=t,r=t.default);var o="function"==typeof r?r.options:r;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),i){var l=Object.create(o.computed||null);Object.keys(i).forEach((function(t){var e=i[t];l[t]=function(){return e}})),o.computed=l}return{esModule:n,exports:r,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.isFullscreen?[t.fullscreenClass]:[],style:t.isFullscreen?[t.wrapperStyle]:[],on:{click:function(e){t.shadeClick(e)}}},[t._t("default")],2)},staticRenderFns:[]}}])},545:function(t,e,a){"use strict";a(22);e.a={getList:"/loong/api/data-quality/config",addConfig:"/loong/api/data-quality/config",updateConfig:"/loong/api/data-quality/config",deleteConfig:"/loong/api/data-quality/config",getDetal:"/loong/api/data-quality/config",getExceptionProcess:"/loong/api/data-quality/exception-process",recalcData:"/loong/api/data-quality/recalc",getRecalcList:"/loong/api/data-quality/recalc",getStatisticsInfo:"/loong/api/data-quality/statistics",getStatisticsList:"/loong/api/data-quality/statistics-list",getTrend:"/loong/api/data-quality/trend",getCurveData:"/loong/api/data-quality/curve",getCurveAccuracy:"/loong/api/data-quality/curve-accuracy",getCurveAccuracyBefore:"/loong/api/data-quality/curve-before",correctionData:"/loong/api/data-quality/correction",getCorrectionData:"/loong/api/data-quality/correction",getCurveCompleteness:"/loong/api/data-quality/curve-completeness",inputData:"/loong/api/data-quality/input",getCurveConsistency:"/loong/api/data-quality/curve-consistency",getStandard:"/loong/api/data-quality/standard",updateStandard:"/loong/api/data-quality/standard",updateToDefault:"/loong/api/data-quality/standard-to-default",getCompletenessException:"/loong/api/data-quality/completeness-exception",getconfigedMpointIds:"/loong/api/data-quality/configed-mpointIds"}},599:function(t,e,a){"use strict";a.d(e,"a",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return o}));var i=a(517),n=["#2D73C5","#285C5C","#F5967D","#41E741","#B8860B","#12B4AB","#FAE919","#00BFFF"];function r(){return{noData:{style:{fontWeight:"normal",fontSize:"13px",color:"#A1A1A1"}},credits:{enabled:!1},title:{text:null},legend:{margin:0,symbolHeight:10},chart:{marginLeft:50,type:"spline",spacingBottom:0,zoomType:"x",selectionMarkerFill:"rgba(0,0,0, 0.2)",resetZoomButton:{position:{align:"right",verticalAlign:"top",x:0,y:0},theme:{fill:"white",stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},plotOptions:{series:{animation:!1,cursor:"pointer",point:{events:{}}},spline:{marker:{enabled:!1}},line:{step:!0,marker:{enabled:!1}}},tooltip:{style:{width:"200px"},formatter:function(){return"<div>"+i.a.F(this.x,"yyyy-MM-dd hh:mm:ss")+"</div><br/><div>"+this.series.name+":<b>"+this.y+this.series.userOptions.unit+"</b></div>"},pointFormat:"{point.y}",xDateFormat:"%Y-%m-%d %H:%M:%S"},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%e",week:"%m-%e",month:"%Y-%m",year:"%Y"},crosshair:!0,events:{},labels:{},tickLength:3},yAxis:{title:{align:"high",offset:0,text:"",rotation:0,y:0,x:50,style:{color:"#000000"}},maxPadding:0,minPadding:0,gridLineWidth:1,lineWidth:1,labels:{x:-5}},series:[]}}var s={colors:n,noData:{style:{fontWeight:"normal",fontSize:"13px",color:"#A1A1A1"}},credits:{enabled:!1},title:{text:null},legend:{margin:0,symbolHeight:10},chart:{type:"spline",spacingBottom:0,zoomType:"x",selectionMarkerFill:"rgba(0,0,0, 0.2)",resetZoomButton:{position:{align:"right",verticalAlign:"top",x:0,y:0},theme:{fill:"white",stroke:"silver",r:0,states:{hover:{fill:"#41739D",style:{color:"white"}}}}}},plotOptions:{series:{animation:!1},spline:{marker:{enabled:!1}},line:{step:!0,marker:{enabled:!1}}},tooltip:{shared:!0,formatter:function(){var t=this.points,e="<div>"+i.a.F(this.x,"yyyy-MM-dd hh:mm:ss")+"</div><br />";return t.forEach((function(t){e+='<div style="color:'+t.color+'">'+t.series.name+":<b>"+t.y+(t.series.userOptions.unit||"")+"</b></div><br />"})),e},pointFormat:"{point.y}",xDateFormat:"%Y-%m-%d %H:%M:%S"},xAxis:{type:"datetime",dateTimeLabelFormats:{millisecond:"%H:%M:%S",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%m-%e",week:"%m-%e",month:"%Y-%m",year:"%Y"},labels:{},tickLength:3},yAxis:{title:{align:"high",offset:0,text:"",rotation:0,y:0,x:50,style:{color:"#000000"}},maxPadding:0,minPadding:0,gridLineWidth:1,lineWidth:1,labels:{x:-5}},series:[]};function o(t){var e=[];return t?(t.forEach((function(t){e.push({x:t.dataDate,y:Number(t.dataValue),mark:t.remark,marked:!!t.remark,mkid:t.id})})),e):e}},765:function(t,e,a){var i=a(1104);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(17).default)("125472aa",i,!1,{})},766:function(t,e,a){var i=a(1106);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(17).default)("279fcf1f",i,!1,{})},767:function(t,e,a){var i=a(1108);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(17).default)("cbf524ea",i,!1,{})},768:function(t,e,a){var i=a(1110);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(17).default)("8a14174a",i,!1,{})},769:function(t,e,a){var i=a(1112);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(17).default)("1a48dd2b",i,!1,{})},770:function(t,e,a){var i=a(1114);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,a(17).default)("2cc2011f",i,!1,{})},786:function(t,e,a){t.exports=a.p+"images/1b705900fff142c248850cdda778cb57.png"},787:function(t,e,a){t.exports=a.p+"images/4fb729833b8d5e77013ef4c4234589f6.png"},791:function(t,e,a){t.exports=a.p+"images/1fd77dce73048754fc96804466e6af91.png"}}]);