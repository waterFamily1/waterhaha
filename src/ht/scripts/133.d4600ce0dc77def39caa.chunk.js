(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{1067:function(e,t,a){"use strict";var i=a(756);a.n(i).a},1068:function(e,t,a){(t=a(10)(!1)).push([e.i,"\n.temnal_online{color: #47c93d;}\n.temnal_offline{color: #8190a5;}\n.temnal_not_config{color: #f9a10f;}\t\r\n",""]),e.exports=t},1190:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"c-main-border"},[a("div",{staticClass:"c-left-border-blue"},[a("div",{staticClass:"c-search-main"},[a("div",{staticClass:"c-form-item"},[a("label",[e._v("关键字：")]),e._v(" "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"编号/名称/终端号"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.searchParams.queryName,callback:function(t){e.$set(e.searchParams,"queryName",t)},expression:"searchParams.queryName"}})],1),e._v(" "),a("div",{staticClass:"c-form-item"},[a("label",[e._v("区域位置：")]),e._v(" "),a("dropdown-tree",{attrs:{url:e.processTreeApi,multiple:!0,width:200},on:{"on-change":e.processChange},model:{value:e.relProcess,callback:function(t){e.relProcess=t},expression:"relProcess"}})],1),e._v(" "),a("div",{staticClass:"c-adv-search-btn"},[a("Button",{attrs:{type:"primary",shape:"circle"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("Button",{staticClass:"c-btn-reset",attrs:{type:"primary",shape:"circle"},on:{click:e.searchParamsClean}},[e._v("重置")])],1)])]),e._v(" "),a("div",{staticClass:"c-top-border-gray"},[a("div",{staticClass:"c-table-top-btns"},[a("Button",{staticClass:"c-btn-add",attrs:{type:"primary",shape:"circle"},on:{click:e.addNew}},[e._v("新建")]),e._v(" "),a("Button",{staticClass:"c-btn-add",attrs:{type:"primary",shape:"circle"},on:{click:e.del}},[e._v("删除")])],1),e._v(" "),a("Table",{attrs:{columns:e.columns,data:e.listData,loading:e.loading,stripe:""},on:{"on-selection-change":e.getSelect}}),e._v(" "),a("Page",{staticClass:"table-page",attrs:{total:e.total,"page-size":e.searchParams.pageSize,current:e.searchParams.currentPage,"show-total":"","show-elevator":""},on:{"on-change":e.pageChange}})],1)])};i._withStripped=!0;var n=a(11),s=a(532),r=a(107),o=a(145),l={ONLINE:"在线",OFFLINE:"离线",NOT_CONFIG:"未配置"},c={components:{dropdownTree:o.a},data:function(){var e=this;return{relProcess:{id:"",title:"请选择"},processTreeApi:r.a.getProcessTreeData,network:{1:"有线",2:"2G",3:"3G",4:"4G",5:"5G"},searchParams:{queryName:"",processIds:"",pageSize:10,currentPage:1},columns:[{type:"selection",width:50},{title:"终端名称",key:"terminalName"},{title:"设备编号",key:"equNo"},{title:"型号",key:"model"},{title:"区域位置",key:"processName"},{title:"协议解析方法",key:"parseMethodName",width:150},{title:"网络方式",key:"network",width:90,render:function(t,a){return t("span",e.network[a.row.network])}},{title:"SIM卡剩余流量",key:"left_flow",width:130,render:function(e,t){if(t.row.left_flow)return e("span",t.row.left_flow+"%")}},{title:"在线状态",key:"online_state",width:90,render:function(e,t){return e("span",{class:"temnal_"+t.row.online_state.toLowerCase()},l[t.row.online_state])}},{title:"操作",width:120,render:function(t,a){return t("div",[n.a.tableBtnStyle(t,(function(){e.$router.push({name:"terminal-edit",params:{id:a.row.id}})}),"配置"),n.a.tableBtnStyle(t,(function(){e.$router.push({name:"terminal-test",params:{id:a.row.equNo}})}),"测试")])}}],listData:[],total:0,loading:!1,selectList:[]}},methods:{getData:function(){var e=this;this.loading=!0,this.$http.get(s.a.getTerminalList,this.searchParams).then((function(t){t&&(e.total=t.total,e.listData=t.items||[]),e.loading=!1}))},searchParamsClean:function(){this.relProcess={id:"",title:"请选择"},this.searchParams={queryName:"",processIds:"",pageSize:10,currentPage:1}},search:function(){this.searchParams.currentPage=1,this.getData()},pageChange:function(e){this.searchParams.currentPage=e,this.getData()},processChange:function(e){this.searchParams.processIds=e.id},addNew:function(){this.$router.push({name:"terminal-add"})},del:function(){var e=this;if(this.selectList.length){var t=this.selectList.map((function(e){return e.id}));this.$Modal.confirm({title:"删除",content:"您确定要删除吗？",onOk:function(){e.$http.del(s.a.delTerminal,{ids:t.join(",")}).then((function(t){e.$Notice.success({title:"删除成功！"}),e.getData()}))}})}else this.$Notice.info({title:"请选择要删除的终端"})},getSelect:function(e){this.selectList=e}},mounted:function(){this.getData()},created:function(){n.a.initTableColumnTitle(this.columns)}},p=(a(1067),a(1)),u=Object(p.a)(c,i,[],!1,null,null,null);u.options.__file="src/views/system/terminal-setting/list.vue";t.default=u.exports},532:function(e,t,a){"use strict";var i=a(22),n={getAllEqu:"/equipment/api/equipments",deleteEqu:"/equipment/api/equipments",getEquDetail:"/equipment/api/equipments/detail/",saveEqu:"/equipment/api/equipments/detail",delAttachment:"/equipment/api/equ-attachs",getSingleEqu:"/equipment/api/equipments/",getParentEqu:"/equipment/api/equipments/parent/",getEquState:"/equipment/api/equipments/state/",getRemarkByEqu:"/equipment/api/equ-comments",addRemarkByEqu:"/equipment/api/equ-comments",pointsByEqu:"/equipment/api/equipments/mpoint",alarmByEqu:"/equipment/api/alarm-records",equRelPoints:"/equipment/api/mpoints/dropdown-box",getQrcode:i.a+"/equipment/api/equipments/qrcode-export",import:"/equipment/api/excel-import",saveExcelData:"/equipment/api/excel-data-save",cancelExcelData:"/equipment/api/excel-data-cancel",getExcel:i.a+"/equipment/api/excel-temlate-down",importExcel:i.a+"/equipment/api/excel-import",qrcodeExportStart:"/equipment/api/equipments/qrcode-export",qrcodeExportProgress:"/equipment/api/equipments/qrcode-export/progress",qrcodeExportDownload:i.a+"/equipment/api/equipments/qrcode-export/download",equTypeTree:"/equipment/api/equ-types/tree",equTypes:"/equipment/api/equ-types",equType:"/equipment/api/equ-types",gatewayParseMethod:"/box/api/terminals/parse-method",getTerminalList:"/box/api/terminals",terminalDetail:"/box/api/terminals/",addTerminal:"/box/api/terminals",delTerminal:"/box/api/terminals",simSelect:"/box/api/sim-manager/cards/select"};t.a=n},756:function(e,t,a){var i=a(1068);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(17).default)("74190908",i,!1,{})}}]);