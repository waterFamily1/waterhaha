(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{1147:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fault c-main-border"},[i("div",{staticClass:"c-left-border-blue"},[i("h3",[e._v("维修工单详情")]),e._v(" "),e.concernLoading?i("span",{staticClass:"c-btn-attention"},[e._v("正在处理...")]):i("span",[e.repairVo.concerned?i("a",{staticClass:"c-btn-attention",attrs:{href:"javascirpt:;"},on:{click:e.cancelConcern}},[e._v("取消关注")]):i("a",{staticClass:"c-btn-attention",attrs:{href:"javascript:;"},on:{click:e.concern}},[e._v("添加关注")])]),e._v(" "),i("div",{staticClass:"c-btns-right"},[3!=e.repairVo.state&&4!=e.repairVo.state?[i("Button",{directives:[{name:"role",rawName:"v-role",value:"repair-assign",expression:"'repair-assign'"}],attrs:{type:"primary",shape:"circle"},on:{click:function(t){e.isShowAssignDialog=!0}}},[e._v("任务分派")]),e._v(" "),i("Dropdown",{directives:[{name:"role",rawName:"v-role",value:"repair-dispose",expression:"'repair-dispose'"}],staticClass:"fault-handle",attrs:{trigger:"click"},on:{"on-click":e.faultHandle}},[i("Button",{staticClass:"c-btn-reset",attrs:{type:"primary",shape:"circle"}},[e._v("处理 "),i("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),i("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(e.handleState,(function(t){return i("DropdownItem",{attrs:{name:t.value}},[e._v(e._s(t.label))])})),1)],1)]:e._e(),e._v(" "),i("Button",{staticClass:"c-btn-back",attrs:{type:"primary",shape:"circle"},on:{click:e.back}},[e._v("返回")])],2)]),e._v(" "),i("div",{staticClass:"c-top-border-gray c-form-data-show"},[i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("故障设备：")]),e._v("\n                    "+e._s(e.repairVo.equName)+"\n                ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[e._v("维修编号：")]),e._v("\n                    "+e._s(e.repairVo.repairNumber)+"\n                ")])]),e._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("所属组织：")]),e._v("\n                    "+e._s(e.repairVo.orgName)+"\n                ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[e._v("设备编号：")]),e._v("\n                    "+e._s(e.repairVo.equCode)+"\n                ")])]),e._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("当前状态：")]),e._v("\n                    "+e._s(e.repairVo.stateName)+"\n                ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[e._v("当前处理人：")]),e._v("\n                    "+e._s(e.repairVo.processingPersonName)+"\n                ")])]),e._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("区域位置：")]),e._v("\n                    "+e._s(e.repairVo.processName)+"\n                ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[e._v("紧急程度：")]),e._v("\n                    "+e._s(e.repairVo.severityTypeName)+"\n                ")])]),e._v(" "),i("div",{staticClass:"c-form-row-1col"},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("故障原因：")]),e._v("\n                    "+e._s(e.repairVo.faultReasonName)+"\n                ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",{staticStyle:{float:"left"}},[e._v("备注：")]),e._v("\n                    "+e._s(e.repairVo.remark)+"\n                ")])])]),e._v(" "),i("div",{staticClass:"c-top-border-gray c-form-data-show"},[i("Tabs",{attrs:{animated:!1},model:{value:e.tabActive,callback:function(t){e.tabActive=t},expression:"tabActive"}},[i("TabPane",{staticClass:"padding0-10",attrs:{label:"缺陷详情",name:"fault"}},[i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("缺陷类型：")]),e._v("\n                            "+e._s(e.faultDetailVo.faultTypeName)+"\n                        ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[e._v("缺陷编号：")]),e._v("\n                            "+e._s(e.faultDetailVo.faultNumber)+"\n                        ")])]),e._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("严重程度：")]),e._v("\n                            "+e._s(e.faultDetailVo.severityTypeName)+"\n                        ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[e._v("相关设备：")]),e._v("\n                            "+e._s(e.faultDetailVo.equName)+"\n                        ")])]),e._v(" "),i("div",{staticClass:"c-form-row-2col"},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("相关巡检：")]),e._v("\n                            "+e._s(e.faultDetailVo.patrolName)+"\n                        ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[e._v("申报人员：")]),e._v("\n                            "+e._s(e.faultDetailVo.createUser)+"\n                        ")])]),e._v(" "),i("div",{staticClass:"c-form-row-2col",staticStyle:{height:"auto","min-height":"40px"}},[i("div",{staticClass:"c-form-item"},[i("label",[e._v("申报时间：")]),e._v("\n                            "+e._s(e._f("F")(e.faultDetailVo.createDate))+"\n                        ")]),e._v(" "),i("div",{staticClass:"c-form-item"},[i("label",[e._v("缺陷备注：")]),e._v(" "),i("div",{staticStyle:{"line-height":"25px"}},[e._v(e._s(e.faultDetailVo.remark))])])]),e._v(" "),i("div",{staticClass:"maintain-detail"},[i("h3",{staticClass:"c-gray-bg-h"},[e._v("现场缺陷记录")]),e._v(" "),e.faultDetailVo.pictureVideos&&e.faultDetailVo.pictureVideos.length?i("div",{staticClass:"fault-live"},e._l(e.faultDetailVo.pictureVideos,(function(t){return i("div",{staticClass:"fault-live-img",on:{click:function(a){return e.playVideo(t)}}},[1==t.type?i("div",[i("Icon",{attrs:{type:"social-youtube-outline"}}),e._v(" "),i("img",{attrs:{src:t.thumbnailUrl,alt:""}})],1):i("img",{directives:[{name:"img",rawName:"v-img:handleImg(item)",arg:"handleImg(item)"}],attrs:{src:t.imgUrl,alt:""}})])})),0):i("div",{staticClass:"c-nodata-tip"},[e._v("暂无记录")])])]),e._v(" "),i("TabPane",{attrs:{label:"维修记录",name:"repqir"}},[e.repairRecordProgressList.length>0?i("div",[i("div",{staticClass:"fault-log"},[i("Timeline",e._l(e.repairRecordProgressList,(function(t){return i("TimelineItem",{attrs:{active:e.selectedLog.repairContrailId==t.repairContrailId},on:{"on-click":function(a){return e.logClick(t)}}},[i("div",{staticClass:"fault-log-item"},[i("span",{staticClass:"fault-log-date"},[e._v(e._s(t.time))]),e._v(" "),i("span",{staticClass:"fault-log-operator"},[e._v(e._s(t.processingPersonName)+" "+e._s(t.processingResult)+" "+e._s(t.nextProcessingPersonName))]),e._v(" "),i("span",{staticClass:"fault-log-handle",class:"log-handle-"+t.repairResult},[e._v(e._s(t.repairResultName))])])])})),1)],1),e._v(" "),5==e.selectedLog.repairResult||0==e.selectedLog.repairResult?i("div",{staticClass:"fault-log-detail",staticStyle:{"text-align":"center"}},[i("img",{attrs:{src:a(509)}}),i("div",{staticStyle:{padding:"10px"}},[e._v("暂无记录")])]):e._e(),e._v(" "),5!=e.selectedLog.repairResult&&0!=e.selectedLog.repairResult?i("div",{staticClass:"fault-log-detail"},[i("ul",{staticClass:"fault-log-info"},[i("li",[i("label",[e._v("维修结果：")]),e._v(e._s(e.selectedLog.repairResultName)+"\n                                ")]),e._v(" "),i("li",[i("label",[e._v("维修措施：")]),e._v(e._s(e.selectedLog.repairAdoptname)+"\n                                ")]),e._v(" "),i("li",[i("label",[e._v("故障分析：")]),e._v(e._s(e.selectedLog.faultAnalysis)+"\n                                ")]),e._v(" "),i("li",[i("label",[e._v("备件申请：")]),e._v(" "),e.selectedLog.applicationFlag?i("a",{staticClass:"spare-link",attrs:{href:"javascript:void(null)"},on:{click:function(t){e.tabActive="spare"}}},[e._v("\n                                        是\n                                    ")]):[e._v("否")]],2),e._v(" "),i("li",[i("label",[e._v("处理原因：")]),e._v(e._s(e.selectedLog.handleReason)+"\n                                ")]),e._v(" "),i("li",[i("label",[e._v("完成时间：")]),e._v(e._s(e._f("F")(e.selectedLog.finishDate,"yyyy-MM-dd"))+"\n                                ")])]),e._v(" "),i("h3",{staticClass:"fault-log-h3"},[e._v("处理后现场记录")]),e._v(" "),e.selectedLog.pictureVideos&&e.selectedLog.pictureVideos.length?i("div",{staticClass:"fault-live"},e._l(e.selectedLog.pictureVideos,(function(t){return i("div",{staticClass:"fault-live-img",on:{click:function(a){return e.playVideo(t)}}},[1==t.type?i("div",[i("Icon",{attrs:{type:"social-youtube-outline"}}),e._v(" "),i("img",{attrs:{src:t.thumbnailUrl,alt:""}})],1):i("img",{directives:[{name:"img",rawName:"v-img:liveImg(item)",arg:"liveImg(item)"}],attrs:{src:t.imgUrl,alt:""}})])})),0):i("div",{staticClass:"c-nodata-tip",style:{height:e.autoHeight,lineHeight:e.autoHeight}},[e._v("暂无记录")])]):e._e()]):i("div",{staticClass:"fault-log-empty margin0-10"},[i("div",{staticClass:"fault-log-empty-tip"},[e._v("暂无纪录")])])]),e._v(" "),i("tabPane",{attrs:{label:"备件申请",name:"spare"}},[i("Table",{attrs:{columns:e.spareColumns,data:e.spareList,stripe:""}})],1)],1)],1),e._v(" "),i("Modal",{attrs:{width:"330",title:"任务分派"},model:{value:e.isShowAssignDialog,callback:function(t){e.isShowAssignDialog=t},expression:"isShowAssignDialog"}},[i("p",{staticStyle:{height:"40px","font-size":"13px"}},[e._v("选择相应的执行人员进行分派：")]),e._v(" "),i("div",[i("dropdown-tree",{attrs:{url:e.orgTreeApi},on:{"on-change":e.getUnderOrganizationUsers},model:{value:e.org,callback:function(t){e.org=t},expression:"org"}}),e._v(" "),i("Form",{ref:"assignForm",attrs:{model:e.assignFormModel}},[i("FormItem",{attrs:{prop:"assignTo",rules:{required:!0,message:"请选择人员",trigger:"change",type:"number"}}},[i("Select",{staticStyle:{width:"300px"},attrs:{placeholder:"请选择人员"},model:{value:e.assignFormModel.assignTo,callback:function(t){e.$set(e.assignFormModel,"assignTo",t)},expression:"assignFormModel.assignTo"}},e._l(e.operators,(function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1),e._v(" "),i("div",{staticStyle:{"margin-top":"30px"}},[i("Button",{attrs:{type:"primary",shape:"circle",size:"large",long:"",loading:e.btnLoading},on:{click:e.assign}},[e._v("分派")])],1),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),i("Modal",{attrs:{width:"300",title:"处理"},model:{value:e.isShowHandleDialog,callback:function(t){e.isShowHandleDialog=t},expression:"isShowHandleDialog"}},[i("p",{staticStyle:{height:"40px","font-size":"13px"}},[e._v("请选择"+e._s(e.handleTypeText)+"原因：")]),e._v(" "),i("div",[i("Form",{ref:"handleForm",attrs:{model:e.handleFormModel}},[i("FormItem",{attrs:{prop:"reason",rules:{type:"number",required:!0,message:"请选择原因",trigger:"change"}}},[i("Select",{staticStyle:{width:"267px"},attrs:{placeholder:"请选择原因"},model:{value:e.handleFormModel.reason,callback:function(t){e.$set(e.handleFormModel,"reason",t)},expression:"handleFormModel.reason"}},e._l(e.reasons,(function(t){return i("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1),e._v(" "),i("div",{staticStyle:{"margin-top":"30px"}},[i("Button",{attrs:{type:"primary",shape:"circle",size:"large",long:"",loading:e.btnLoading},on:{click:e.handle}},[e._v("确定")])],1),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})]),e._v(" "),i("Modal",{class:"play-dialog",attrs:{width:"600"},model:{value:e.isShowPlayDialog,callback:function(t){e.isShowPlayDialog=t},expression:"isShowPlayDialog"}},[i("div",{attrs:{slot:"header"},slot:"header"}),e._v(" "),i("div",{staticStyle:{height:"400px"},attrs:{id:"player"}},[i("video",{attrs:{id:"repair_video",width:"100%",height:"400",controls:"controls"}})]),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"})])],1)};i._withStripped=!0;var s=a(7),n=a(542),r=a(23),o=a(145),l=a(11),c=a(592),d=a(107),u=a(148);function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}s.default.use(n.a);var g={components:{dropdownTree:o.a},data:function(){return{tabActive:"fault",autoHeight:"50px",isShowPlayDialog:!1,isShowAssignDialog:!1,isShowHandleDialog:!1,handleFormModel:{reason:""},reasons:[],handleType:"",handleTypeText:"",org:{id:"",title:"请选择组织"},orgTreeApi:d.a.getOrgTreeData,operators:[],assignFormModel:{assignTo:""},selectedLog:{processingResultName:"",faultReason:"",remark:"",faultCloseRenson:"",pictureVideos:[]},repairVo:{},faultDetailVo:{},repairRecordProgressList:[],btnLoading:!1,concernLoading:!1,spareList:[],spareColumns:[{title:"物料编号",key:"materielNumber"},{title:"物料名称",key:"materielName"},{title:"品牌",key:"brand"},{title:"型号",key:"model"},{title:"规格",key:"standard"},{title:"计量单位",key:"measurementUnit"},{title:"申请数量",key:"outAmount"},{title:"申请人",key:"applicantName"},{title:"申请日期",key:"outPutDate",render:function(e,t){return e("span",l.a.F(t.row.outPutDate,"yyyy-MM-dd"))}},{title:"审核人",key:"auditorName"},{title:"审核日期",key:"auditorDate",render:function(e,t){return e("span",l.a.F(t.row.auditorDate,"yyyy-MM-dd"))}},{title:"结果",key:"auditedFlag",render:function(e,t){return e("span",t.row.auditedFlag?"已经审核":"未审核")}}]}},computed:Object(r.b)({handleState:function(e){return e.map.fault.handleState},handleStateText:function(e){return e.map.fault.handleStateText},handleReason:function(e){return e.map.maintain.handleReason},handleReasonText:function(e){return e.map.maintain.handleReasonText}}),methods:{liveImg:function(e){return 0===e.type?"liveImg":"liveVideo"},handleImg:function(e){return 0===e.type?"handleImg":"handleVideo"},playVideo:function(e){1==e.type&&(this.isShowPlayDialog=!0,document.querySelector("#repair_video").src=e.videoUrl)},assign:function(){var e=this;this.$refs.assignForm.validate((function(t){t&&(e.btnLoading=!0,e.$http.put(c.a.taskAssign,{repairId:e.$route.params.id,processingPersonId:e.assignFormModel.assignTo}).then((function(t){t.count&&(e.$Notice.success({title:"指派人员成功！"}),e.$router.back()),e.btnLoading=!1})))}))},faultHandle:function(e){this.$refs.handleForm.resetFields(),this.handleType=e,this.handleTypeText=this.handleStateText[e],this.isShowHandleDialog=!0,this.reasons=this.handleReason[e]},handle:function(){var e=this;this.$refs.handleForm.validate((function(t){var a;t&&(e.btnLoading=!0,e.$http.put(c.a.taskHandle,(a={id:e.$route.params.id},v(a,2==e.handleType?"repairHangupRenson":"repairCloseReason",e.handleFormModel.reason),v(a,"state",e.handleType),a)).then((function(t){t.count&&(e.$Notice.success({title:"处理成功！"}),e.$router.back()),e.btnLoading=!1})))}))},back:function(){this.$router.back()},getUnderOrganizationUsers:function(e){var t=this;this.$http.get(d.a.underOrganizationUsers,{orgId:e.id}).then((function(e){e&&e.length&&(t.operators=e)}))},logClick:function(e){this.selectedLog=e},concern:function(){var e=this;this.concernLoading=!0,this.$http.post(u.a.addConcern,{concernId:this.$route.params.id,type:"repair"}).then((function(t){t&&(e.$Notice.success({title:"关注成功！"}),e.repairVo.concerned=!0),e.concernLoading=!1}))},cancelConcern:function(){var e=this;this.concernLoading=!0,this.$http.del(u.a.cancelConcern,{concernIds:this.$route.params.id,type:"repair"}).then((function(t){t&&(e.$Notice.success({title:"取消关注成功！"}),e.repairVo.concerned=!1),e.concernLoading=!1}))},getSpareList:function(){var e=this;this.$http.get(c.a.getSpare,{associationId:this.$route.params.id,associationNo:this.repairVo.repairNumber}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.spareList=t}))}},created:function(){var e=this,t=this.$route.params.id;l.a.initTableColumnTitle(this.spareColumns),this.$http.get(c.a.getMaintainDetail+"/"+t).then((function(t){e.repairVo=Object.assign({},e.repairVo,t.repairVo),e.faultDetailVo=Object.assign({},e.faultDetailVo,t.faultDetailVo),t.repairRecordProgressList&&t.repairRecordProgressList.length&&(t.repairRecordProgressList.forEach((function(e){e.time=l.a.F(e.time,"yyyy-MM-dd hh:mm")})),e.repairRecordProgressList=t.repairRecordProgressList,e.selectedLog=Object.assign({},e.selectedLog,t.repairRecordProgressList[0]))})).then(this.getSpareList);var a=document.querySelector(".main").clientHeight-800;this.autoHeight=(a>50?a:50)+"px"},mounted:function(){}},m=(a(985),a(1)),p=Object(m.a)(g,i,[],!1,null,null,null);p.options.__file="src/views/repair/detail.vue";t.default=p.exports},509:function(e,t,a){e.exports=a.p+"images/460cff9c7ab20b8d843f779bd487d50f.png"},542:function(e,t,a){"use strict";!function(){if("undefined"!=typeof document){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style"),a=" *[data-v-5928e1c7] { -webkit-box-sizing: border-box; box-sizing: border-box; } .fullscreen-v-img[data-v-5928e1c7] { z-index: 9999; height: 100%; width: 100%; position: fixed; top: 0; left: 0; overflow: hidden; background-color: rgba(0, 0, 0, 0.7); -ms-touch-action: none; touch-action: none; } .content-v-img img[data-v-5928e1c7] { width: auto; height: auto; max-width: 100%; max-height: 100%; position: absolute; top: 0; left: 0; right: 0; bottom: 0; margin: auto; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } .header-v-img[data-v-5928e1c7], .footer-v-img[data-v-5928e1c7] { position: absolute; width: 100%; background-color: rgba(0, 0, 0, 0.3); height: 50px; z-index: 9999; display: flex; align-items: center; } .header-v-img[data-v-5928e1c7] { justify-content: space-between; } .footer-v-img[data-v-5928e1c7] { bottom: 0; justify-content: center; height: 70px; /* scrolling thumbnails on mobile */ overflow-x: auto; } .footer-v-img img[data-v-5928e1c7] { width: 60px; height: 60px; cursor: pointer; -webkit-transition: transform 0.2s ease-out; transition: transform 0.2s ease-out; object-fit: cover; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; } .footer-v-img img.is-selected[data-v-5928e1c7] { transform: scale(1.1); } .footer-v-img img[data-v-5928e1c7]:not(:last-child) { margin-right: 7px; } .title-v-img[data-v-5928e1c7] { font-family: 'Avenir', Helvetica, Arial, sans-serif; font-size: 18px; font-weight: 400; color: white; text-align: center; max-height: 100%; overflow: auto; } .count-v-img[data-v-5928e1c7], .buttons-v-img[data-v-5928e1c7] { width: 80px; font-family: 'Avenir', Helvetica, Arial, sans-serif; } .count-v-img[data-v-5928e1c7] { font-size: 15px; color: white; margin-left: 10px; } .buttons-v-img[data-v-5928e1c7] { margin-right: 10px; text-align: right; } .buttons-v-img span path[data-v-5928e1c7] { fill: #e5e6eb; -webkit-transition: fill 0.4s ease-in-out; transition: fill 0.4s ease-in-out; } .buttons-v-img span[data-v-5928e1c7] { cursor: pointer; color: #e5e6eb; font-size: 30px; -webkit-transition: color 0.4s ease-in-out; transition: color 0.4s ease-in-out; text-decoration: none; text-align: center; } .buttons-v-img span[data-v-5928e1c7]:not(:last-child) { margin-right: 8px; } .buttons-v-img span svg[data-v-5928e1c7] { height: 20px; width: 15px; } .buttons-v-img span:hover svg path[data-v-5928e1c7] { fill: white; } .buttons-v-img span[data-v-5928e1c7]:hover { color: white; } .prev-v-img svg[data-v-5928e1c7], .next-v-img svg[data-v-5928e1c7] { margin: 5px auto; } .prev-v-img[data-v-5928e1c7], .next-v-img[data-v-5928e1c7] { color: white; width: 35px; height: 35px; position: absolute; top: 50%; margin-top: -12.5px; font-size: 15px; font-family: 'Avenir', Helvetica, Arial, sans-serif; text-align: center; background-color: rgba(0, 0, 0, 0.3); z-index: 1000; opacity: 0.3; -webkit-transition: opacity 0.3s ease-in-out; transition: opacity 0.3s ease-in-out; cursor: pointer; } .prev-v-img[data-v-5928e1c7]:hover, .next-v-img[data-v-5928e1c7]:hover { opacity: 1; } .prev-v-img[data-v-5928e1c7] { left: 10px; } .next-v-img[data-v-5928e1c7] { right: 10px; } .v-img-fade-enter[data-v-5928e1c7], .v-img-fade-leave-to[data-v-5928e1c7] { opacity: 0; } .v-img-fade-enter-active[data-v-5928e1c7], .v-img-fade-leave-active[data-v-5928e1c7] { -webkit-transition: opacity 0.3s ease-in-out; transition: opacity 0.3s ease-in-out; } ";t.type="text/css",t.styleSheet?t.styleSheet.cssText=a:t.appendChild(document.createTextNode(a)),e.appendChild(t)}}();var i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{appear:"",name:"v-img-fade"}},[e.closed?e._e():a("div",{staticClass:"fullscreen-v-img",on:{click:function(t){if(t.target!==t.currentTarget)return null;e.close(t)}}},[a("div",{staticClass:"header-v-img"},[a("span",{staticClass:"count-v-img"},[e.images.length>1?a("span",[e._v(e._s(e.currentImageIndex+1)+"/"+e._s(e.images.length)+" ")]):e._e()]),a("span",{staticClass:"title-v-img"},[e._v(e._s(e.titles[e.currentImageIndex]))]),a("div",{staticClass:"buttons-v-img"},[e.sourceButtons[e.currentImageIndex]?a("span",[a("a",{attrs:{href:e.images[e.currentImageIndex],target:"_blank"}},[a("svg",{staticStyle:{"enable-background":"new 0 0 475.078 475.077"},attrs:{xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",id:"Capa_1",x:"0px",y:"0px",width:"512px",height:"512px",viewBox:"0 0 475.078 475.077","xml:space":"preserve"}},[a("path",{attrs:{d:"M467.083,318.627c-5.324-5.328-11.8-7.994-19.41-7.994H315.195l-38.828,38.827c-11.04,10.657-23.982,15.988-38.828,15.988    c-14.843,0-27.789-5.324-38.828-15.988l-38.543-38.827H27.408c-7.612,0-14.083,2.669-19.414,7.994    C2.664,323.955,0,330.427,0,338.044v91.358c0,7.614,2.664,14.085,7.994,19.414c5.33,5.328,11.801,7.99,19.414,7.99h420.266    c7.61,0,14.086-2.662,19.41-7.99c5.332-5.329,7.994-11.8,7.994-19.414v-91.358C475.078,330.427,472.416,323.955,467.083,318.627z     M360.025,414.841c-3.621,3.617-7.905,5.424-12.854,5.424s-9.227-1.807-12.847-5.424c-3.614-3.617-5.421-7.898-5.421-12.844    c0-4.948,1.807-9.236,5.421-12.847c3.62-3.62,7.898-5.431,12.847-5.431s9.232,1.811,12.854,5.431    c3.613,3.61,5.421,7.898,5.421,12.847C365.446,406.942,363.638,411.224,360.025,414.841z M433.109,414.841    c-3.614,3.617-7.898,5.424-12.848,5.424c-4.948,0-9.229-1.807-12.847-5.424c-3.613-3.617-5.42-7.898-5.42-12.844    c0-4.948,1.807-9.236,5.42-12.847c3.617-3.62,7.898-5.431,12.847-5.431c4.949,0,9.233,1.811,12.848,5.431    c3.617,3.61,5.427,7.898,5.427,12.847C438.536,406.942,436.729,411.224,433.109,414.841z",fill:"#FFFFFF"}}),a("path",{attrs:{d:"M224.692,323.479c3.428,3.613,7.71,5.421,12.847,5.421c5.141,0,9.418-1.808,12.847-5.421l127.907-127.908    c5.899-5.519,7.234-12.182,3.997-19.986c-3.23-7.421-8.847-11.132-16.844-11.136h-73.091V36.543c0-4.948-1.811-9.231-5.421-12.847    c-3.62-3.617-7.901-5.426-12.847-5.426h-73.096c-4.946,0-9.229,1.809-12.847,5.426c-3.615,3.616-5.424,7.898-5.424,12.847V164.45    h-73.089c-7.998,0-13.61,3.715-16.846,11.136c-3.234,7.801-1.903,14.467,3.999,19.986L224.692,323.479z",fill:"#FFFFFF"}})])])]):e._e(),a("span",{on:{click:e.close}},[e._v("×")])])]),a("transition",{attrs:{appear:"",name:"v-img-fade"}},[e.visibleUI&&1!==e.images.length?a("span",{staticClass:"prev-v-img",on:{click:e.prev}},[a("svg",{attrs:{width:"25",height:"25",viewBox:"0 0 1792 1915",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M1664 896v128q0 53-32.5 90.5t-84.5 37.5h-704l293 294q38 36 38 90t-38 90l-75 76q-37 37-90 37-52 0-91-37l-651-652q-37-37-37-90 0-52 37-91l651-650q38-38 91-38 52 0 90 38l75 74q38 38 38 91t-38 91l-293 293h704q52 0 84.5 37.5t32.5 90.5z",fill:"#fff"}})])]):e._e()]),a("transition",{attrs:{appear:"",name:"v-img-fade"}},[e.visibleUI&&1!==e.images.length?a("span",{staticClass:"next-v-img",on:{click:e.next}},[a("svg",{attrs:{width:"25",height:"25",viewBox:"0 0 1792 1915",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M1600 960q0 54-37 91l-651 651q-39 37-91 37-51 0-90-37l-75-75q-38-38-38-91t38-91l293-293h-704q-52 0-84.5-37.5t-32.5-90.5v-128q0-53 32.5-90.5t84.5-37.5h704l-293-294q-38-36-38-90t38-90l75-75q38-38 90-38 53 0 91 38l651 651q37 35 37 90z",fill:"#fff"}})])]):e._e()]),e.thumbnails&&e.images.length>1?a("div",{staticClass:"footer-v-img"},e._l(e.images,(function(t,i){return a("img",{key:i,class:{"is-selected":e.currentImageIndex==i},attrs:{src:t},on:{click:function(t){e.select(i)}}})}))):e._e(),a("div",{staticClass:"content-v-img"},[a("img",{attrs:{src:e.images[e.currentImageIndex]},on:{click:e.next}})])],1)])},staticRenderFns:[],_scopeId:"data-v-5928e1c7",data:function(){return{images:[],titles:[],sourceButtons:[],visibleUI:!0,currentImageIndex:0,closed:!0,uiTimeout:null,handlers:{},thumbnails:!1}},watch:{closed:function(e){e&&this.handlers.closed&&this.handlers.closed(),!e&&this.handlers.opened&&this.handlers.opened()}},methods:{fireChangeEvent:function(){this.handlers.changed&&this.handlers.changed(this.currentImageIndex)},close:function(){this.closed||(document.querySelector("body").classList.remove("body-fs-v-img"),this.images=[],this.currentImageIndex=0,this.closed=!0)},next:function(){!this.closed&&this.images.length>1&&(this.currentImageIndex+1<this.images.length?this.currentImageIndex++:this.currentImageIndex=0,this.fireChangeEvent())},select:function(e){this.currentImageIndex=e},prev:function(){!this.closed&&this.images.length>1&&(this.currentImageIndex>0?this.currentImageIndex--:this.currentImageIndex=this.images.length-1,this.fireChangeEvent())},showUI:function(){var e=this;this.closed||(clearTimeout(this.uiTimeout),this.visibleUI=!0,this.uiTimeout=setTimeout((function(){e.visibleUI=!1}),3500))}},created:function(){var e=this;window.addEventListener("keyup",(function(t){27!==t.keyCode&&81!==t.keyCode||e.close(),39!==t.keyCode&&76!==t.keyCode||e.next(),37!==t.keyCode&&72!==t.keyCode||e.prev()})),window.addEventListener("scroll",(function(){e.close()})),window.addEventListener("mousemove",(function(){e.showUI()}))}},s=(function(){function e(e){this.value=e}function t(t){function a(s,n){try{var r=t[s](n),o=r.value;o instanceof e?Promise.resolve(o.value).then((function(e){a("next",e)}),(function(e){a("throw",e)})):i(r.done?"return":"normal",r.value)}catch(e){i("throw",e)}}function i(e,t){switch(e){case"return":s.resolve({value:t,done:!0});break;case"throw":s.reject(t);break;default:s.resolve({value:t,done:!1})}(s=s.next)?a(s.key,s.arg):n=null}var s,n;this._invoke=function(e,t){return new Promise((function(i,r){var o={key:e,arg:t,resolve:i,reject:r,next:null};n?n=n.next=o:(s=n=o,a(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}),n=function(e,t,a){var i="pointer",s=t.arg||null,n=void 0,r=void 0,o=e.src,l=void 0,c=void 0,d={};return a.altAsTitle&&(l=e.alt),n=a.openOn,r=a.sourceButton,c=a.thumbnails,void 0!==t.value&&(i=t.value.cursor||i,s=t.value.group||s,n=t.value.openOn||n,o=t.value.src||o,l=t.value.title||l,d.opened=t.value.opened,d.closed=t.value.closed,d.changed=t.value.changed,void 0!==t.value.sourceButton&&(r=t.value.sourceButton),void 0!==t.value.thumbnails&&(c=t.value.thumbnails)),e.setAttribute("data-vue-img-src",o),s&&e.setAttribute("data-vue-img-group",s),l&&e.setAttribute("data-vue-img-title",l),r&&e.setAttribute("data-vue-img-source-button",r),c&&e.setAttribute("data-vue-img-thumbnails",c),o||console.error("v-img element missing src parameter."),e.style.cursor=i,{cursor:i,src:o,group:s,title:l,events:d,sourceButton:r,openOn:n,thumbnails:c}},r=function(e,t){var a=e.extend(i);t=s({altAsTitle:!1,sourceButton:!1,thumbnails:!1,openOn:"click"},t),e.directive("img",{update:function(e,a,i,s){var r=void 0,o=void 0;s.data.attrs&&i.data.attrs&&(o=s.data.attrs.src!==i.data.attrs.src,t.altAsTitle&&(r=s.data.attrs.alt!==i.data.attrs.alt));var l=a.oldValue!==a.value;(o||r||l)&&n(e,a,t)},bind:function(i,s){var r=n(i,s,t),o=window.vueImg;if(!o){var l=document.createElement("div");l.setAttribute("id","imageScreen"),document.querySelector("body").appendChild(l),o=window.vueImg=(new a).$mount("#imageScreen")}i.addEventListener(r.openOn,(function(){var t=void 0;t=i.dataset.vueImgGroup?[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(document.querySelectorAll('img[data-vue-img-group="'+i.dataset.vueImgGroup+'"]'))):[i],e.set(o,"images",t.map((function(e){return e.dataset.vueImgSrc}))),e.set(o,"titles",t.map((function(e){return e.dataset.vueImgTitle}))),e.set(o,"sourceButtons",t.map((function(e){return"true"===e.dataset.vueImgSourceButton}))),e.set(o,"thumbnails","true"===i.dataset.vueImgThumbnails),e.set(o,"currentImageIndex",t.indexOf(i)),e.set(o,"handlers",r.events),e.set(o,"closed",!1)}))}})};"undefined"!=typeof window&&window.Vue&&window.Vue.use(r),t.a=r},592:function(e,t,a){"use strict";var i={getData:"/equipment/api/repairs",getMaintainDetail:"/equipment/api/repairs",taskAssign:"/equipment/api/repairs/assign",taskHandle:"/equipment/api/repairs/process",getRepairStatistics:"/equipment/api/repairs/statistics",export:a(22).a+"/equipment/api/repairs/statistics-export",getDataEqu:"/equipment/api/repairs/equ",getSpare:"/inventory/api/outbounds/web"};t.a=i},717:function(e,t,a){var i=a(986);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,a(17).default)("1c560b7a",i,!1,{})},985:function(e,t,a){"use strict";var i=a(717);a.n(i).a},986:function(e,t,a){var i=a(10),s=a(510);(t=i(!1)).i(s),t.push([e.i,"\n.maintain-detail {\r\n    margin-top: 10px;\n}\r\n",""]),e.exports=t}}]);