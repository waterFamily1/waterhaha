(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{104:function(e,t,r){var n=r(500);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r(17).default)("195bcdcf",n,!1,{})},208:function(e,t,r){e.exports=r.p+"images/ffc44e51cb2a0e47daca9495e76577aa.jpg"},209:function(e,t,r){e.exports=r.p+"images/2fdd93c3d89a745eab47746d8b231783.png"},499:function(e,t,r){"use strict";var n=r(104);r.n(n).a},500:function(e,t,r){var n=r(10),s=r(207);(t=n(!1)).i(s),t.push([e.i,"\r\n",""]),e.exports=t},505:function(e,t,r){"use strict";r.r(t);r(109);var n=r(7),s=(r(23),r(48)),a=r.n(s),o=(r(139),r(44)),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-bg",style:{height:e.H}},[e.notSupport?r("div",{staticClass:"broswer_support"},[e._v("您使用的浏览器版本过低，有可能无法正常浏览和使用，您可以选择使用chrome浏览器或高版本IE浏览器。 "),r("a",{attrs:{href:"https://www.google.cn/chrome/",target:"_blank"}},[e._v("chrome下载")]),r("a",{attrs:{href:"https://support.microsoft.com/zh-cn/help/17621/internet-explorer-downloads",target:"_blank"}},[e._v("IE-11下载")])]):e._e(),e._v(" "),r("div",{staticClass:"login-form"},[r("Form",{ref:"loginForm",attrs:{model:e.user,rules:e.userRules}},[r("h3",[e._v("账户登录")]),e._v(" "),r("FormItem",{attrs:{lable:"username",prop:"username"}},[r("Input",{staticClass:"login-input",attrs:{size:"large",placeholder:"请输入用户名",clearable:""},on:{"on-enter":e.login},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),e._v(" "),r("Icon",{staticClass:"login-input-left",attrs:{type:"android-person"}})],1),e._v(" "),r("FormItem",{attrs:{prop:"password"}},[r("Input",{staticClass:"login-input",attrs:{size:"large",placeholder:"请输入密码",type:"password"},on:{"on-enter":e.login},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}}),e._v(" "),r("Icon",{staticClass:"login-input-left",attrs:{type:"locked"}})],1),e._v(" "),r("FormItem",{staticStyle:{"margin-top":"20px","margin-bottom":"15px"}},[r("Button",{staticClass:"login-button",attrs:{size:"large",long:"",type:"primary",loading:e.loading},on:{click:e.login}},[e._v("登 录")])],1),e._v(" "),r("FormItem",{staticStyle:{"text-align":"center"}},[r("Checkbox",{model:{value:e.user.rememberMe,callback:function(t){e.$set(e.user,"rememberMe",t)},expression:"user.rememberMe"}},[e._v("一周内免登录")]),r("span",{staticStyle:{margin:"0 10px"}},[e._v("|")]),r("span",[r("a",{attrs:{href:"javascript:;"},on:{click:e.remberPwd}},[e._v("忘记密码?")])])],1)],1)],1),e._v(" "),e._m(0)])};i._withStripped=!0;var l=r(16);function u(){if("undefined"!=typeof navigator)return function(e){var t=(r=[["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]],r.map((function(e){return{name:e[0],rule:e[1]}})));var r;if(!e)return null;return t.map((function(t){var r=t.rule.exec(e),n=r&&r[1].split(/[._]/).slice(0,3);return n&&n.length<3&&(n=n.concat(1==n.length?[0,0]:[0])),r&&{name:t.name,version:n.join(".")}})).filter(Boolean)[0]||null}(navigator.userAgent)}var c={data:function(){return{notSupport:!1,user:{rememberMe:!1,username:"",password:""},userRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},H:"640px",loading:!1}},mounted:function(){var e=document.documentElement.clientHeight;this.H=e+"px",this.$http.get(l.a.authority).then((function(e){e&&(location.href="/")}))},created:function(){var e=u().name,t=u().version;"ie"==e&&parseInt(t)<=9&&(this.notSupport=!0)},methods:{remberPwd:function(){location.href="/password-find.html"},login:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.user.username=e.user.username.replace(/\s+/g,""),e.loading=!0,e.$http.post(l.a.login,e.user).then((function(t){t&&t.access_token&&e.$http.get(l.a.getUserAccount,{webOper:!0}).then((function(t){e.loading=!1,sessionStorage.setItem("__MANGO_U_",JSON.stringify(t)),location.href="/"}))})).catch((function(){e.loading=!1})))}))}}},p=(r(499),r(1)),m=Object(p.a)(c,i,[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"login-foot"},[t("div",{staticClass:"login-foot-info"},[t("p",[this._v("上海昊沧智慧水务云平台")]),this._v(" "),t("p",[t("a",{attrs:{href:"http://www.beian.miit.gov.cn",target:"_blank"}},[this._v("沪ICP备12030858号-2")])])])])}],!1,null,null,null);m.options.__file="src/login/App.vue";var d=m.exports;n.default.use(a.a),n.default.prototype.$http=o.a,new n.default({el:"#app",render:function(e){return e(d)}})}},[[505,6,0,7]]]);