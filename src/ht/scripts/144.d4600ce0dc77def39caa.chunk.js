(window.webpackJsonp=window.webpackJsonp||[]).push([[144],{1001:function(t,e,a){"use strict";var o=a(725);a.n(o).a},1002:function(t,e,a){(e=a(10)(!1)).push([t.i,"\n.material .ivu-tabs-bar{\n\t\tmargin-bottom:0;\n}\n.c-btns-right .c-btn-add{\n\t\tpadding: 3px 15px;\n}\n",""]),t.exports=e},1185:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"material  c-main-border"},[a("div",{staticClass:"c-left-border-blue"},[a("h3",[t._v("仓库详细")]),t._v(" "),a("div",{staticClass:"c-btns-right"},[a("Button",{directives:[{name:"role",rawName:"v-role",value:"repertory-edit",expression:"'repertory-edit'"}],attrs:{type:"primary",shape:"circle"},on:{click:t.goToEdit}},[t._v("编辑")]),t._v(" "),a("Button",{staticClass:"c-btn-back",attrs:{type:"primary",shape:"circle"},on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),a("div",{staticClass:"c-top-border-gray c-form-data-show"},[a("div",{staticClass:"c-form-row-2col"},[a("div",{staticClass:"c-form-item"},[a("label",[t._v("仓库编号：")]),t._v("\n                    "+t._s(t.detailInfo.no)+"\n                ")]),t._v(" "),a("div",{staticClass:"c-form-item"},[a("label",[t._v("所属组织：")]),t._v("\n                    "+t._s(t.detailInfo.orgName)+"\n                ")])]),t._v(" "),a("div",{staticClass:"c-form-row-2col"},[a("div",{staticClass:"c-form-item"},[a("label",[t._v("仓库名称：")]),t._v("\n                    "+t._s(t.detailInfo.name)+"\n                ")]),t._v(" "),a("div",{staticClass:"c-form-item"},[a("label",[t._v("负责人：")]),t._v("\n                    "+t._s(t.detailInfo.personInChargeName)+"\n                ")])]),t._v(" "),a("div",{staticClass:"c-form-row-1col"},[a("div",{staticClass:"c-form-item"},[a("label",[t._v("仓库地址：")]),t._v("\n                    "+t._s(t.detailInfo.address)+"\n                ")])])]),t._v(" "),a("div",{staticClass:"c-top-border-gray"},[a("Tabs",{attrs:{animated:!1}},[a("TabPane",{staticClass:"padding10",attrs:{label:"库存信息"}},[a("div",{staticClass:"padding10-0"},[a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"物料编号或物料名称",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchStock(e)}},model:{value:t.searchParamsByStock.queryName,callback:function(e){t.$set(t.searchParamsByStock,"queryName",e)},expression:"searchParamsByStock.queryName"}}),t._v(" "),a("Button",{staticClass:"c-btn-add",attrs:{type:"primary"},on:{click:t.searchStock}},[t._v("搜索")])],1),t._v(" "),a("Table",{attrs:{columns:t.columnsByStock,data:t.listDataByStock,loading:t.loadingByStock,stripe:""}}),t._v(" "),a("Page",{staticClass:"table-page",attrs:{total:t.totalByStock,"page-size":t.searchParamsByStock.pageSize,current:t.searchParamsByStock.currentPage,"show-total":"","show-elevator":""},on:{"on-change":t.pageChangeByStock}})],1),t._v(" "),a("TabPane",{staticClass:"padding10",attrs:{label:"库位信息"}},[a("div",{staticClass:"padding10-0"},[a("Input",{staticStyle:{width:"180px"},attrs:{placeholder:"库位编号",clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchLocator(e)}},model:{value:t.searchParamsByLocator.locationNo,callback:function(e){t.$set(t.searchParamsByLocator,"locationNo",e)},expression:"searchParamsByLocator.locationNo"}}),t._v(" "),a("Button",{staticClass:"c-btn-add",attrs:{type:"primary"},on:{click:t.searchLocator}},[t._v("搜索")]),t._v(" "),a("div",{staticClass:"c-btns-right"})],1),t._v(" "),a("Table",{attrs:{columns:t.columnsByLocator,data:t.listDataByLocator,loading:t.loadingByLocator,stripe:""}}),t._v(" "),a("Page",{staticClass:"table-page",attrs:{total:t.totalByLocator,"page-size":t.searchParamsByLocator.pageSize,current:t.searchParamsByLocator.currentPage,"show-total":"","show-elevator":""},on:{"on-change":t.pageChangeByLocator}})],1)],1)],1)])};o._withStripped=!0;var i=a(11),r=a(527),n={data:function(){var t=this;return{detailInfo:{},searchParamsByStock:{warehouseNo:"",queryName:"",currentPage:1,pageSize:5},totalByStock:0,loadingByStock:!1,columnsByStock:[{title:"物料编号",key:"materielNumber"},{title:"物料名称",key:"materielName"},{title:"规格",key:"standard"},{title:"库位",key:"warehouseLocationNo"},{title:"数量",key:"amount"},{title:"计量单位",key:"measurementUnit"}],listDataByStock:[],searchParamsByLocator:{warehouseNo:"",locationNo:"",currentPage:1,pageSize:5},totalByLocator:0,loadingByLocator:!1,columnsByLocator:[{title:"库位编号",key:"locationNo",render:function(e,a){return a.row.isEdit?e("div",[e("Input",{props:{value:a.row.locationNo,disabled:!a.row.isEdit},on:{input:function(e){a.row.locationNo=e,t.listDataByLocator[a.index]=a.row}}})]):e("div",a.row.locationNo)}},{title:"描述",key:"description",render:function(e,a){return a.row.isEdit?e("div",[e("Input",{props:{value:a.row.description,disabled:!a.row.isEdit},on:{input:function(e){a.row.description=e,t.listDataByLocator[a.index]=a.row}}})]):e("div",a.row.description)}}],submitLoading:!1,listDataByLocator:[]}},methods:{back:function(){this.$router.back()},goToEdit:function(){this.$router.push({name:"storage-repertory-edit",params:{id:this.$route.params.id}})},getListByStock:function(){var t=this;this.loadingByStock=!0,this.$http.get(r.a.repertory.getWarehouseInfo,this.searchParamsByStock).then((function(e){t.listDataByStock=e.items,t.totalByStock=e.total,t.loadingByStock=!1}))},getListByLocator:function(){var t=this;this.loadingByLocator=!0,this.$http.get(r.a.repertory.getPositionOfWarehouse,this.searchParamsByLocator).then((function(e){t.listDataByLocator=e.items,t.totalByLocator=e.total,t.loadingByLocator=!1}))},searchStock:function(){this.searchParamsByStock.currentPage=1,this.getListByStock()},searchLocator:function(){this.searchParamsByLocator.currentPage=1,this.getListByLocator()},pageChangeByStock:function(t){this.searchParamsByStock.currentPage=t,this.getListByStock()},pageChangeByLocator:function(t){this.searchParamsByLocator.currentPage=t,this.getListByLocator()},addRow:function(){this.listDataByLocator.push({warehouseNo:this.detailInfo.no,locationNo:"",description:"",isEdit:!0})},editRow:function(){var t=this;this.listDataByLocator.forEach((function(e){t.$set(e,"isEdit",!0)}))},submitRow:function(){var t=this,e=this;if(e.listDataByLocator.some((function(t,a){return!t.locationNo&&(e.$Notice.warning({title:"请输入第"+(a+1)+"行中的库位编号"}),!0)})))return!1;this.submitLoading=!0,this.$http.post(r.a.repertory.bacthAddWarehouseposition,{warehousePositions:e.listDataByLocator}).then((function(e){t.submitLoading=!1,t.$Notice.success({title:"保存成功！"}),t.searchLocator()})).catch((function(){t.submitLoading=!1}))},toInfoImport:function(){this.$router.push({name:"storage-repertory-import",params:{warehouseNo:this.detailInfo.no}})}},created:function(){var t=this,e=this.$route.params.id;i.a.initTableColumnTitle(this.columnsByStock),i.a.initTableColumnTitle(this.columnsByLocator),this.$http.get(r.a.repertory.getWarehouseDetail+"/"+e).then((function(e){t.detailInfo=e,t.searchParamsByStock.warehouseNo=e.no,t.searchParamsByLocator.warehouseNo=e.no,t.getListByStock(),t.getListByLocator()}))}},s=(a(1001),a(1)),c=Object(s.a)(n,o,[],!1,null,null,null);c.options.__file="src/views/storage/repertory/detail.vue";e.default=c.exports},527:function(t,e,a){"use strict";var o=a(22),i={getWarehouseComboList:"/inventory/api/warehouse/comboList",getManaginguser:"/inventory/api/users/managinguser",category:{getTree:"/inventory/api/materiel-category/tree",getInfo:"/inventory/api/materiel-category/materiel",add:"/inventory/api/materiel-category/materiel",edit:"/inventory/api/materiel-category/materiel",del:"/inventory/api/materiel-category/materiel",search:"/inventory/api/materiel-category/list"},inventory:{audit:"/inventory/api/store-adjustment/audited",export:o.a+"/inventory/api/store-adjustment/export",url:"/inventory/api/store-adjustment/adjusment",list:"/inventory/api/store-adjustment/list",detailList:"/inventory/api/store-adjustment/detail/list",itemList:"/inventory/api/store-adjustment/materiel/list",move:"/inventory/api/store-adjustment/move",materielSearch:"/inventory/api/stock/materiel",materielPosition:"/inventory/api/stock/position",materielDepot:"/inventory/api/stock/warehous"},takeStock:{audit:"/inventory/api/materiel-inventory/audited",export:o.a+"/inventory/api/materiel-inventory/export",import:o.a+"/inventory/api/materiel-inventory/import",url:"/inventory/api/materiel-inventory/inventory",detailList:"/inventory/api/materiel-inventory/detail/list",list:"/inventory/api/materiel-inventory/list"},storage:{comboList:"/inventory/api/warehouse/comboList"},material:{getMaterielCategoryTree:"/inventory/api/materiel-category/tree/external",getMateriel:"/inventory/api/materiels",delMateriel:"/inventory/api/materiels",exportMateriel:o.a+"/inventory/api/materiels/excel-export",addMateriel:"/inventory/api/materiel",changeMateriel:"/inventory/api/materiel",getMaterielDetail:"/inventory/api/materiel",getDistribution:"/inventory/api/materielStocks/distribution",getMaterielStockLimits:"/inventory/api/materielStockLimits",bacthAddMaterielStockLimit:"/inventory/api/materielStockLimit/batch-save",updateMaterielStockLimit:"/inventory/api/materielStockLimit",delMaterielStockLimit:"/inventory/api/materielStockLimits",getUnitList:"/inventory/api/materiel/unit",modalMateriel:"/inventory/api/materiel/external",getExcel:o.a+"/inventory/api/excel-temlate-down",importExcel:o.a+"/inventory/api/excel-import",cancelExcelData:"/inventory/api/excel-data-cancel",saveExcelData:"/inventory/api/excel-data-save"},repertory:{getWarehouses:"/inventory/api/warehouses",exportWarehouse:o.a+"/inventory/api/warehouse/excel-export",delWarehouses:"/inventory/api/warehouses",changeWarehouses:"/inventory/api/warehouse",addWarehouse:"/inventory/api/warehouse",getWarehouseDetail:"/inventory/api/warehouse",getWarehouseInfo:"/inventory/api/warehouse/getWarehouseInfo",getPositionOfWarehouse:"/inventory/api/warehousePosition/positionList",bacthAddWarehouseposition:"/inventory/api/warehouseposition/batch-save",updateWarehousePosition:"/inventory/api/warehousePosition",delWarehousePosition:"/inventory/api/warehousePositions",positionByWarehouse:"/inventory/api/warehousePosition/move",checkWarehousenameIsExist:"/inventory/api/warehouse/check-warehousename-isexist",getExcel:o.a+"/inventory/api/warehousePosition/excel-temlate-down",importExcel:o.a+"/inventory/api/warehousePosition/excel-import",cancelExcelData:"/inventory/api/warehousePosition/excel-data-cancel",saveExcelData:"/inventory/api/warehousePosition/excel-data-save"},checkin:{getInbond:"/inventory/api/inbounds",delInbond:"/inventory/api/inbounds",addInbond:"/inventory/api/inbound",getInbondDetail:"/inventory/api/inbound",getInbondRecordList:"/inventory/api/inbound/inboundDetails",getPositionComboxList:"/inventory/api/warehousePosition/positionComboxList",auditeInbound:"/inventory/api/inbound/audite",getMaterielsByWareHouseNo:"/inventory/api/materiel/getMaterielsByWareHouseNo",getMateriels:"/inventory/api/materiel/getMateriels",updateInboundDetail:"/inventory/api/inboundDetail"},checkout:{getApplicantMember:"/uaa/api/users/select",getOutbond:"/inventory/api/outbounds",delOutbond:"/inventory/api/outbounds",addOutbond:"/inventory/api/outbound",getOutbondDetail:"/inventory/api/outbound",getOutbondRecordList:"/inventory/api/outboundDetail",auditeOutbound:"/inventory/api/outbound/audite",updateOutboundDetail:"/inventory/api/outboundDetail",getstock:"/inventory/api/stock/getstock",getMaterielsOutBound:"/inventory/api/materiel/getMaterielsOutBound"},allot:{getTransfer:"/inventory/api/transfer/list",delTransfer:"/inventory/api/transfer/transfer",addTransfer:"/inventory/api/transfer/transfer",getTransferDetail:"/inventory/api/transfer/transfer",getTransferDetailList:"/inventory/api/transfer/detail/list",auditTransfer:"/inventory/api/transfer/audited",updateTransfer:"/inventory/api/transfer/transfer",getMaterielList:"/inventory/api/transfer/materiel/list",getStockPosiComboList:"/inventory/api/stock/position",getWarehousePosition:"/inventory/api/warehousePosition/move"},reporting:{getStockInfo:"/inventory/api/stock/getstock-info",exportStockInfo:o.a+"/inventory/api/stock/getstock-info-excel-export",getStockInoutbound:"/inventory/api/stock/getstock-info-inoutbound",exportStockInoutbound:o.a+"/inventory/api/stock/getstock-info-inoutbound-excel-export",getStockMove:"/inventory/api/stock/get-inventory-mobility-report",exportStockMove:o.a+"/inventory/api/stock/get-inventory-mobility-report-excel-export",getInventoryProfitLossList:"/inventory/api/materiel-inventory/inventory-report",exportInventoryProfitLoss:o.a+"/inventory/api/materiel-inventory/inventory-report-export",getInventoryNumberList:"/inventory/api/materiel-inventory/inventory-report-inventory-number"}};e.a=i},725:function(t,e,a){var o=a(1002);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,a(17).default)("544f0e2e",o,!1,{})}}]);