(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{1069:function(e,t,i){"use strict";var a=i(757);i.n(a).a},1070:function(e,t,i){(t=i(10)(!1)).push([e.i,"\n.fire-terminal-test-success, .fire-terminal-test-fail {\r\n    line-height: 25px;\r\n    margin: 0 20px;\n}\r\n",""]),e.exports=t},1187:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"c-main-border"},[i("div",{staticClass:"c-left-border-blue"},[i("h3",[e._v("终端测试")]),e._v(" "),i("div",{staticClass:"c-btns-right"},[i("Button",{attrs:{type:"primary",shape:"circle"},on:{click:e.cleanup}},[e._v("清空")]),e._v(" "),i("Button",{staticClass:"c-btn-back",attrs:{type:"primary",shape:"circle"},on:{click:e.back}},[e._v("返回")])],1)]),e._v(" "),i("div",{staticClass:"c-top-border-gray",staticStyle:{"padding-top":"40px",position:"relative"}},[e._l(e.datas,(function(t,a){return i("div",{key:a},[t.errorMessage?i("div",{staticClass:"fire-terminal-test-fail"},[e._v("["+e._s(t.testTime)+"] 收到数据，"),i("span",{staticStyle:{color:"#ff9207"}},[e._v("解析失败！")]),e._v("原始数据："+e._s(JSON.stringify(t.rowData))+" ，错误原因："+e._s(e.errMsg[t.errorMessage]))]):i("div",{staticClass:"fire-terminal-test-success"},[e._v("["+e._s(t.testTime)+"] 收到数据，解析成功！数据： "+e._s(JSON.stringify(t.parsedMetric)))])])})),e._v(" "),i("div",{staticStyle:{position:"absolute",top:"10px",right:"10px"}},[e.connected?i("span",{staticStyle:{color:"#5ca0b1","font-size":"12px"}},[e._v("连接成功！正在测试...")]):i("span",{staticStyle:{color:"#5ca0b1","font-size":"12px"}},[e._v("连接中断！正在重连...")])])],2)])};a._withStripped=!0;var s=i(11),n=(i(532),i(39)),r=i(23),p={data:function(){return{id:this.$route.params.id,datas:[],errMsg:{get_terminal_failed:"无法从缓存中获取终端或解析方法",wrong_data_format:"源数据格式错误",message_parse_failed:"源数据解析失败",metric_name_invalid:"名称不合法",metric_time_invalid:"时间日期不合法"}}},computed:Object(r.b)({connected:function(e){return e.sockets.connected}}),mounted:function(){this.id&&this.subsTopic()},beforeDestroy:function(){var e=this.$store.getters["sockets/getIdByName"]("test-mode");e&&this.$unsubsTopic(e)},methods:{subsTopic:function(){var e=this;this.$subsTopic(n.a.testTerminal+this.id,(function(t){var i={};try{i=JSON.parse(t.body)}catch(e){}i.testTime=s.a.transDateFromServer(i.testTime,"yyyy-MM-dd hh:mm:ss"),e.datas.unshift(i)}),"test-mode")},back:function(){this.$router.back()},cleanup:function(){this.datas=[]}}},o=(i(1069),i(1)),c=Object(o.a)(p,a,[],!1,null,null,null);c.options.__file="src/views/system/terminal-setting/test.vue";t.default=c.exports},532:function(e,t,i){"use strict";var a=i(22),s={getAllEqu:"/equipment/api/equipments",deleteEqu:"/equipment/api/equipments",getEquDetail:"/equipment/api/equipments/detail/",saveEqu:"/equipment/api/equipments/detail",delAttachment:"/equipment/api/equ-attachs",getSingleEqu:"/equipment/api/equipments/",getParentEqu:"/equipment/api/equipments/parent/",getEquState:"/equipment/api/equipments/state/",getRemarkByEqu:"/equipment/api/equ-comments",addRemarkByEqu:"/equipment/api/equ-comments",pointsByEqu:"/equipment/api/equipments/mpoint",alarmByEqu:"/equipment/api/alarm-records",equRelPoints:"/equipment/api/mpoints/dropdown-box",getQrcode:a.a+"/equipment/api/equipments/qrcode-export",import:"/equipment/api/excel-import",saveExcelData:"/equipment/api/excel-data-save",cancelExcelData:"/equipment/api/excel-data-cancel",getExcel:a.a+"/equipment/api/excel-temlate-down",importExcel:a.a+"/equipment/api/excel-import",qrcodeExportStart:"/equipment/api/equipments/qrcode-export",qrcodeExportProgress:"/equipment/api/equipments/qrcode-export/progress",qrcodeExportDownload:a.a+"/equipment/api/equipments/qrcode-export/download",equTypeTree:"/equipment/api/equ-types/tree",equTypes:"/equipment/api/equ-types",equType:"/equipment/api/equ-types",gatewayParseMethod:"/box/api/terminals/parse-method",getTerminalList:"/box/api/terminals",terminalDetail:"/box/api/terminals/",addTerminal:"/box/api/terminals",delTerminal:"/box/api/terminals",simSelect:"/box/api/sim-manager/cards/select"};t.a=s},757:function(e,t,i){var a=i(1070);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,i(17).default)("4ccbba64",a,!1,{})}}]);