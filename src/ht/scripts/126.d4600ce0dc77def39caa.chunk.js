(window.webpackJsonp=window.webpackJsonp||[]).push([[126],{1268:function(a,e,t){"use strict";t.r(e);var s=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("div",{staticClass:"c-main-border"},[t("div",{staticClass:"c-left-border-blue"},[t("h3",[a._v("报警定义")]),a._v(" "),t("div",{staticClass:"c-btns-right"},[t("Button",{staticClass:"c-btn-back",attrs:{type:"primary",shape:"circle"},on:{click:a.back}},[a._v("返回")])],1)]),a._v(" "),t("div",{staticClass:"c-top-border-gray c-form-data-show padding20-0"},[t("div",{staticClass:"c-form-row-2col"},[t("div",{staticClass:"c-form-item"},[t("label",[a._v("区域位置：")]),a._v("\n                "+a._s(a.info.siteName)+"\n            ")]),a._v(" "),t("div",{staticClass:"c-form-item"},[t("label",[a._v("确认方法：")]),a._v("\n                "+a._s(a.relieveMap[a.info.disarmMethod])+"\n            ")])]),a._v(" "),t("div",{staticClass:"c-form-row-2col"},[t("div",{staticClass:"c-form-item"},[t("label",[a._v("触发时间：")]),a._v("\n                "+a._s(a.triggerMap[a.info.alarmWaitTime])+"\n            ")]),a._v(" "),t("div",{staticClass:"c-form-item"},[t("label",[a._v("报警名称：")]),a._v("\n                "+a._s(a.info.alarmName)+"\n            ")])]),a._v(" "),t("div",{staticClass:"c-form-row-2col"},[t("div",{staticClass:"c-form-item"},[t("label",[a._v("报警等级：")]),a._v("\n                "+a._s(a.levelMap[a.info.alarmLevel])+"\n            ")]),a._v(" "),t("div",{staticClass:"c-form-item"},[t("label",[a._v("使用状态：")]),a._v("\n                "+a._s(a.statesMap[a.info.enabledStatus])+"\n            ")])]),a._v(" "),t("div",{staticClass:"c-form-row-2col"},[t("div",{staticClass:"c-form-item"},[t("label",[a._v("报警条件：")]),a._v("\n                "+a._s(a.alarmConditionText[a.info.alarmCondition])+"\n            ")])])]),a._v(" "),t("div",{staticClass:"padding0-20"},[t("Tabs",{attrs:{value:"condition",animated:!1}},[t("TabPane",{attrs:{label:"报警条件",name:"condition"}},[t("Table",{attrs:{columns:a.condColumns,data:a.condListData,stripe:""}})],1),a._v(" "),t("TabPane",{attrs:{label:"报警订阅",name:"subscribe"}},[t("div",{staticClass:"c-table-top-btns"},[t("Checkbox",{staticStyle:{float:"right"},attrs:{disabled:""},model:{value:a.syncReceive,callback:function(e){a.syncReceive=e},expression:"syncReceive"}},[a._v("同步接收报警确认消息")])],1),a._v(" "),t("Table",{attrs:{columns:a.subscrColumns,data:a.subscrListData,stripe:""}})],1),a._v(" "),t("TabPane",{staticClass:"dealPlan-content",attrs:{label:"处理预案",name:"dealPlan"}},[t("Table",{attrs:{columns:a.dealPlanColumns,data:a.dealPlanColumnsDataView,stripe:""}})],1)],1)],1)])};s._withStripped=!0;t(11);var i=t(543),n=(t(107),t(39),{data:function(){var a=this;return{info:{},syncReceive:!1,statesMap:{ON:"启用",OFF:"停用"},relieveMap:{Auto:"自动",AutoOrManual:"自动或者人工",Manual:"人工"},levelMap:{1:"1级",2:"2级",3:"3级"},triggerMap:{0:"立即触发",1:"延迟1分钟触发",5:"延迟5分钟触发",10:"延迟10分钟触发"},recieverMap:{0:"不限",SysMsg:"在线消息",SMS:"短信"},pushMap:{0:"不限",1:"5分钟",2:"10分钟",3:"15分钟",4:"30分钟",5:"1小时",6:"2小时",7:"12小时",8:"24小时",9:"仅推送1次"},delayMap:{0:"不限",1:"5分钟",2:"10分钟",3:"15分钟",4:"30分钟",5:"1小时",6:"2小时",7:"12小时",8:"24小时",9:"立即推送",10:"不推送"},alarmConditionText:{1:"满足其中一条规则触发",2:"满足所有规则后触发"},condColumns:[{title:"测点名称",key:"mpointName"},{title:"条件",key:"symbol"},{title:"阈值",key:"threshold"},{title:"单位",key:"unit"},{title:"所属设备",key:"equipmentName"}],condListData:[],subscrColumns:[{title:"接收对象",key:"userName"},{title:"接收方式",key:"subscribeMode",align:"center",render:function(e,t){var s="";t.row.subscribeMode&&(s=t.row.subscribeMode.split(",").map((function(e){return a.recieverMap[e]})).join(","));return e("span",s)}},{title:"推送频率",key:"pushFrequency",align:"center",render:function(e,t){return e("span",a.pushMap[t.row.pushFrequency])}},{title:"延迟推送时间",key:"delayPushTime",align:"center",render:function(e,t){return e("span",a.delayMap[t.row.delayPushTime])}}],subscrListData:[],dealPlanColumns:[{title:"预案内容",key:"processingPlan",render:function(a,e){return a("Input",{attrs:{type:"textarea",readonly:!0},style:{width:"width:90%",margin:"10px"},props:{value:e.row.processingPlan}})}},{title:"联系人",key:"contactPersonName"}],dealPlanColumnsDataView:[{contactPersonName:"",processingPlan:""}]}},mounted:function(){var a=this;this.$http.get(i.a.defines+"/"+this.$route.params.id).then((function(e){if(e){if(a.info=e,a.condListData=e.conditions,a.subscrListData=e.subscribeList,a.subscrListData.length){var t=a.subscrListData[0].pushReleaseMessage;a.syncReceive="Y"==t}a.dealPlanColumnsDataView=[{contactPersonName:e.contactPersonName,processingPlan:e.processingPlan}]}}))},methods:{back:function(){this.$router.back()}}}),l=(t(862),t(1)),r=Object(l.a)(n,s,[],!1,null,null,null);r.options.__file="src/views/alarm/define/detail.vue";e.default=r.exports},543:function(a,e,t){"use strict";t(22);e.a={updateDefineStatus:"/loong/api/alarm-definitions/status",defines:"/loong/api/alarm-definitions",modalDefines:"/loong/api/alarm-definitions",history:"/loong/api/alarm-records",history_detail:"/loong/api/alarm-records/detail",release:"/loong/api/alarm-records/confirm",getAlarmData:"/loong/api/alarm-records",subscribe:"/loong/api/alarm-subscriptions"}},640:function(a,e,t){var s=t(863);"string"==typeof s&&(s=[[a.i,s,""]]),s.locals&&(a.exports=s.locals);(0,t(17).default)("e139be54",s,!1,{})},862:function(a,e,t){"use strict";var s=t(640);t.n(s).a},863:function(a,e,t){(e=t(10)(!1)).push([a.i,"\n.dealPlan-content textarea.ivu-input {\r\n    font-size: 13px;\n}\r\n",""]),a.exports=e}}]);