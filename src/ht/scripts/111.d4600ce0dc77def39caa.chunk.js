(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{1170:function(t,a,e){"use strict";e.r(a);var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"c-main-border c-mpoint-form"},[e("div",{staticClass:"c-left-border-blue"},[e("h3",[t._v("查看自动采集型测点")]),t._v(" "),e("div",{staticClass:"c-btns-right"},[e("Button",{staticClass:"c-btn-back",attrs:{type:"primary",shape:"circle"},on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),e("div",{staticClass:"c-top-border-gray padding20-14"},[e("Form",{ref:"pointForm",attrs:{model:t.point,"label-width":120}},[e("form-detail",{ref:"formDetail"}),t._v(" "),e("Tabs",{on:{"on-click":t.tabClick}},t._l(t.tabs,(function(a){return e("TabPane",{attrs:{label:"pretreatment"==a.type?t.label:"测点设置"}},["pretreatment"==a.type?e("collapse-transition",[e("div",{directives:[{name:"show",rawName:"v-show",value:t.advSearch2,expression:"advSearch2"}],staticClass:"c-adv-search",staticStyle:{"padding-top":"30px"}},[e("Row",{staticClass:"row-block",staticStyle:{"padding-left":"20px"}},[e("Col",{attrs:{span:"24"}},[t._v("公式计算")]),t._v(" "),e("Col",{attrs:{span:"24"}},[e("FormItem",{attrs:{label:"公式:"}},[e("span",[e("span",[t._v("测点值＝")]),t._v(" "),e("Tooltip",{attrs:{placement:"top",content:"采集值指本测点自动采集到的数据值"}},[t._v("采集值")]),t._v(" "),e("span",[t._v("x 倍数 + 基数")])],1)])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"倍数:"}},[e("span",[t._v(t._s(t.point.magnification))])])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"基数:"}},[e("span",[t._v(t._s(t.point.cardinality))])])],1)],1),t._v(" "),e("Row",{staticClass:"row-block",staticStyle:{"padding-left":"20px"}},[e("Col",{attrs:{span:"24"}},[t._v("合理性判断")]),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"上限:"}},[e("span",[t._v(t._s(t.point.upperRange))])])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"下限:"}},[e("span",[t._v(t._s(t.point.lowerRange))])])],1),t._v(" "),e("Col",{attrs:{span:"24"}},[e("FormItem",{attrs:{label:"单调递增:"}},[e("Checkbox",{attrs:{disabled:""},model:{value:t.point.increase,callback:function(a){t.$set(t.point,"increase",a)},expression:"point.increase"}},[t._v("启用")])],1)],1)],1),t._v(" "),e("Row",{staticClass:"row-block",staticStyle:{"padding-left":"20px"}},[e("Col",{attrs:{span:"24"}},[t._v("平滑")]),t._v(" "),e("Col",{attrs:{span:"24"}},[e("FormItem",{attrs:{label:"公式:"}},[e("span",[t._v("测点值＝前测点值 x 系数 + 当前采集值 x (1-系数)")])])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"等级:"}},[e("span",[t._v(t._s(8*t.point.coefficient))])])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"系数:"}},[e("span",[t._v(t._s(t.point.coefficient))])])],1)],1)],1)]):t._e(),t._v(" "),"pretreatment"!=a.type?e("div",[e("Row",{staticStyle:{"padding-left":"20px"}},[e("Col",{attrs:{span:"24"}},[e("FormItem",{attrs:{label:"读写设置:",prop:""}},[e("RadioGroup",{attrs:{vertical:""},model:{value:t.point.readWriteSet,callback:function(a){t.$set(t.point,"readWriteSet",a)},expression:"point.readWriteSet"}},[e("Radio",{attrs:{label:"1",disabled:""}},[e("span",[t._v("只读")])]),t._v(" "),e("Radio",{attrs:{label:"2",disabled:""}},[e("span",[t._v("读写")])])],1),t._v(" "),e("div",{staticStyle:{display:"inline-block","vertical-align":"top","margin-left":"36px","max-width":"800px"}},[e("label",{staticClass:"ivu-form-item-label",staticStyle:{width:"46px"}},[t._v("权限:")]),t._v(" "),e("div",{staticStyle:{"margin-left":"46px"}},[t._v(t._s(t.point.roleName))])])],1)],1)],1),t._v(" "),e("Row",{staticStyle:{"padding-left":"20px"}},[e("Col",{attrs:{span:"12"}},[e("FormItem",{attrs:{label:"推送设置:",prop:""}},[e("RadioGroup",{attrs:{vertical:""},model:{value:t.point.pushSet,callback:function(a){t.$set(t.point,"pushSet",a)},expression:"point.pushSet"}},[e("Radio",{attrs:{label:"1",disabled:""}},[e("span",[t._v("变化")])]),t._v(" "),e("Radio",{attrs:{label:"2",disabled:""}},[e("span",[t._v("周期")])])],1),t._v(" "),e("div",{staticStyle:{position:"absolute",left:"100px",top:"-2px"}},[e("div",[e("InputNumber",{attrs:{min:0,disabled:!0},model:{value:t.point.deadZone,callback:function(a){t.$set(t.point,"deadZone",a)},expression:"point.deadZone"}})],1),t._v(" "),e("div",[e("InputNumber",{attrs:{min:0,disabled:!0},model:{value:t.point.cycle,callback:function(a){t.$set(t.point,"cycle",a)},expression:"point.cycle"}})],1)])],1)],1)],1)],1):t._e()],1)})),1)],1)],1)])};o._withStripped=!0;var s=e(519),n=e(568),i=e(520),l=e(49),p={components:{CollapseTransition:s.a,formDetail:n.a},data:function(){var t=this;return{currentTab:null,tabs:[],label:function(a){if("Digtal"==t.point.datype){if(t.advSearch2)var e=[a("span","预处理方式"),a("Icon",{attrs:{type:"ios-arrow-up",style:"margin-left:8px;"}})];else e=[a("span","预处理方式"),a("Icon",{attrs:{type:"ios-arrow-down",style:"margin-left:5px;"}})];return a("div",{on:{click:function(){0==t.currentTab&&(t.advSearch2=!t.advSearch2)}}},e)}},advSearch2:!0,isShowPretreatMethods:!1,point:{}}},created:function(){this.$route.params.id&&this.handleDetail(this.$route.params.id)},mounted:function(){this.$refs.formDetail.showPoint=!0},methods:{judgePointSettingPower:function(){var t=JSON.parse(sessionStorage.getItem("__MANGO_U_")||"{}").webOpers;t&&(-1!==t.indexOf(l.a.all)||-1!==t.indexOf(l.a["mpoint-setting"]))?this.tabs=[{type:"setting"}]:this.tabs=[]},tabClick:function(t){this.currentTab=t},handleDetail:function(t){var a=this,e=this;this.judgePointSettingPower(),this.$http.get(i.a.autoMpoints+"/"+t).then((function(t){t&&(a.isShowPretreatMethods="State"!=t.datype,t.slope="1"==t.slope,t.increase="1"==t.increase,"Digtal"==t.datype&&e.tabs.unshift({type:"pretreatment"}),e.point=t,e.$refs.formDetail.point=t)}))},back:function(){this.$router.back()}}},r=(e(932),e(1)),d=Object(r.a)(p,o,[],!1,null,null,null);d.options.__file="src/views/mpoint/mpoint/detail/auto-detail.vue";a.default=d.exports},519:function(t,a,e){"use strict";function o(t,a){if(!t||!a)return!1;if(-1!==a.indexOf(" "))throw new Error("className should not contain space.");return t.classList?t.classList.contains(a):(" "+t.className+" ").indexOf(" "+a+" ")>-1}function s(t,a){if(t){for(var e=t.className,s=(a||"").split(" "),n=0,i=s.length;n<i;n++){var l=s[n];l&&(t.classList?t.classList.add(l):o(t,l)||(e+=" "+l))}t.classList||(t.className=e)}}function n(t,a){if(t&&a){for(var e=a.split(" "),s=" "+t.className+" ",n=0,i=e.length;n<i;n++){var l=e[n];l&&(t.classList?t.classList.remove(l):o(t,l)&&(s=s.replace(" "+l+" "," ")))}t.classList||(t.className=trim(s))}}var i={beforeEnter:function(t){s(t,"collapse-transition"),t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.style.height="0",t.style.paddingTop=0,t.style.paddingBottom=0},enter:function(t){t.dataset.oldOverflow=t.style.overflow,0!==t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom):(t.style.height="",t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom),t.style.overflow="hidden"},afterEnter:function(t){n(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow},beforeLeave:function(t){t.dataset||(t.dataset={}),t.dataset.oldPaddingTop=t.style.paddingTop,t.dataset.oldPaddingBottom=t.style.paddingBottom,t.dataset.oldOverflow=t.style.overflow,t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"},leave:function(t){0!==t.scrollHeight&&(s(t,"collapse-transition"),t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0)},afterLeave:function(t){n(t,"collapse-transition"),t.style.height="",t.style.overflow=t.dataset.oldOverflow,t.style.paddingTop=t.dataset.oldPaddingTop,t.style.paddingBottom=t.dataset.oldPaddingBottom}};a.a={name:"CollapseTransition",functional:!0,render:function(t,a){var e=a.children;return t("transition",{on:i},e)}}},520:function(t,a,e){"use strict";var o=e(22),s={modalMpoints:"/loong/api/mpoints/dialog",alarmChart:"/loong/api/mpoints/alarm-condition",downloadTemplate:o.a+"/loong/api/mpoints/excel-template-download",exportTemplate:o.a+"/loong/api/mpoints/export",importExcel:o.a+"/loong/api/mpoints/import",saveExcelData:"/loong/api/mpoints/import-save",cancelExcelData:"/loong/api/mpoints/import-cancel",getCategroyData:"/loong/api/mpoints-datacategory",getMpointsList:"/loong/api/mpoints",deleteMpoints:"/loong/api/mpoints",deleteAllMpoints:"/loong/api/mpoints/all",batchSave:"/loong/api/mpoints/batch",autoMpoints:"/loong/api/mpoints-auto",datainputMpoints:"/loong/api/mpoints-datainput",taskMpoints:"/loong/api/mpoints-task",getCalcMpointDetail:"/loong/api/mpoints-calc",getCycle:"/loong/api/mpoints-calc-cycle",getAnalysisMpointDetail:"/loong/api/mpoints-analysis",getMpointNumByType:"/loong/api/mpoints/batch/all",getMpointDataImportList:"/loong/api/mpoint-data-imports",deleteMpointDataImport:"/loong/api/mpoint-data-imports",stopMpointDataImport:"/loong/api/mpoint-data-imports",pointDataImportTempleDownload:o.a+"/loong/api/mpoint-data-imports/templeDownload",pointDataImportFileUpload:o.a+"/loong/api/mpoint-data-imports/fileUpload"};a.a=s},568:function(t,a,e){"use strict";var o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"c-title-css"},[t._v("基本信息")]),t._v(" "),e("Form",{ref:"pointForm",attrs:{model:t.point,"label-width":120}},[e("Row",{staticStyle:{"padding-left":"20px","padding-top":"20px"}},[e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"区域位置:"}},[e("span",[t._v(t._s(t.point.siteName))])])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"测点名称:"}},[e("span",[t._v(t._s(t.point.mpointName))])])],1)],1),t._v(" "),e("Row",{staticStyle:{"padding-left":"20px"}},[e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"测点类别:"}},[e("span",[t._v(t._s(1==t.point.mpointType?"工艺测点":2==t.point.mpointType?"设备测点":"系统测点"))])])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"数据分类:"}},[e("span",[t._v(t._s(t.point.categoryName))])])],1)],1),t._v(" "),e("Row",{staticStyle:{"padding-left":"20px"}},[e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"信号类型:"}},[e("span",[t._v(t._s("State"===t.point.datype?"状态信号":"数值信号"))])])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"显示小数位:"}},[e("span",[t._v(t._s(t.point.numtail))])])],1),t._v(" "),"State"===t.point.datype?e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"状态值:"}},[e("span",[t._v(t._s(t.enumvalueChange(t.point.enumvalue)))])])],1):e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"单位:"}},[e("span",[t._v(t._s(t.point.unit))])])],1),t._v(" "),t.showPoint?e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"点位:"}},[e("span",[t._v(t._s(t.point.point))])])],1):t._e()],1),t._v(" "),e("Row",{staticStyle:{"padding-left":"20px"}},[e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"所属设备:"}},[e("span",[t._v(t._s(t.point.equipmentName))])])],1),t._v(" "),e("Col",{attrs:{span:"10"}},[e("FormItem",{attrs:{label:"备注:"}},[e("span",[t._v(t._s(t.point.remarks))])])],1)],1)],1)],1)};o._withStripped=!0;var s={data:function(){return{showPoint:!1,point:{}}},methods:{enumvalueChange:function(t){return"0,关;1,开;"==t?"0,关;1,开;":"0,关;1,开;2:自动;"==t?"0,关;1,开;2:自动;":t}}},n=e(1),i=Object(n.a)(s,o,[],!1,null,null,null);i.options.__file="src/views/mpoint/mpoint/detail/form-detail.vue";a.a=i.exports},698:function(t,a,e){var o=e(933);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);(0,e(17).default)("6ca7fd14",o,!1,{})},932:function(t,a,e){"use strict";var o=e(698);e.n(o).a},933:function(t,a,e){(a=e(10)(!1)).push([t.i,"\n.row-block {\r\n    padding: 20px 0 0 30px;\r\n    border-bottom: 1px solid #e6e6e6;\n}\n.row-block:last-child {\r\n    border: none;\n}\n.c-mpoint-form .c-adv-search {\r\n    border-top: 0;\n}\r\n",""]),t.exports=a}}]);