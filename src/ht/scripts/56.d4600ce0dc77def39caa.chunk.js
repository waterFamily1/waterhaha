(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{1176:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"c-main-border point-data-import-list"},[a("div",{staticClass:"c-left-border-blue"},[a("div",{staticClass:"c-search-main"},[a("div",{staticClass:"c-form-item"},[a("label",[t._v("时间：")]),t._v(" "),a("datepicker-ranger",{attrs:{width:"120px"},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v(" "),a("div",{staticClass:"c-form-item"},[a("label",[t._v("状态：")]),t._v(" "),a("Select",{staticStyle:{width:"auto","min-width":"200px","max-width":"450px"},attrs:{multiple:!0},model:{value:t.selectedStatusArr,callback:function(e){t.selectedStatusArr=e},expression:"selectedStatusArr"}},t._l(t.importStatus,(function(e,n,i){return a("Option",{key:n,attrs:{value:n}},[t._v(t._s(e))])})),1)],1),t._v(" "),a("div",{staticClass:"c-adv-search-btn"},[a("Button",{attrs:{type:"primary",shape:"circle"},on:{click:t.search}},[t._v("搜索")]),t._v(" "),a("Button",{staticClass:"c-btn-reset",attrs:{type:"primary",shape:"circle"},on:{click:t.searchParamsClean}},[t._v("重置")])],1)])]),t._v(" "),a("div",{staticClass:"c-top-border-gray"},[a("div",{staticClass:"c-table-top-btns"},[a("mg-uploader",{attrs:{pid:"mpointDataImport",uploadUrl:t.importUrl,max:50,btnText:"文件上传",accept:".xlsx",before:t.onBeforeUpload},on:{"on-success":t.uploadSucess}}),t._v(" "),a("Button",{staticClass:"c-btn-add",attrs:{type:"primary",shape:"circle"},on:{click:t.downloadTemplate}},[t._v("模板下载")])],1),t._v(" "),a("Table",{attrs:{columns:t.columns,data:t.listData,loading:t.loading,stripe:""}}),t._v(" "),a("Page",{staticClass:"table-page",attrs:{total:t.total,"page-size":t.searchParams.pageSize,current:t.searchParams.currentPage,"show-total":"","show-elevator":""},on:{"on-change":t.pageChange}})],1),t._v(" "),a("Modal",{attrs:{width:"600",title:"选择需要导入的测点"},model:{value:t.pointsModalShown,callback:function(e){t.pointsModalShown=e},expression:"pointsModalShown"}},[a("mg-select-table",{ref:"modalTable",attrs:{columns:t.modalColumns,url:t.modalUrl,selected:t.selected,manual:!1,searchPlaceholder:"输入测点名称以检索"},on:{"on-submit":t.onModalSelect,"on-cancel":t.onModalSelectCancel}}),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)};n._withStripped=!0;var i=a(23),o=a(11),r=a(520),s=a(39),l=a(537),c=a(549),d=a(523),u={name:"data-import",components:{mgSelectTable:l.a,mgUploader:c.a,datepickerRanger:d.a},data:function(){var t=this;return{dateRange:{start:null,end:null},selectedStatusArr:[],searchParams:{beginDT:null,endDT:null,status:null,pageSize:10,currentPage:1},columns:[{title:"状态",key:"status",width:120,render:function(e,a){return e("div",[e("span",{attrs:{class:"circle-"+a.row.status}}),t.importStatus[a.row.status]])}},{title:"时间",key:"importBegintime",width:140,render:function(t,e){return o.a.tableDatetime(t,e.row.importBegintime)}},{title:"时长",key:"importDuration",width:140},{title:"备注",key:"memo"},{title:"操作",key:"act",align:"left",width:120,render:function(e,a){var n=[o.a.tableBtnStyle(e,(function(){o.a.download(s.a.download+"?fileUrl="+a.row.templeDownload)}),"下载文件")];return 0==a.row.status&&n.push(o.a.tableBtnStyle(e,(function(){t.deleteImportRecord(a.row.id)}),"删除")),1==a.row.status&&n.push(o.a.tableBtnStyle(e,(function(){t.stopDataImport(a.row.id)}),"中止")),e("div",n)}}],listData:[],loading:!1,total:0,pointsModalShown:!1,modalColumns:[{type:"selection",width:50},{title:"区域位置",key:"siteName"},{title:"测点名称",key:"mpointName"}],modalUrl:r.a.modalMpoints,selected:[],importUrl:r.a.pointDataImportFileUpload}},computed:Object(i.b)({importStatus:function(t){return t.map.mpoint.importStatus}}),created:function(){o.a.initTableColumnTitle(this.columns),this.dateRange.start=o.a.transDateFromLocale(o.a.formatDateTime((new Date).getTime()-6048e5,"yyyy-MM-dd")+" 00:00:00"),this.dateRange.end=o.a.transDateFromLocale(o.a.formatDateTime(new Date,"yyyy-MM-dd")+" 23:59:59"),this.search()},methods:{getData:function(){var t=this;this.loading=!0,this.$http.get(r.a.getMpointDataImportList,this.searchParams).then((function(e){e.items&&(t.listData=e.items,t.total=e.total,t.loading=!1)}))},search:function(){this.searchParams.currentPage=1,0==this.selectedStatusArr.length?this.searchParams.status=null:this.searchParams.status=this.selectedStatusArr.join(","),this.searchParams.beginDT=this.dateRange.start,this.searchParams.endDT=this.dateRange.end,this.getData()},searchParamsClean:function(){this.selectedStatusArr=[],this.dateRange={start:o.a.transDateFromLocale(o.a.formatDateTime((new Date).getTime()-6048e5,"yyyy-MM-dd")+" 00:00:00"),end:o.a.transDateFromLocale(o.a.formatDateTime(new Date,"yyyy-MM-dd")+" 23:59:59")},this.searchParams.currentPage=1},pageChange:function(t){this.searchParams.currentPage=t,this.getData()},stopDataImport:function(t){var e=this;this.$Modal.confirm({title:"是否中止数据导入",content:"已经导入的数据将不受影响",onOk:function(){e.$http.put(r.a.stopMpointDataImport,{id:t,status:4}).then((function(t){t.count&&(e.$Notice.success({title:"成功",desc:"中止数据导入成功！",duration:3}),e.getData())}))}})},deleteImportRecord:function(t){var e=this;this.$Modal.confirm({title:"是否删除导入记录",content:"已经导入的数据将不受影响",onOk:function(){e.$http.del(r.a.deleteMpointDataImport,{ids:t}).then((function(t){t.count&&(e.$Notice.success({title:"成功",desc:"导入记录删除成功！",duration:3}),e.getData())}))}})},downloadTemplate:function(){this.pointsModalShown=!0},onModalSelectCancel:function(t,e){this.pointsModalShown=!1},onModalSelect:function(t){var e=[];t.forEach((function(t){e.push(t.id)})),e.length?(this.pointsModalShown=!1,o.a.download(r.a.pointDataImportTempleDownload+"?mpointIds="+e.join())):this.$Notice.info({title:"请选择测点"})},uploadSucess:function(t,e,a){t&&t.id&&(this.$Notice.success({title:"成功",desc:"文件上传成功！",duration:3}),this.getData())},onBeforeUpload:function(){var t=this;return new Promise((function(e,a){t.$Modal.confirm({title:"是否确认导入",content:"导入后，测点在相应时间点的值如果存在，将会被覆盖。",onOk:function(){e()},onCancel:function(){a()}})}))}}},p=(a(926),a(1)),m=Object(p.a)(u,n,[],!1,null,null,null);m.options.__file="src/views/mpoint/data-import/list.vue";e.default=m.exports},515:function(t,e,a){var n=a(522);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(17).default)("43cd0b0e",n,!1,{})},517:function(t,e,a){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i={F:function(t,e){if(!t)return"";"object"!=n(t)&&(t=new Date(t)),e=e||"yyyy-MM-dd";var a=t.getFullYear().toString(),i={M:t.getMonth()+1,d:t.getDate(),h:t.getHours(),m:t.getMinutes(),s:t.getSeconds()};for(var o in e=e.replace(/(y+)/gi,(function(t,e){return a.substr(4-Math.min(4,e.length))})),i)e=e.replace(new RegExp("("+o+"+)","g"),(function(t,e){return i[o]<10&&e.length>1?"0"+i[o]:i[o]}));return e},str2Date:function(t){if(t)return"object"!=n(t)?new Date(t):t},firstDayByWeek:function(t){var e=i.str2Date(t)||new Date,a=e.getDay(),n=(0==a?7:a)-1;return i.midnight(new Date(e.getTime()-24*n*60*60*1e3))},firstDayByMonth:function(t){var e=i.str2Date(t)||new Date;return i.midnight(new Date(e.getFullYear(),e.getMonth(),1))},firstDayByYear:function(t){var e=i.str2Date(t)||new Date;return i.midnight(new Date(e.getFullYear(),0,1))},countDateByStep:function(t,e,a,n){t=i.formatePolyfill(t);var o,r=i.str2Date(t)||new Date(t),s=r.getTime(),l=(new Date).getTime();switch(a){case"day":o=s+864e5*e;break;case"week":o=s+6048e5*e;break;case"month":o=new Date(r.getFullYear(),r.getMonth()+e,r.getDate()).getTime(),n&&(o=new Date(r.getFullYear(),r.getMonth()+e,r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()).getTime());break;case"year":o=new Date(r.getFullYear()+e,r.getMonth(),r.getDate()).getTime(),n&&(o=new Date(r.getFullYear()+e,r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds()).getTime())}return o>l&&(o=l),n?o:i.midnight(o)},midnight:function(t){return t?i.F(t)+" 00:00:00":""},beforeMidnight:function(t){return t?i.F(t)+" 23:59:59":""},midnightMill:function(t){var e=i.str2Date(t)||new Date;return new Date(i.midnight(e)).getTime()},chain:function(t,e){return i.countDateByStep(t,-1,e)},yearOFyear:function(t){return i.countDateByStep(t,-1,"year")},getPeriods:function(t){var e,a=t.beginDate,n=new Date(i.formatePolyfill(a)),o=n.getTime();switch(t.cycle){case"day":e=o+864e5;break;case"week":e=o+6048e5;break;case"month":e=new Date(n.getFullYear(),n.getMonth()+1,n.getDate(),0,0,0).getTime();break;case"year":e=new Date(n.getFullYear()+1,n.getMonth(),n.getDate(),0,0,0).getTime()}return{min:o,max:new Date(e).getTime()}},formatePolyfill:function(t){return"string"!=typeof t?t:("string"==typeof t&&0==/[TZ]/.test(t)&&(t=t.replace(/-/g,"/")),t)},getTerminalsByMonth:function(t,e){var a,n;return 0==e?(a=new Date(t,0,1,0,0,0),n=new Date(t,11,31,23,59,59)):(a=new Date(t,e-1,1,0,0,0),n=new Date(t,e,0,23,59,59)),{start:a,end:n}},transDateFromServer:function(t,e){return t?("string"==typeof t&&0==/[TZ]/.test(t)&&(t=t.replace(/-/g,"/")),i.F(t,e||"yyyy-MM-dd hh:mm")):""},transDateFromLocale:function(t){return t?("string"==typeof t&&(0==/[TZ]/.test(t)&&(t=t.replace(/-/g,"/")),t=new Date(t)),t.toISOString()):""},strToData:function(t){var e=t.split(" ")[0].split("-"),a=[];return void 0!==t.split(" ")[1]&&(a=t.split(" ")[1].split(":")),new Date(e[0],e[1]-1,e[2],null!==a[0]?a[0]:0,null!==a[1]?a[1]:0,null!==a[2]?a[2]:0)}};e.a=i},520:function(t,e,a){"use strict";var n=a(22),i={modalMpoints:"/loong/api/mpoints/dialog",alarmChart:"/loong/api/mpoints/alarm-condition",downloadTemplate:n.a+"/loong/api/mpoints/excel-template-download",exportTemplate:n.a+"/loong/api/mpoints/export",importExcel:n.a+"/loong/api/mpoints/import",saveExcelData:"/loong/api/mpoints/import-save",cancelExcelData:"/loong/api/mpoints/import-cancel",getCategroyData:"/loong/api/mpoints-datacategory",getMpointsList:"/loong/api/mpoints",deleteMpoints:"/loong/api/mpoints",deleteAllMpoints:"/loong/api/mpoints/all",batchSave:"/loong/api/mpoints/batch",autoMpoints:"/loong/api/mpoints-auto",datainputMpoints:"/loong/api/mpoints-datainput",taskMpoints:"/loong/api/mpoints-task",getCalcMpointDetail:"/loong/api/mpoints-calc",getCycle:"/loong/api/mpoints-calc-cycle",getAnalysisMpointDetail:"/loong/api/mpoints-analysis",getMpointNumByType:"/loong/api/mpoints/batch/all",getMpointDataImportList:"/loong/api/mpoint-data-imports",deleteMpointDataImport:"/loong/api/mpoint-data-imports",stopMpointDataImport:"/loong/api/mpoint-data-imports",pointDataImportTempleDownload:n.a+"/loong/api/mpoint-data-imports/templeDownload",pointDataImportFileUpload:n.a+"/loong/api/mpoint-data-imports/fileUpload"};e.a=i},521:function(t,e,a){"use strict";var n=a(515);a.n(n).a},522:function(t,e,a){(e=a(10)(!1)).push([t.i,"\n.cmp-datepicker {\r\n\tdisplay: inline-block;\n}\r\n",""]),t.exports=e},523:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cmp-datepicker"},[a("DatePicker",{style:{width:t.width},attrs:{type:"date",placeholder:"开始日期",value:t.dateRange.start,disabled:t.disabled,options:t.startDateOptions},on:{"on-change":t.startDateChange}}),t._v(" "),a("span",[t._v(" - ")]),t._v(" "),a("DatePicker",{style:{width:t.width},attrs:{type:"date",placeholder:"结束日期",value:t.dateRange.end,disabled:t.disabled,options:t.endDateOptions},on:{"on-change":t.endDateChange}})],1)};n._withStripped=!0;var i=a(11),o=a(517),r={name:"datepickerRanger",props:{value:Object,width:String,disabled:{type:Boolean,default:!1},enabled:String},watch:{"value.start":function(t){this.dateRange.start=i.a.transDateFromServer(t,"yyyy-MM-dd")},"value.end":function(t){this.dateRange.end=i.a.transDateFromServer(t,"yyyy-MM-dd")}},data:function(){var t=this,e=o.a.midnightMill();return{dateRange:{start:i.a.transDateFromServer(this.value.start,"yyyy-MM-dd"),end:i.a.transDateFromServer(this.value.end,"yyyy-MM-dd")},startDateOptions:{disabledDate:function(a){return"coming"==t.enabled?a&&a.valueOf()<e:"halfYear"===t.enabled?a&&a.valueOf()<e-15552e6:t.dateRange.end&&a&&a.valueOf()>1*new Date(t.dateRange.end+" 23:59:59")}},endDateOptions:{disabledDate:function(a){var n=1*new Date(t.dateRange.start+" 00:00:00"),i=a&&a.valueOf();return"past"==t.enabled?a&&i>e:t.dateRange.start&&a&&i<n}}}},methods:{startDateChange:function(t){this.dateRange.start=t;var e=this.dateRange.start?i.a.transDateFromLocale(this.dateRange.start+" 00:00:00"):"",a=this.dateRange.end?i.a.transDateFromLocale(this.dateRange.end+" 23:59:59"):"";this.$emit("input",{start:e,end:a}),this.$emit("on-change",{start:e,end:a})},endDateChange:function(t){this.dateRange.end=t;var e=this.dateRange.start?i.a.transDateFromLocale(this.dateRange.start+" 00:00:00"):"",a=this.dateRange.end?i.a.transDateFromLocale(this.dateRange.end+" 23:59:59"):"";this.$emit("input",{start:e,end:a}),this.$emit("on-change",{start:e,end:a})}}},s=(a(521),a(1)),l=Object(s.a)(r,n,[],!1,null,null,null);l.options.__file="src/components/datepicker-ranger.vue";e.a=l.exports},528:function(t,e,a){var n=a(535);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(17).default)("ad278fbc",n,!1,{})},534:function(t,e,a){"use strict";var n=a(528);a.n(n).a},535:function(t,e,a){(e=a(10)(!1)).push([t.i,"\n.mg-select-table-tip {\r\n\ttext-align: right;\r\n\tline-height: 30px;\r\n\tcolor: #999;\n}\n.mg-select-table-tip strong {\r\n\tcolor: #777;\r\n\tmargin: 0 3px;\n}\n.mg-select-table-search .ivu-icon {\r\n\tright: 35px;\n}\r\n",""]),t.exports=e},537:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mg-select-table"},[t._t("top"),t._v(" "),a("div",{staticClass:"mg-select-table-header"},[t._t("default",[a("div",{staticClass:"mg-select-table-search"},[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:t.searchPlaceholder,clearable:""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},model:{value:t.searchParams.queryName,callback:function(e){t.$set(t.searchParams,"queryName",e)},expression:"searchParams.queryName"}},[a("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:t.search},slot:"append"})],1)],1)]),t._v(" "),a("div",{staticClass:"mg-select-table-tip"},[t._v("已选择"),a("strong",[t._v(t._s(t.selectedTemp.length))]),t._v("个 "),a("a",{staticClass:"c-btn-text",attrs:{href:"javascript:;"},on:{click:t.cleanup}},[t._v("[清空]")])])],2),t._v(" "),a("div",{attrs:{id:t.TID}},[a("Table",{ref:t.tableRef,attrs:{columns:t.columns,data:t.listData,loading:t.loading,stripe:"",size:t.size},on:{"on-select":t.onSelect,"on-select-cancel":t.onSelectCancel,"on-select-all":t.onSelectAll}})],1),t._v(" "),a("Page",{staticClass:"table-page",attrs:{total:t.total,"page-size":t.searchParams.pageSize,current:t.searchParams.currentPage,"show-total":"","show-elevator":"",size:t.size},on:{"on-change":t.pageChange}}),t._v(" "),a("div",{staticClass:"c-modal-footer-btns",staticStyle:{margin:"30px auto 0"}},[a("Button",{attrs:{type:"default",shape:"circle"},on:{click:t.cancel}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary",shape:"circle"},on:{click:t.submit}},[t._v("确定")])],1)],2)};n._withStripped=!0;var i=a(11),o={name:"mgSelectTable",props:{disabledRow:Boolean,selected:Array,searchPlaceholder:String,columns:{type:Array,default:[]},url:String,size:{type:String,default:"small"},max:Number,manual:Boolean,field:String},watch:{selected:function(t){var e=JSON.stringify(t);this.selectedTemp=JSON.parse(e),this.selectedTruth=JSON.parse(e),this.checkSelection()}},data:function(){return{TID:"",searchParams:{queryName:"",currentPage:1,pageSize:10},listData:[],selectedTemp:[],selectedTruth:[],loading:!1,total:0,tableRef:""}},methods:{cleanup:function(){this.selectedTemp=[],this.selectedTruth=[],this.checkSelection()},getData:function(t){var e=this;t&&(this.searchParams=Object.assign({},{queryName:"",currentPage:1,pageSize:10},t)),this.loading=!0,this.$http.get(this.url,this.searchParams).then((function(t){var a=t.items?t.items:[];e.disabledRow&&a.forEach((function(t){t.disabled&&(t._disabled=!0)})),e.field&&a.forEach((function(t){t.id||(t.id=t[e.field])})),e.listData=a,e.total=t.total,e.loading=!1,e.checkSelection()}))},pageChange:function(t){this.searchParams.currentPage=t,this.getData()},search:function(){this.searchParams.currentPage=1,this.getData()},onSelect:function(t,e){var a=this.selectedTemp;this.max&&a.length>=this.max?(this.$Notice.info({title:"最多选择"+this.max+"个"}),this.cancelChecked(e.id)):this.selectedTemp.push(e)},onSelectCancel:function(t,e){var a=this;this.selectedTemp.forEach((function(t,n){t.id==e.id&&a.selectedTemp.splice(n,1)}))},onSelectAll:function(t){0==t.length?this.removeTableFromTemp(this.listData):this.addTableToTemp(t)},addTableToTemp:function(t){var e=this.selectedTemp;t.forEach((function(t){var a=!1;e.forEach((function(e,n){e.id==t.id&&(a=!0)})),a||e.push(t)}))},removeTableFromTemp:function(t){for(var e=this.selectedTemp,a=e.length;a--;){var n=!1;t.forEach((function(t){t.id==e[a].id&&(n=!0)})),n&&e.splice(a,1)}},cancelChecked:function(t){var e=this;this.checkSelection();var a=this.selectedTemp,n=[];a.forEach((function(a){a.id==t&&e.$set(a,"_checked",!1),n.push(a)})),this.selectedTemp=n},checkSelection:function(){var t=this;this.$nextTick((function(){var e=t.listData,a=t.selectedTemp,n=t.$refs[t.tableRef];e.forEach((function(t,e){var i=n.$refs.tbody.objData[e];i._isChecked=!1,a.forEach((function(e){e.id==t.id&&(i._isChecked=!0)}))}))}))},submit:function(){this.selectedTruth=i.a.copyArray(this.selectedTemp),this.$emit("on-submit",this.selectedTruth)},cancel:function(){this.selectedTemp=i.a.copyArray(this.selectedTruth),this.checkSelection(),this.$emit("on-cancel")}},mounted:function(){this.max&&(document.querySelector("#"+this.TID).querySelector(".ivu-table-header").querySelector(".ivu-table-cell").style.display="none"),this.manual||this.getData()},created:function(){var t=i.a.gusid(6);this.TID="J_TABLE_"+t,this.tableRef="mg-select-table-"+t,i.a.initTableColumnTitle(this.columns)}},r=(a(534),a(1)),s=Object(r.a)(o,n,[],!1,null,null,null);s.options.__file="src/components/mg-select-table.vue";e.a=s.exports},549:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"inline-block"}},[a("Upload",{ref:t.ref,attrs:{accept:t.accept,"max-size":t.maxSize,action:t.uploadUrl,"show-upload-list":!1,"before-upload":t.onBeforeUpload,"on-success":t.onSuccessUpload,"on-error":t.onErrorUpload,"on-progress":t.onProgressUpload,"on-exceeded-size":t.onExceededUpload,data:t.params}},[a("Button",{staticClass:"c-btn-add",attrs:{type:"primary",size:t.btnSize}},[t._v(t._s(t.btnText))])],1)],1)};n._withStripped=!0;var i=a(39),o=(a(23),a(11)),r={name:"mgUploader",props:{uploadUrl:{type:String,default:i.a.upload},pid:String,accept:String,max:{type:Number,default:2},btnText:{type:String,default:"点击上传"},before:Function,btnSize:{type:String,default:"default"},params:Object},data:function(){return{ref:"uploader-ref-"+o.a.gusid(8)}},computed:{maxSize:function(){return 1024*this.max}},methods:{onUpload:function(t){return t.size/1024/1024<this.max?(this.$store.commit("uploader/add",{id:t.uid,name:t.name,ref:this.$refs[this.ref],percent:0,page:this.$route.path,error:!1}),!0):(this.$Notice.warning({title:"上传文件大小不能超过"+this.max+"Mb"}),!1)},onBeforeUpload:function(t){var e=this;if(!this.before)return this.onUpload(t);var a=this.before();return a&&a.then?a.then((function(){e.onUpload(t)})):!1!==a&&this.onUpload(t)},onSuccessUpload:function(t,e){this.$store.commit("uploader/update",{id:e.uid,percent:100}),this.$emit("on-success",t,e)},onErrorUpload:function(t,e,a){this.$Notice.error({title:"上传失败",desc:"文件名："+a.name}),this.$store.commit("uploader/failed",a.uid)},onProgressUpload:function(t,e,a){this.$store.commit("uploader/update",{id:e.uid,percent:parseInt(e.percentage,10)})},onExceededUpload:function(t,e){}}},s=a(1),l=Object(s.a)(r,n,[],!1,null,null,null);l.options.__file="src/components/mg-uploader.vue";e.a=l.exports},695:function(t,e,a){var n=a(927);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(17).default)("104f989a",n,!1,{})},926:function(t,e,a){"use strict";var n=a(695);a.n(n).a},927:function(t,e,a){(e=a(10)(!1)).push([t.i,"\n.circle-0,\r\n.circle-1,\r\n.circle-2,\r\n.circle-3,\r\n.circle-4,\r\n.circle-5 {\r\n    display: inline-block;\r\n    width: 5px;\r\n    height: 5px;\r\n    border-radius: 2.5px;\r\n    vertical-align: middle;\r\n    margin-right: 5px;\n}\n.circle-0 {\r\n    background-color: #739afb;\n}\n.circle-1,\r\n.circle-2,\r\n.circle-3 {\r\n    background-color: #52c990;\n}\n.circle-4 {\r\n    background-color: #f0a33f;\n}\n.circle-5 {\r\n    background-color: #fc7775;\n}\r\n",""]),t.exports=e}}]);