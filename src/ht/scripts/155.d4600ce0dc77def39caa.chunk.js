(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{1054:function(t,a,e){"use strict";var i=e(750);e.n(i).a},1055:function(t,a,e){(a=e(10)(!1)).push([t.i,"\n.material .ivu-tabs-bar {\r\n  margin-bottom: 0;\n}\n.span-datype{\r\n    width: 20px;\r\n    height: 20px;\r\n    color: #fff;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    display: block;  \r\n    border-radius: 20px;\r\n    vertical-align: middle;\r\n    line-height: 20px;\n}\n.span-datype-staus{background: #7ED321;}\n.span-datype-digtal{background: #4A90E2;}\r\n",""]),t.exports=a},1208:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"material  c-main-border"},[e("div",{staticClass:"c-left-border-blue"},[e("h3",[t._v("测试详情")]),t._v(" "),e("div",{staticClass:"c-btns-right"},[e("Button",{staticClass:"c-btn-back",attrs:{type:"primary",shape:"circle"},on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),e("div",{staticClass:"c-top-border-gray c-form-data-show"},[e("div",{staticClass:"c-form-row-2col"},[e("div",{staticClass:"c-form-item"},[e("label",[t._v("测试日期：")]),t._v("\n                "+t._s(t.detailInfo.createDate)+"\n            ")]),t._v(" "),e("div",{staticClass:"c-form-item"},[e("label",[t._v("测试开始：")]),t._v("\n                "+t._s(t.detailInfo.startTime)+"\n            ")])]),t._v(" "),e("div",{staticClass:"c-form-row-2col"},[e("div",{staticClass:"c-form-item"},[e("label",[t._v("测试时长：")]),t._v("\n                "+t._s(t.detailInfo.duration+(t.detailInfo.durationUnit?t.detailInfo.durationUnit:""))+"\n            ")]),t._v(" "),e("div",{staticClass:"c-form-item"},[e("label",[t._v("测试结束：")]),t._v("\n                "+t._s(t.detailInfo.endTime)+"\n            ")])])]),t._v(" "),e("div",{staticClass:"c-top-border-gray"},[e("Tabs",{attrs:{animated:!1}},[e("TabPane",{staticClass:"padding10",attrs:{label:"报警列表"}},[e("Table",{attrs:{columns:t.columnsByAlarm,data:t.listDataByAlarm,loading:t.loadingByAlarm,stripe:""}}),t._v(" "),e("Page",{staticClass:"table-page",attrs:{total:t.totalByAlarm,"page-size":t.searchParamsByAlarm.pageSize,current:t.searchParamsByAlarm.currentPage,"show-total":"","show-elevator":""},on:{"on-change":t.pageChangeByAlarm}})],1),t._v(" "),e("TabPane",{staticClass:"padding10",attrs:{label:"测点列表"}},[e("Table",{attrs:{columns:t.columnsByPoint,data:t.listDataByPoint,loading:t.loadingByPoint,stripe:""}}),t._v(" "),e("Page",{staticClass:"table-page",attrs:{total:t.totalByPoint,"page-size":t.searchParamsByPoint.pageSize,current:t.searchParamsByPoint.currentPage,"show-total":"","show-elevator":""},on:{"on-change":t.pageChangeByPoint}})],1)],1)],1)])};i._withStripped=!0;var r=e(11),n=e(150),s={data:function(){var t=this;return{detailInfo:{},searchParamsByAlarm:{equIds:"",beginDate:"",endDate:"",currentPage:1,pageSize:5},totalByAlarm:0,loadingByAlarm:!1,columnsByAlarm:[{title:"设备编号",key:"equNo"},{title:"设备名称",key:"equipmentName"},{title:"报警类型",key:"alarmType"},{title:"报警名称",key:"alarmName"},{title:"区域位置",key:"siteName"},{title:"报警时间",key:"alarmTriggerTime",width:110,render:function(t,a){return r.a.tableDatetime(t,a.row.alarmTriggerTime)}},{title:"解除时间",key:"alarmReleaseTime",width:110,render:function(t,a){return r.a.tableDatetime(t,a.row.alarmReleaseTime)}},{title:"报警状态",key:"alarmStatus",render:function(t,a){return t("span","Remove"!=a.row.alarmStatus?"未解除":"解除")}},{title:"解除操作",key:"alarmReleaseType"}],listDataByAlarm:[],searchParamsByPoint:{equIds:"",beginDate:"",endDate:"",currentPage:1,pageSize:5},totalByPoint:0,loadingByPoint:!1,columnsByPoint:[{title:"测点编号",key:"mpointId"},{title:"区域位置",key:"siteName"},{title:"测点名称",key:"mpointName"},{title:"当前值",key:"value"},{title:"单位",key:"unit"},{title:"业务时间",key:"datadt",width:110,render:function(t,a){return r.a.tableDatetime(t,a.row.datadt)}},{title:"信号类型",key:"datype",width:100,render:function(t,a){return t("span",{class:{"span-datype span-datype-staus":"State"!=a.row.datype,"span-datype span-datype-digtal":"State"==a.row.datype},attrs:{title:"Digtal"==a.row.datype?"数值信号":"状态信号"}},"State"==a.row.datype?"D":"A")}},{title:"数据来源",key:"datasource",render:function(a,e){return a("span",t.changeDatasource(e.row.datasource))}},{title:"数据分类",key:"categoryName"},{title:"所属租户",key:"tenantName"}],listDataByPoint:[]}},methods:{back:function(){this.$router.back()},getListByAlarm:function(){var t=this;this.loadingByAlarm=!0,this.$http.get(n.a.getAlarmRecordsList,this.searchParamsByAlarm).then((function(a){t.listDataByAlarm=a.items||[],t.totalByAlarm=a.total,t.loadingByAlarm=!1}))},getListByPoint:function(){var t=this;this.loadingByPoint=!0,this.$http.get(n.a.getMpointsList,this.searchParamsByPoint).then((function(a){t.listDataByPoint=a.items||[],t.totalByPoint=a.total,t.loadingByPoint=!1}))},pageChangeByAlarm:function(t){this.searchParamsByAlarm.currentPage=t,this.getListByAlarm()},pageChangeByPoint:function(t){this.currentCacheData={},this.searchParamsByPoint.currentPage=t,this.getListByPoint()},changeDatasource:function(t){return t="AUTO"===t?"自动采集":"INPUT"===t?"人工录入":"数据计算"}},created:function(){var t=this,a=this.$route.params.id;r.a.initTableColumnTitle(this.columnsByAlarm),r.a.initTableColumnTitle(this.columnsByPoint),this.$http.get(n.a.getTestpatternDetail,{id:a}).then((function(a){a.startTime=r.a.transDateFromServer(a.startTime,"yyyy-MM-dd hh:mm:ss"),a.endTime=r.a.transDateFromServer(a.endTime,"yyyy-MM-dd hh:mm:ss"),a.createDate=r.a.transDateFromServer(a.createDate,"yyyy-MM-dd hh:mm:ss").split(" ")[0],t.detailInfo=a,t.searchParamsByAlarm=Object.assign({},t.searchParamsByAlarm,{equIds:a.equIds||"",beginDate:a.startTime,endDate:a.endTime}),t.searchParamsByPoint=Object.assign({},t.searchParamsByPoint,{equIds:a.equIds||"",beginDate:a.startTime,endDate:a.endTime}),t.getListByAlarm(),t.getListByPoint()}))}},l=(e(1054),e(1)),o=Object(l.a)(s,i,[],!1,null,null,null);o.options.__file="src/views/system/test-mode/detail.vue";a.default=o.exports},750:function(t,a,e){var i=e(1055);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,e(17).default)("27f71551",i,!1,{})}}]);