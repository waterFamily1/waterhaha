(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{1162:function(t,a,o){"use strict";o.r(a);var n=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"c-main-border"},[o("div",{staticClass:"c-left-border-blue"},[o("h3",[t._v("查看单测点计算任务")]),t._v(" "),o("div",{staticClass:"c-btns-right"},[o("Button",{staticClass:"c-btn-back",attrs:{type:"primary",shape:"circle"},on:{click:t.back}},[t._v("返回")])],1)]),t._v(" "),o("div",{staticClass:"c-top-border-gray padding20-14"},[o("Form",{ref:"pointForm",attrs:{model:t.point,"label-width":120}},[o("form-detail",{ref:"formDetail"}),t._v(" "),o("div",{staticClass:"c-title-css"},[t._v("\n                计算任务\n                "),o("RadioGroup",{staticStyle:{"margin-left":"23px"},model:{value:t.point.status,callback:function(a){t.$set(t.point,"status",a)},expression:"point.status"}},[o("Radio",{attrs:{label:"ON",disabled:""}},[t._v("启用")]),t._v(" "),o("Radio",{attrs:{label:"OFF",disabled:""}},[t._v("停用")])],1)],1),t._v(" "),o("Row",{staticStyle:{"padding-left":"20px","margin-top":"40px"}},[o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"任务名称:"}},[o("span",[t._v(t._s(t.point.taskname))])])],1),t._v(" "),o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"数据源测点:"}},[o("span",[t._v(t._s(t.point.mpointname))])])],1)],1),t._v(" "),o("Row",{staticStyle:{"padding-left":"20px"}},[o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"计算方法:"}},[o("span",[t._v(t._s(t.transFormula(t.point.formulaid)))])])],1),t._v(" "),o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"计算周期:"}},[o("span",[t._v(t._s(t.transCycle(t.point.cycle)))])])],1)],1),t._v(" "),o("Row",{staticStyle:{"padding-left":"20px"}},[o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"任务开始时间:"}},[o("span",[t._v(t._s(t.point.startdt))])])],1),t._v(" "),o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"周期开始时间:"}},[o("span",[t._v(t._s(t.point.cycleStart))]),t._v(" "),o("span",[t._v(t._s(t.point.cycleStart?t.cycleTimeUnit:""))])])],1)],1)],1)],1)])};n._withStripped=!0;var i=o(11),s=o(568),e=o(520),l=o(548),p={components:{formDetail:s.a},data:function(){return{point:{mpointname:""},formula:[],cycle:[]}},computed:{cycleTimeUnit:function(){return{2:"时",3:"日",13:"月"}[this.point.cycle]}},created:function(){this.loadFormula("Simple"),this.loadCycle(),this.$route.params.id&&this.handleDetail(this.$route.params.id)},methods:{loadFormula:function(t){var a=this;this.$http.get(l.a.getFormula,{type:t}).then((function(t){a.formula=t.items}))},loadCycle:function(){var t=this;this.$http.get(e.a.getCycle).then((function(a){t.cycle=a}))},transFormula:function(t){var a="";return this.formula.forEach((function(o){o.id===t&&(a=o.fname)})),a},transCycle:function(t){var a="";return this.cycle.forEach((function(o){o.id===t&&(a=o.cycleName)})),a},createTask:function(){},handleDetail:function(t){var a=this,o=t;this.$http.get(e.a.getCalcMpointDetail+"/"+o).then((function(t){t&&(a.$refs.formDetail.point=t,a.$http.get(l.a.editPointSimple,{mpointId:o}).then((function(t){t.items&&(t.items.startdt=i.a.F(t.items.startdt,"yyyy-MM-dd hh:mm:ss"),a.point=Object.assign(a.point,t.items),a.$http.get(l.a.getCalcTask,{taskId:t.items.id}).then((function(t){t.items&&(a.point.mpointname=t.items[0].mpointName)})))})))}))},back:function(){this.$router.back()}}},r=o(1),m=Object(r.a)(p,n,[],!1,null,null,null);m.options.__file="src/views/mpoint/mpoint/detail/simple-detail.vue";a.default=m.exports},520:function(t,a,o){"use strict";var n=o(22),i={modalMpoints:"/loong/api/mpoints/dialog",alarmChart:"/loong/api/mpoints/alarm-condition",downloadTemplate:n.a+"/loong/api/mpoints/excel-template-download",exportTemplate:n.a+"/loong/api/mpoints/export",importExcel:n.a+"/loong/api/mpoints/import",saveExcelData:"/loong/api/mpoints/import-save",cancelExcelData:"/loong/api/mpoints/import-cancel",getCategroyData:"/loong/api/mpoints-datacategory",getMpointsList:"/loong/api/mpoints",deleteMpoints:"/loong/api/mpoints",deleteAllMpoints:"/loong/api/mpoints/all",batchSave:"/loong/api/mpoints/batch",autoMpoints:"/loong/api/mpoints-auto",datainputMpoints:"/loong/api/mpoints-datainput",taskMpoints:"/loong/api/mpoints-task",getCalcMpointDetail:"/loong/api/mpoints-calc",getCycle:"/loong/api/mpoints-calc-cycle",getAnalysisMpointDetail:"/loong/api/mpoints-analysis",getMpointNumByType:"/loong/api/mpoints/batch/all",getMpointDataImportList:"/loong/api/mpoint-data-imports",deleteMpointDataImport:"/loong/api/mpoint-data-imports",stopMpointDataImport:"/loong/api/mpoint-data-imports",pointDataImportTempleDownload:n.a+"/loong/api/mpoint-data-imports/templeDownload",pointDataImportFileUpload:n.a+"/loong/api/mpoint-data-imports/fileUpload"};a.a=i},548:function(t,a,o){"use strict";o(22);a.a={getTask:"/loong/api/calc-tasks/origin-mpoint",getFormulas:"/loong/api/calc-tasks/formula",getFormula:"/loong/api/calc-formulas",editPointSimple:"/loong/api/calc-tasks/target-mpoint",getCalcTask:"/loong/api/calc-parms",delTaskCalc:"/loong/api/calc-tasks",getTasks:"/loong/api/calc-tasks",setTaskStatus:"/loong/api/calc-tasks/status",getTaskLog:"/loong/api/calc-tasks/log",refreshTalc:"/loong/api/calc-tasks/complement",refreshTalcBatch:"/loong/api/calc-tasks/batch-complements"}},568:function(t,a,o){"use strict";var n=function(){var t=this,a=t.$createElement,o=t._self._c||a;return o("div",[o("div",{staticClass:"c-title-css"},[t._v("基本信息")]),t._v(" "),o("Form",{ref:"pointForm",attrs:{model:t.point,"label-width":120}},[o("Row",{staticStyle:{"padding-left":"20px","padding-top":"20px"}},[o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"区域位置:"}},[o("span",[t._v(t._s(t.point.siteName))])])],1),t._v(" "),o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"测点名称:"}},[o("span",[t._v(t._s(t.point.mpointName))])])],1)],1),t._v(" "),o("Row",{staticStyle:{"padding-left":"20px"}},[o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"测点类别:"}},[o("span",[t._v(t._s(1==t.point.mpointType?"工艺测点":2==t.point.mpointType?"设备测点":"系统测点"))])])],1),t._v(" "),o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"数据分类:"}},[o("span",[t._v(t._s(t.point.categoryName))])])],1)],1),t._v(" "),o("Row",{staticStyle:{"padding-left":"20px"}},[o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"信号类型:"}},[o("span",[t._v(t._s("State"===t.point.datype?"状态信号":"数值信号"))])])],1),t._v(" "),o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"显示小数位:"}},[o("span",[t._v(t._s(t.point.numtail))])])],1),t._v(" "),"State"===t.point.datype?o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"状态值:"}},[o("span",[t._v(t._s(t.enumvalueChange(t.point.enumvalue)))])])],1):o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"单位:"}},[o("span",[t._v(t._s(t.point.unit))])])],1),t._v(" "),t.showPoint?o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"点位:"}},[o("span",[t._v(t._s(t.point.point))])])],1):t._e()],1),t._v(" "),o("Row",{staticStyle:{"padding-left":"20px"}},[o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"所属设备:"}},[o("span",[t._v(t._s(t.point.equipmentName))])])],1),t._v(" "),o("Col",{attrs:{span:"10"}},[o("FormItem",{attrs:{label:"备注:"}},[o("span",[t._v(t._s(t.point.remarks))])])],1)],1)],1)],1)};n._withStripped=!0;var i={data:function(){return{showPoint:!1,point:{}}},methods:{enumvalueChange:function(t){return"0,关;1,开;"==t?"0,关;1,开;":"0,关;1,开;2:自动;"==t?"0,关;1,开;2:自动;":t}}},s=o(1),e=Object(s.a)(i,n,[],!1,null,null,null);e.options.__file="src/views/mpoint/mpoint/detail/form-detail.vue";a.a=e.exports}}]);