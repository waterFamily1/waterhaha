(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{1285:function(e,i,t){"use strict";t.r(i);var a=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"home-item"},[t("h3",[e._v(e._s(e.healthDefault.processName)+" "),e.isEdit?t("a",{staticClass:"home-edit-btn",attrs:{href:"javascript:;"},on:{click:e.edit}},[e._v("编辑")]):e._e(),e.isEdit?t("a",{staticClass:"home-del-btn",attrs:{href:"javascript:;"},on:{click:e.del}},[e._v("删除")]):e._e()]),e._v(" "),t("div",{staticClass:"home-edifice-flex"},[e.edificeLoading?t("Spin",{attrs:{fix:""}}):e._e(),e._v(" "),e.itemData.data?t("div",{staticClass:"home-edifice"},[t("div",{staticClass:"edifice_img_default"},[e.healthDefault.imageUrl?t("img",{staticStyle:{"border-radius":"8px"},attrs:{src:e.healthDefault.imageUrl,width:"307",height:"160"}}):e._e()]),e._v(" "),t("div",{staticClass:"edifice-circle-main"},[t("div",{staticClass:"edifice-circle-pop"},[e._m(0),e._v(" "),t("p",[t("span",{staticClass:"span-left c-size-20"},[t("a",{staticClass:"c-color-fire",on:{click:function(i){return e.toRouterAlarm(1)}}},[e._v(e._s(e.healthDefault.fire))])]),e._v(" "),t("span",{staticClass:"c-size-20"},[t("a",{staticClass:"c-color-fault",on:{click:function(i){return e.toRouterAlarm(2)}}},[e._v(e._s(e.healthDefault.fault))])])])]),e._v(" "),t("div",{staticClass:"edifice-circle-div"},[t("span",{staticClass:"span-left"},[e._v("建筑物健康度")]),e._v(" "),t("span",{staticClass:"span-right edifice-circle"},[t("a",{staticClass:"edifice-link icon-health",class:[e.healthIcon]})])]),e._v(" "),t("div",{staticClass:"edifice-circle-div"},[t("span",{staticClass:"span-left"},[e._v("任务完成度")]),e._v(" "),t("span",{staticClass:"span-right task-circle"},[t("a",{class:["task-link",e.healthDefault.task<"60%"?"color-middle":"color-good"],on:{click:e.toRouterTaskPanel}},[e._v(e._s(e._f("E")(e.healthDefault.task)))])])])])]):t("div",{staticClass:"home-mod-empty"},[e._v("请点击编辑进行配置")])],1),e._v(" "),t("Modal",{attrs:{width:433,title:"选择区域位置","class-name":"dax-home-kpi-modal"},model:{value:e.processModalShown,callback:function(i){e.processModalShown=i},expression:"processModalShown"}},[t("div",{staticClass:"c-form-item"},[t("label",[e._v("区域位置：")]),t("dropdown-tree",{attrs:{url:e.treeApi.getProcessTreeData,width:250},model:{value:e.relProcess,callback:function(i){e.relProcess=i},expression:"relProcess"}})],1),e._v(" "),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("div",{staticClass:"c-modal-footer-btns"},[t("Button",{attrs:{type:"default",shape:"circle"},on:{click:function(i){e.processModalShown=!1}}},[e._v("取消")]),e._v(" "),t("Button",{attrs:{type:"primary",shape:"circle"},on:{click:e.add}},[e._v("确定")])],1)])])],1)};a._withStripped=!0;t(23);var n=t(145),c=(t(11),t(107)),o=t(31),s={components:{dropdownTree:n.a},props:{isEdit:Boolean,itemData:Object,orgId:{type:[String,Number],default:-1}},data:function(){return{treeApi:c.a,edificeLoading:!1,healthDefault:{},healthIcon:"",processModalShown:!1,relProcess:{id:"",title:"请选择"}}},methods:{del:function(){this.$emit("on-delete",this.itemData)},edit:function(){this.processModalShown=!0,this.relProcess.id=this.healthDefault.processId,this.relProcess.title=this.healthDefault.processName},getData:function(){var e=this;this.itemData.data&&this.itemData.data.processId&&(this.edificeLoading=!0,this.$http.get(o.a.hayWebHealthDefault,{processId:this.itemData.data.processId}).then((function(i){e.edificeLoading=!1,e.healthDefault=i,"优"==i.health?e.healthIcon="icon-perfect":"良"==i.health?e.healthIcon="icon-good":"中"==i.health?e.healthIcon="icon-fine":"差"==i.health&&(e.healthIcon="icon-bad")})))},add:function(){var e=this;this.$http.post(o.a.modSave,{i:this.itemData.i,data:JSON.stringify({processId:this.relProcess.id})}).then((function(i){i.count&&(e.processModalShown=!1,e.$Notice.success({title:"编辑成功"}),e.itemData.data={processId:e.relProcess.id},e.getData())}))},toRouterAlarm:function(e){this.$router.push({name:"alarm-fire-history",params:{type:e},query:{processId:this.healthDefault.processId,processName:this.healthDefault.processName}})},toRouterTaskPanel:function(){this.$router.push({name:"task-panel"})}},mounted:function(){this.getData()}},l=(t(849),t(1)),r=Object(l.a)(s,a,[function(){var e=this.$createElement,i=this._self._c||e;return i("p",[i("span",{staticClass:"span-left"},[this._v("火警")]),this._v(" "),i("span",[this._v("故障")])])}],!1,null,null,null);r.options.__file="src/views/home/components/6/building.vue";i.default=r.exports},636:function(e,i,t){var a=t(850);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);(0,t(17).default)("680aff6c",a,!1,{})},849:function(e,i,t){"use strict";var a=t(636);t.n(a).a},850:function(e,i,t){var a=t(10),n=t(24),c=t(851),o=t(852),s=t(853),l=t(854),r=t(855);i=a(!1);var d=n(c),f=n(o),p=n(s),h=n(l),m=n(r);i.push([e.i,".home-edifice-flex {\n  padding: 0 0 0 10px;\n  position: relative;\n}\n.home-edifice {\n  overflow: hidden;\n  padding: 10px 0 0 20px;\n}\n.home-edifice .edifice_img_default {\n  float: left;\n  margin-right: 40px;\n  width: 307px;\n  height: 160px;\n  border-radius: 5px;\n  background: url("+d+") no-repeat left top;\n  background-size: 100% 100%;\n  position: relative;\n}\n.home-edifice .edifice_img_default .pop {\n  display: none;\n  position: absolute;\n  right: -40px;\n  background: #76d3ed;\n  padding: 4px 10px;\n  top: -21px;\n  color: #fff;\n  opacity: 0.9;\n  font-size: 12px;\n  border-top-left-radius: 30px;\n  border-top-right-radius: 30px;\n  border-bottom-right-radius: 30px;\n}\n.home-edifice .edifice_img_default:hover .pop {\n  display: block;\n}\n.home-edifice img {\n  float: left;\n  margin-right: 40px;\n}\n.home-edifice .edifice-circle-main {\n  float: left;\n}\n.home-edifice .edifice-circle-main .edifice-circle-pop {\n  margin: 20px 0 5px 0;\n}\n.home-edifice .edifice-circle-main .edifice-circle-div {\n  margin: 6px 0;\n  color: #333;\n}\n.home-edifice .edifice-circle-main .edifice-circle-div .edifice-circle {\n  display: inline-block;\n  font-size: 20px;\n}\n.home-edifice .edifice-circle-main .edifice-circle-div .edifice-circle .edifice-link {\n  color: #4b7efe;\n}\n.home-edifice .edifice-circle-main .edifice-circle-div .task-circle {\n  display: inline-block;\n  font-size: 20px;\n  top: 3px;\n}\n.home-edifice .edifice-circle-main .edifice-circle-div .task-circle .task-link {\n  color: #F5A623;\n}\n.home-edifice .edifice-circle-main .span-left {\n  width: 85px;\n  display: inline-block;\n}\n.home-edifice .edifice-circle-main .span-right {\n  position: relative;\n  top: 5px;\n}\n.home-edifice .edifice-circle-main .c-size-20 {\n  font-size: 20px;\n}\n.home-edifice .edifice-circle-main .c-color-fire {\n  color: #e03e3c;\n}\n.home-edifice .edifice-circle-main .c-color-fault {\n  color: #4b7efe;\n}\n.edifice-item h3 {\n  height: 0;\n}\n.icon-health {\n  width: 30px;\n  height: 30px;\n  display: inline-block;\n  position: relative;\n  top: 5px;\n}\n.color-good {\n  color: #4b7efe !important;\n}\n.color-middle {\n  color: #F5A623 !important;\n}\n.color-bad {\n  color: #e03e3c !important;\n}\n.icon-perfect {\n  background: url("+f+") no-repeat 0 0;\n}\n.icon-good {\n  background: url("+p+") no-repeat 0 0;\n}\n.icon-fine {\n  background: url("+h+") no-repeat 0 0;\n}\n.icon-bad {\n  background: url("+m+") no-repeat 0 0;\n}\n",""]),e.exports=i},851:function(e,i,t){e.exports=t.p+"images/caf67b3635a5f40cb984f88667cacc8d.png"},852:function(e,i,t){e.exports=t.p+"images/954576b07f67892c503eb59f70d87aed.svg"},853:function(e,i,t){e.exports=t.p+"images/51810d8209f4328e1ab68e5ee2ae8837.svg"},854:function(e,i,t){e.exports=t.p+"images/2c27543bd21e456a10e183240b8e6de5.svg"},855:function(e,i,t){e.exports=t.p+"images/10555cfbe5093da20957455822b098f8.svg"}}]);