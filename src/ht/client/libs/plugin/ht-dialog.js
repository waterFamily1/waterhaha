!function(I,G){"use strict";var H="ht",n=I[H],b="px",j="left",a="top",p="bottom",W="right",g="innerHTML",f="className",z="",s="width",t="height",$="string",M="position",U="absolute",w="0",Z="opacity",J="background",y=n.Default,x=y.getInternal(),D=n.Color,R=y.animate,m=y.isTouchable,V=null,L=(Math.sqrt,I.parseInt),T=I.setTimeout,c=(Math.round,D.titleIconBackground),k=function(T){return typeof T===$||T instanceof String},_=function(){return document},h=function(s){return _().createElement(s)},O=function(){var f=h("div");return f.tabIndex=-1,f.style.outline="none",f},r=function(){return h("canvas")},S=function(t,m){Q(t,"-webkit-transform",m),Q(t,"-ms-transform",m),Q(t,"transform",m)},Q=function(q,z,e){q.style.setProperty(z,e,V)},F=function(a,D,E){y.def(n.widget[a],D,E)},i=function(V,o){V.appendChild(o)},u=function(){return _().documentElement},A=function(){return u().clientWidth},o=function(){return u().clientHeight},q=y.eventListenerOptionsFalse,N=(y.eventListenerOptionsTrue,function(i,R,Y,H){i.addEventListener(R,Y,H?q:q)}),v=function(U,f,E,K){U.removeEventListener(f,E,K?q:q)},X=function(G){var D=G.touches[0];return D?D:G.changedTouches[0]};x.addMethod(y,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:c},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:c}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:c},{type:"rect",rect:[10,10,80,20],background:c}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:c},{type:"rect",rect:[10,34,56,14],background:c},{type:"rect",rect:[34,10,56,14],background:c},{type:"rect",rect:[82,10,8,56],background:c},{type:"rect",rect:[66,62,24,8],background:c}]},dialogTitleLabelColor:y.labelSelectColor,dialogTitleLabelFont:(m?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:y.labelFont,dialogTitleBackground:D.titleBackground,dialogHeaderBackground:D.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var K=function(X){var s=this;s.$1d=X,s.addListeners()};y.def(K,G,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function($){var w=this,S=w.$1d,V=S.$6d,C=S._config,O=S.$7d,b=$,o=$.target;if(O.contains(o)||y.preventDefault($),y.isLeftButton($)){m&&(b=X($));var I=w.$8d={x:b.pageX,y:b.pageY};w.$9d={x:I.x,y:I.y},!C.maximized&&C.draggable&&V.contains(o)&&(w.$4d=!0,y.startDragging(w,$)),w.handle_mousemove($)&&(w.$2d=!0,y.startDragging(w,$)),O.contains($.target)||S.$41d.focus()}},handle_mousedown:function(j){this.handle_touchstart(j)},handle_touchend:function(G){if(y.isLeftButton(G)&&!this.$5d&&!this.$3d){var u=this,n=u.$1d,W=G.target,X=n._config,Q=n.$18d,x=n.$16d;for(X.closable&&Q.contains(W)&&n.hide(),X.maximizable&&x.contains(W)&&(X.maximized?n.restore():n.maximize());W&&(W.className||"").indexOf("dialog-button")<0;)W=W.parentNode;W&&W.buttonItem&&n.action&&n.action(W.buttonItem,G),delete u.$8d,delete u.$9d}},handle_mouseup:function(E){this.handle_touchend(E)},handleWindowTouchEnd:function(c){var J=this,r=J.$1d,k=r.$10d;J.$2d&&J.$3d?k.fire({kind:"endResize",target:r,originEvent:c}):J.$4d&&J.$5d&&k.fire({kind:"endMove",target:r,originEvent:c}),this.clear()},handleWindowMouseUp:function(v){this.handleWindowTouchEnd(v)},handle_mousemove:function(p){var h=this.$1d._config;if(h.maximized)return!1;if("w"!==h.resizeMode&&"h"!==h.resizeMode&&"wh"!==h.resizeMode)return!1;var a=this,v=a.getView(),G=v.querySelector(".resize-area"),O=G.getBoundingClientRect(),B={x:O.left,y:O.top,width:O.width,height:O.height};p=m?X(p):p;var R=p.clientX,w=p.clientY,F={x:R,y:w};return y.containsPoint(B,F)?(Q(v,"cursor","nwse-resize"),!0):(Q(v,"cursor",z),void 0)},handleWindowTouchMove:function($){$.preventDefault();var M=$;m&&(M=X($));var Y=this,W=Y.$8d,H=Y.$9d;if(!(H.x==W.x&&H.y==W.y&&y.getDistance(H,{x:M.pageX,y:M.pageY})<=1)){var P=Y.$1d,B=P._config,Z=P.$21d,N=B.resizeMode||"wh",l=M.pageX-W.x,q=M.pageY-W.y;if(Y.$2d){var g=Z.offsetWidth,f=Z.offsetHeight,S=g+l,i=f+q;if(S=Math.max(S,50),i=Math.max(i,50),"center"===B.position||B.position==V){var I={},u=Z.getBoundingClientRect();I.x=u.left,I.y=u.top,B.position=I}"w"===N?(P.setSize(S,f),W.x+=S-g):"h"===N?(P.setSize(g,i),W.y+=i-f):"wh"===N&&(P.setSize(S,i),W.x+=S-g,W.y+=i-f),Y.$3d?P.$10d.fire({kind:"betweenResize",target:P,originEvent:$}):(Y.$3d=!0,P.$10d.fire({kind:"beginResize",target:P,originEvent:$}))}else if(Y.$4d){var p=Z.getBoundingClientRect(),t=p.width,w=p.height,E=A(),K=o(),_=L(Z.style.left)||0,F=L(Z.style.top)||0,C=_+l,J=F+q,c=P.adjustPosition({x:C,y:J},{width:t,height:w},{width:E,height:K});c&&(C=c.x,J=c.y);var G=C-_,D=J-F;Q(Z,j,C+b),Q(Z,a,J+b),W.x+=G,W.y+=D,B.position={x:C,y:J},Y.$5d?P.$10d.fire({kind:"betweenMove",target:P,originEvent:$}):(Y.$5d=!0,P.$10d.fire({kind:"beginMove",target:P,originEvent:$}))}}},handleWindowMouseMove:function(J){this.handleWindowTouchMove(J)},handleWindowResize:function(){var Z=this,g=Z,J=g._config,N=g.$21d,M=A(),O=o(),W=J.width,z=J.height,x=J.position||"center";J.maximized?(Q(N,s,M+b),Q(N,t,O+b),Q(N,a,w),Q(N,j,w)):(Q(N,s,W+b),Q(N,t,z+b),"center"===x?(Q(N,j,(M-W)/2+b),Q(N,a,(O-z)/2+b)):(Q(N,j,x.x+b),Q(N,a,x.y+b))),g.iv()},handle_mousewheel:function(t){t.stopPropagation()},handle_DOMMouseScroll:function(u){u.stopPropagation()}}),n.widget.Dialog=function(w){var c=this,_=c._view=x.createView(null,c);_[f]="ht-widget-dialog",Q(_,M,U),y.baseZIndex!=V&&Q(_,"z-index",y.baseZIndex+"");var h=c.$11d=new K(c);c.bindingHandleWindowResize=h.handleWindowResize.bind(c),c.$10d=new n.Notifier,w&&c.setConfig(w)},F("Dialog",G,{ms_v:1,setTitle:function(N){this._config.title=N,this.getView().querySelector(".dialog-container-title span").innerHTML=N},clearNodes:function(d){if(d)for(;d.firstChild;)d.removeChild(d.firstChild)},$31d:function(){var P=this,B=P.$6d=O(),S=P._config,c=P.$12d=P.$13d();B[f]="dialog-container-title",Q(B,"cursor","default"),Q(B,"white-space","nowrap"),Q(B,"overflow","hidden"),Q(B,"font",y.dialogTitleLabelFont),Q(B,J,S.titleBackground||y.dialogTitleBackground),Q(B,"color",S.titleColor||y.dialogTitleLabelColor);var A=h("span"),Y=P.$25d();if(S.titleAlign&&Q(B,"text-align",S.titleAlign),S.titleIcon){var F=P.$14d=P.$15d();i(B,F)}if(S.title&&S.title.trim&&(S.title=S.title.trim()),A[g]=S.title||"&nbsp;",i(B,A),S.maximizable){var w=P.$16d=P.$17d();i(c,w)}if(S.closable){var p=P.$18d=P.$19d();i(c,p)}return i(B,c),Q(B,"display","block"),Q(B,"line-height",Y+b),B},$13d:function(){var J=O();return Q(J,M,U),Q(J,j,w),Q(J,W,5+b),Q(J,a,w),Q(J,p,w),Q(J,"text-align",W),Q(J,"white-space","nowrap"),J[f]="dialog-title-controls",J},$20d:function(){var t=this.$21d=O(),S=this._config,j=S.borderWidth;return Q(t,M,"fixed"),Q(t,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),Q(t,"padding",w+" "+j+b+" "+j+b+" "+j+b),Q(t,"box-sizing","border-box"),Q(t,"-moz-box-sizing","border-box"),t[f]="dialog-container",Q(t,J,S.titleBackground||y.dialogTitleBackground),t},$22d:function(){var F,d=this,c=d._config,l=d.$7d=O(),I=c.content,B=0,N=c.contentPadding||0;c.buttons!=V&&c.buttons.length>0&&(B=32),k(I)?l[g]=I:I.getView?(F=I.getView(),i(l,F)):(F=I,i(l,F)),Q(l,M,U),Q(l,"font",y.dialogContentLabelFont),n.Default.appendToScreen(l);var h=l.offsetWidth+1,G=l.offsetHeight,C=d.$25d();return c.width==V&&(c.width=h+10+2*N),c.height==V&&(c.height=G+C+B+5+2*N),n.Default.removeHTML(l),F&&(Q(F,"box-sizing","border-box"),Q(F,"-moz-box-sizing","border-box"),Q(F,s,"100%"),Q(F,t,"100%")),l[f]="dialog-content",Q(l,a,C+N+b),Q(l,p,B+N+b),Q(l,j,N+b),Q(l,W,N+b),Q(l,"overflow","hidden"),l},getOverlayDiv:function(){return this.$41d},$23d:function(){var A=this.$41d=O();return A[f]="dialog-overlay",Q(A,s,"100%"),Q(A,t,"100%"),Q(A,M,"fixed"),Q(A,a,w),Q(A,j,w),Q(A,J,"rgba(235, 235, 235, 0.7)"),A},_config:V,setSize:function(y,f){var Y=this,i=Y._config;i&&(i.width=y,i.height=f,Y.isShowing()&&(Y.bindingHandleWindowResize(),Y.iv()))},getConfig:function(){return this._config},$24d:function(){var G=this._config,H=G.titleIconSize||16;return m&&(H*=1.2),H},$25d:function(){var C=this._config,M=C.titleHeight||y.widgetTitleHeight;return M},$26d:function(T){Q(T,"cursor","pointer"),Q(T,"display","inline-block"),Q(T,"margin-right",(m?8:4)+b),Q(T,"vertical-align",a)},$27d:function(){var k=this.$30d=O(),R=10;return m&&(R=20),Q(k,s,R+b),Q(k,t,R+b),Q(k,M,U),Q(k,p,w),Q(k,W,w),k[f]="resize-area",k},$15d:function(){var V=this,F=r();F[f]="dialog-title-control dialog-title-control-icon";var l=V.$25d(),B=V.$24d();return V.$26d(F),x.setCanvas(F,B,l),F},$17d:function(){var O=r();O[f]="dialog-title-control dialog-title-control-maximize";var k=this.$25d(),m=this.$24d();return this.$26d(O),x.setCanvas(O,m,k),O},$19d:function(){var H=r();H[f]="dialog-title-control dialog-title-control-close";var u=this.$25d(),L=this.$24d();return this.$26d(H),x.setCanvas(H,L,u),H},$28d:function(){var d=O();return Q(d,J,"white"),Q(d,s,"100%"),Q(d,t,"100%"),Q(d,M,"relative"),d},$29d:function(){var E=this,k=O();Q(k,"line-height",32+b),Q(k,M,U),Q(k,p,w),Q(k,j,w),Q(k,"white-space","nowrap"),Q(k,"overflow","hidden"),Q(k,W,w),Q(k,J,y.dialogHeaderBackground),k[f]="dialog-container-buttons";var Y=this._config,G=Y.buttonsAlign||W,I=0;return Q(k,"text-align",G),E.$42d=[],Y.buttons.forEach(function(Y){var L=new n.widget.Button,p=L.getView();p[f]="dialog-button "+Y.className,p.buttonItem=Y,E.$42d.push(L),L.setBorderColor(V),L.setBackground(y.dialogButtonBackground),L.setSelectBackground(y.dialogButtonSelectBackground),L.setLabelColor(y.dialogButtonLabelColor),Q(p,M,"relative"),Q(p,"display","inline-block"),Q(p,"text-align",j),Q(p,"height",24+b);var P=m?10:5;G===j||G===W?Q(p,"margin-"+G,P+b):0===I||Q(p,"margin-"+j,P+b),Q(p,"vertical-align","middle");var T=y.getTextSize(L.getLabelFont(),Y.label).width+10;L.onClicked=function(o){Y.action&&Y.action.call(E,Y,o)},L.setLabel(Y.label),L.setDisabled(Y.disabled),Q(p,s,T+b),i(k,L.getView()),I++}),k},setConfig:function(O){if(O){var a=this,g=a._view;a._config=O,a.action=O.action,a.clearNodes(g),O.borderWidth==V&&(O.borderWidth=5);var I=a.$23d(),L=a.$28d(),B=a.$31d(),X=a.$22d(),U=a.$20d(),d=a.$30d=a.$27d();if(i(g,I),i(g,U),i(U,L),i(L,B),i(L,X),O.buttons!=V&&O.buttons.length>0){var G=a.$29d();i(L,G)}i(U,d),O.maximized?(O.maximized=!1,a.bindingHandleWindowResize(),a.maximize(!0)):a.bindingHandleWindowResize(),a.isShowing()&&a.iv()}},hide:function(){var M=this,B=M.$21d,E=M.$41d,Q=M._view;Q[f]="ht-widget-dialog",R(B).duration(200).scale(.7).set(Z,w).end(function(){M.onHidden&&M.onHidden(),n.Default.removeHTML(Q),M.$10d.fire({kind:"hide",target:M})}),R(E).duration(200).set(Z,w).end(),v(I,"resize",M.bindingHandleWindowResize)},isShowing:function(){return!!this._view.parentNode},setModal:function(n){this.$41d.style.display=n?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var a=this,$=a._config,t=a.$21d;S(t,z),a.iv(),$.maximized?a.$10d.fire({kind:"maximize",target:a}):a.$10d.fire({kind:"restore",target:a})},maximize:function(y){var q=this,V=q.$21d,W=q._config;if(!W.maximized){W.maximized=!0,q.$33d(),q.$16d[f]="dialog-title-control dialog-title-control-minimize";var Q=A(),x=o(),J=W.width,C=W.height,X=L(V.style.left)||0,m=L(V.style.top)||0;q.$36d=J,q.$37d=C,q.$34d=X,q.$35d=m;var O=y?0:200;R(V).duration(O).set(j,w).set(a,w).set(s,Q+b).set(t,x+b).end(function(){q.$32d()})}},restore:function(){var B=this,L=B.$34d,r=B.$35d,O=B.$36d,l=B.$37d,d=B._config;if(d.maximized&&(d.maximized=!1,B.$33d(),B.$16d[f]="dialog-title-control dialog-title-control-maximize",B.isShowing()&&L!=V&&r!=V&&O!=V&&l!=V)){var U=B.$21d;R(U).duration(200).set(j,L+b).set(a,r+b).set(s,O+b).set(t,l+b).end(function(){B.$32d()})}delete B.$34d,delete B.$35d,delete B.$36d,delete B.$37d},show:function(){var $=this,y=$._view,Y=$._config,g=$.$21d,_=$.$41d;Y&&Y.zIndex!=V&&Q(y,"z-index",Y.zIndex+z),n.Default.appendToScreen(y),S(g,"scale(0.7)"),Q(g,Z,w),$.iv(),$.validate(),$._view[f]+=" dialog-show",T(function(){R(g).duration(200).scale(1).set(Z,"1").end(function(){Q(g,s,g.clientWidth+b),Q(g,t,g.clientHeight+b),$.onShown&&$.onShown(),$.$10d.fire({kind:"show",target:$});var A=Y&&Y.content;A&&A.iv&&A.iv()}),R(_).duration(200).set(Z,"1").end(),N(I,"resize",$.bindingHandleWindowResize)},30)},setPosition:function(G){var b=this.$21d;b.style.left=G.x+"px",b.style.top=G.y+"px"},addEventListener:function(E,w,j){this.$10d.add(E,w,j)},removeEventListener:function(f,l){this.$10d.remove(f,l)},$38d:function(K,S,A,M){var h=x.initContext(K);x.translateAndScale(h,0,0,1),h.clearRect(0,0,A,A);var o=(A-M)/2;y.drawStretchImage(h,y.getImage(S),"fill",0,o,M,M),h.restore()},$33d:function(){var x=this,J=x._config,m=x.$16d,G=J.maximized?y.dialogRestoreIcon:y.dialogMaximizeIcon;if(m&&G){var X=x.$25d(),H=x.$24d();x.$38d(m,y.getImage(G),X,H)}},$39d:function(){var K=this,b=K._config,l=K.$14d,z=b.titleIcon;if(l&&z){var n=K.$25d(),B=K.$24d();K.$38d(l,y.getImage(z),n,B)}},$40d:function(){var V=this,j=V.$18d,k=y.dialogCloseIcon;if(j&&k){var a=V.$25d(),p=V.$24d();V.$38d(j,y.getImage(k),a,p)}},invalidate:function(R){var s=this,L=s.$42d;s._68I||(s._68I=1,y.callLater(s.validate,s,V,R),s.onInvalidated&&s.onInvalidated(),s.fireViewEvent("invalidate"));var o=s._config.content;o.invalidate&&o.invalidate(),L&&L.forEach(function(n){n.iv()})},validateImpl:function(){var Q=this;Q.$40d(),Q.$33d(),Q.$39d();var p=Q._config.content;p.initView&&(p.setX(0),p.setY(0),p.setWidth(Q.$7d.clientWidth),p.setHeight(Q.$7d.clientHeight))},adjustPosition:function(B,C,T){var h=C.width,m=C.height,u=T.width,F=T.height,r=B.x,s=B.y,w=this._config,$=w.minDragSize||20;return"inside"===w.dragMode?(r+h>u&&(r=u-h),s+m>F&&(s=F-m),0>r&&(r=0),0>s&&(s=0)):(null==w.dragMode||"none"===w.dragMode)&&(-h+$>r&&(r=-h+$),r>u-$&&(r=u-$),s>F-$&&(s=F-$),0>s&&(s=0)),{x:r,y:s}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);