!function(d,X,p){"use strict";var y="ht",U=d[y],N=U.Default,x=N.isTouchable,e=U.Color,H="px",Z="0",j="innerHTML",b="className",W="position",C="absolute",i="width",O="height",m="left",q="top",u="right",$="bottom",t="max-width",P="max-height",D=null,V="none",I="",Y=d.parseInt,s=d.setTimeout,h=N.getInternal(),r=N.animate,T=e.titleIconBackground,J=function(){return document},k=function(O){return J().createElement(O)},v=function(){return k("div")},c=function(){return k("canvas")},f=function(R,u,U){R.style.setProperty(u,U,D)},G=function(I,u){return I.style.getPropertyValue(u)},l=function(X,R){X.appendChild(R)},R=function(Q,J){Q.removeChild(J)},E=N.eventListenerOptionsFalse,S=(N.eventListenerOptionsTrue,function(S,w,x,c){S.addEventListener(w,x,c?E:E)}),B=function(m){var I=m.scrollWidth,S=m.scrollHeight;return m===J().body&&(I=Math.max(I,J().documentElement.scrollWidth),S=Math.max(S,J().documentElement.scrollHeight)),{width:I,height:S}},M=function(f){var L=f.touches[0];return L?L:f.changedTouches[0]};h.addMethod(N,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:T,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:T}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:T},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:T}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:T},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:T}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:T},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:T}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:T},{type:"rect",rect:[10,118,268,56],background:T},{type:"rect",rect:[10,213,268,56],background:T}]},panelTitleLabelColor:N.labelSelectColor,panelTitleLabelFont:N.labelFont,panelContentLabelFont:N.labelFont,panelTitleBackground:e.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:p},!0);var w=U.widget.Panel=function(K){var t=this,c=t._view=h.createView(null,t);t.$1i=0,t.$18i=new U.Notifier,t.$2i="leftTop",f(c,q,Z),f(c,m,Z),f(c,W,C),f(c,"overflow","hidden"),t._interactor=new g(t),t.setConfig(K),t.addEventListener(function(E){var P=t.getPanelConfig(E.id),n=P.content;("beginRestore"===E.kind||"betweenResize"===E.kind||"endToggle"===E.kind)&&(n&&n.invalidate&&n.invalidate(),P.items&&P.items.forEach(function(z){z&&z.content&&z.content.invalidate&&z.content.invalidate()}))})};N.def(w,X,{ms_v:1,_dragContainment:"parent",setConfig:function(E){function h(f){f.expanded=!f.expanded,_.togglePanel(f.id,!0,!0)}if(E){for(var _=this,Q=_._view.parentNode;this._view.children.length;)this._view.removeChild(this._view.children[0]);_._config=E,_.$35i=[],E.expanded==D&&(E.expanded=E.expand!=D?E.expand:!0);var q=_._view,g=_.$24i(E,q,!0),c=g[2],T=E.width;_.$35i.push(g[1]),E.items&&E.items.forEach(function(e){e.expanded==D&&(e.expanded=e.expand!=D?e.expand:!0);var H=_.$24i(e,c.children[0]);_.$35i.push(H[1])});var o=v();f(o,i,10+H),f(o,O,10+H),f(o,W,C),f(o,$,Z),f(o,u,Z),o[b]="resize-area",l(q,o),_.$10i(),E.flowLayout&&f(q,W,"relative"),f(q,"opacity",Z),l(J().body,q),T==D&&(T=q.offsetWidth),f(q,i,T+H),f(q,t,T+H);var z=E.content;z&&z.isSelfViewEvent&&(z.setX(0),z.setY(0),z.setWidth(T-2*(E.borderWidth||0)),z.setHeight(E.contentHeight)),E.items&&E.items.forEach(function(E){h(E)}),E.buttons&&E.buttons.indexOf("toggle")<0||h(E),E.minimized==D&&E.minimize!=D&&(E.minimized=E.minimize),E.minimized&&E.minimizable!==!1&&_.minimize(!0),R(J().body,q),f(q,"opacity",I),Q&&l(Q,q),_.iv()}},getPanelConfig:function(w){var s=this,j=s._config,C=j.items;if(j.id===w)return j;if(C)for(var R=0;R<C.length;R++){var l=C[R];if(l.id===w)return l}},getPanelView:function(r){for(var S=this,m=S.$35i,d=0;d<m.length;d++){var D=m[d],P=D.parentNode;if(P.$15i===r)return P}},setDragContainment:function(t){this._dragContainment=t},getDragContainment:function(){return this._dragContainment},$20i:function(){var k=this._config,O=k.restoreIconSize||24;return O},$5i:function(Z){var w=Z.titleIconSize||16;return x&&(w*=1.2),w},$4i:function(S){var o=S.titleHeight||N.widgetTitleHeight;return o},setTitle:function(O,G){if(G==D&&(G=this._config.id),G!=D){var f=this.getPanelConfig(G),p=this.getPanelView(G);f.title=O,p.querySelector(".panel-title span").innerHTML=O}},setInnerPanel:function(R){var B,P,n=this,Y=R.id,V=n.$35i,u=!1;if(R.expanded==D&&(R.expanded=!0),Y!=D){var p=n.getPanelConfig(Y);if(p){u=!0;var c,O=n.getPanelView(Y),F=O.parentNode,s=O.children[0];if(O!==n._view){n.$11i();for(c in p)delete p.key;for(c in R)p[c]=R[c];B=n.$24i(R,F,!1,O),P=B[1],F.removeChild(O);for(var q=0;q<V.length;q++)if(V[q]===s){V.splice(q,1,P);break}n.$12i(),p.expanded=!p.expanded,n.togglePanel(p.id,!0,!0),n.iv()}}}if(!u){n.$11i(),B=n.$24i(R,n._view.children[1]),P=B[1],V.push(P),n._config.items||(n._config.items=[]);var k=n._config.items;if(k.push(R),n.$12i(),k.length>1){var i=k[k.length-2],j=n.getPanelView(i.id).children[0];f(j,"border-bottom",n.$55i(i))}R.expanded=!R.expanded,n.togglePanel(R.id,!0,!0),n.iv()}},removeInnerPanel:function(j){var P,t=this,p=-1,A=t._config.items;if(A)for(P=0;P<A.length;P++){var $=A[P];if($.id===j){p=P;break}}if(t.$11i(),p>=0){var w=t.$35i,s=t.getPanelView(j),W=s.children[0];for(P=0;P<w.length;P++)if(w[P]===W){w.splice(P,1);break}A.splice(p,1),s.parentNode.removeChild(s)}if(t.$12i(),A.length>0){var C=A[A.length-1],z=t.getPanelView(C.id).children[0];f(z,"border-bottom",t.$55i(C))}},$6i:function(J){f(J,"cursor","pointer"),f(J,"display","inline-block"),f(J,"margin-right",(x?8:4)+H),f(J,"vertical-align",q)},$24i:function(r,X,T,d){var z=this,B=z._config.flowLayout,o=T?X:v(),O=z.$50i(r),S=z.$3i(r,T);o[b]="ht-widget-panel"+(T?" outer-panel":" inner-panel"),r.borderWidth==D&&(r.borderWidth=T?2:0);var $=r.borderWidth;if($="0 "+$+H+" "+$+H+" "+$+H+" ",f(o,"border-width",$),f(o,"border-color",r.titleBackground||N.panelTitleBackground),f(o,"border-style","solid"),l(o,S),l(o,O),T||(d?X.insertBefore(o,d):l(X,o)),!B&&T&&r.minimizable!==!1){var i=c(),F=z.$20i(),A=r.restoreToolTip;h.setCanvas(i,F,F),i[b]="control-button button-minimize button-minimize-restore",z.$6i(i),f(i,"display","none"),l(X,i),i.title=A||""}var P=r.panelBackground||r.titleBackground||N.panelTitleBackground;if(f(o,"background-color",P),r.id==D){for(var Q=z.$1i++;z.getPanelConfig(Q);)Q=z.$1i++;r.id=Q}return o.$15i=r.id,r.width&&(o.style.width=r.width+H),[o,S,O]},$9i:function(C){var U=c();U[b]="control-button button-toggle button-toggle-expand",U.title=C.toggleToolTip||"";var T=this.$4i(C),v=this.$5i(C);return this.$6i(U),h.setCanvas(U,v,T),U},$8i:function(T){var $=c(),y="control-button button-independent-switch";$[b]=T.independent===!0?y+" button-independent-switch-on":y+" button-independent-switch-off",$.title=T.independentSwitchToolTip||"";var x=this.$4i(T),p=this.$5i(T);return this.$6i($),h.setCanvas($,p,x),$},$7i:function(g){var C=c();C[b]="control-button button-minimize button-minimize-minimize",C.title=g.minimizeToolTip||"";var p=this.$4i(g),w=this.$5i(g);return this.$6i(C),h.setCanvas(C,w,p),C},$55i:function(s){var h=this._config,Z=h.items,p=s.separatorWidth||N.panelSeparatorWidth,M=s.titleBackground||N.panelTitleBackground,U=s.expanded!==!1?M:s.separatorColor||N.panelSeparatorColor||N.brighter(M);return(h===s||Z&&Z.indexOf(s)===Z.length-1)&&(p=0),p+H+" solid "+U},$3i:function(z,K){var p=this,x=p._config.flowLayout,V=v(),D=v(),F=p.$4i(z),U=z.titleBackground,e=z.titleColor,G=z.titleIcon,B=z.buttons;if(V[b]="panel-title",f(V,W,"relative"),f(V,"background",U||N.panelTitleBackground),f(V,"color",e||N.panelTitleLabelColor),f(V,q,Z),f(V,"box-sizing","border-box"),f(V,"-moz-box-sizing","border-box"),f(V,"padding","0 5px 0 0"),f(V,i,"100%"),f(V,"cursor","default"),f(V,"white-space","nowrap"),f(V,"font",N.panelTitleLabelFont),G){var Q=c();Q[b]="control-button panel-title-icon";var T=p.$4i(z),a=p.$5i(z);p.$6i(Q),h.setCanvas(Q,a,T),l(V,Q)}var o=k("span");f(o,"display","inline-block"),f(o,"margin-left","5px"),o[j]="<span>"+z.title+"</span>",l(V,o),f(V,"line-height",F+H),D[b]="panel-title-controls",f(D,W,C),f(D,m,Z),f(D,u,5+H),f(D,q,Z),f(D,$,Z),f(D,"text-align",u);var J=function(){var q=p.$9i(z);l(D,q)},s=function(){if(!x&&K&&z.minimizable!==!1){var A=p.$7i(z);l(D,A)}},d=function(){if(!K){var Q=p.$8i(z);l(D,Q)}},I=function(O){var Y=c();Y[b]="control-button custombutton-"+O.name,Y.title=O.toolTip||"",Y._action=O.action;var x=p.$4i(z),v=p.$5i(z);p.$6i(Y),h.setCanvas(Y,v,x),l(D,Y)};if(B)for(var P=0;P<B.length;P++){var Y=B[P];"string"==typeof Y?"minimize"===Y?s():"independentSwitch"===Y?d():"toggle"===Y&&J():"object"==typeof Y&&I(Y)}else s(),J();return l(V,D),V},$50i:function(u){var q=v(),_=u.contentHeight,o=v();f(o,W,"relative"),q[b]="panel-body",f(q,"overflow","hidden");var C=u.contentBackground;if(C===p&&(C="white"),f(q,"background",C),f(q,"font",N.panelContentLabelFont),l(q,o),u.content){var t,G=u.content;G.getView?(l(o,G.getView()),t=o.children[0]):G instanceof Element?(l(o,G),t=o.children[0]):o[j]=G,G.isSelfViewEvent||t&&(f(t,i,"100%"),f(t,O,"100%")),_&&f(o,O,_+H)}return q},$10i:function(){var U=this,p=U._config,t=U._view,q=t.querySelector(".resize-area").style;q.display=p.flowLayout||p.minimized===!0||p.expanded===!1?V:"block"},$11i:function(){var Q=this._view,s=Q.children[1];this.$13i>=0?this.$13i++:this.$13i=1,f(s,P,I),f(Q,t,I)},$12i:function(){var v=--this.$13i;if(0===v){var x=this._view,r=x.children[1];f(r,P,r.scrollHeight+H),f(x,t,x.offsetWidth+H)}},$14i:function(){var m=this._view,B=m.children[0],n=B.children[1].children,g=this._config,W=0;m.$26i=m.offsetWidth,W+=B.children[0].offsetWidth,g.titleIcon&&(W+=B.children[1].offsetWidth,n=B.children[2].children);for(var F=0;F<n.length;F++){var f=n[F];W+=f.offsetWidth+5}m.$51i=W+15},togglePanel:function(C,y,K){function $(g){var L=g.target,D=L.parentNode,d=c.getPanelConfig(D.$15i);delete D.$19i,L!==O&&c.$12i(),c.$18i.fire({kind:"endToggle",target:c,id:d.id})}for(var c=this,s=c._view,O=s.children[1],k=D,V=c.$35i,A=V.length,G=c._config.exclusive,B=c.$2i,L=[],u=c._config.narrowWhenCollapse,o=0;A>o;o++){var T=V[o],X=T.parentNode,h=X.$15i,N=c.getPanelConfig(h);h===C&&(k=X),!y&&G&&N.expanded&&X!==s&&h!==C&&N.independent!==!0&&L.push(X)}if(k&&!k.$19i){k.$19i=!0;var x=k.children[1],M=k.querySelector(".button-toggle"),Q=c.getPanelConfig(k.$15i);if(!M)return;k===s||Q.expanded||Q.independent===!0||L.forEach(function(G){c.togglePanel(G.$15i,!0)}),k!==s&&c.$11i();var W=200;if(K&&(W=0),c.$18i.fire({kind:"beginToggle",target:c,id:k.$15i}),Q.expanded){var l=function(){M[b]="control-button button-toggle",M[b]+=B.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",f(x,i,x.clientWidth+H),Q.expanded=!1,f(k.children[0],"border-bottom",c.$55i(Q)),r(x).duration(W).set("opacity",Z).set(P,Z).end($),u&&k===s&&r(k).duration(W).set(t,k.$51i+H).end(),k[b]+=" panel-collapse",r(k).duration(W).set("padding-bottom",Z).end(),c.$28i(Q,!0),c.$10i()};u&&k===s&&c.$14i(),l()}else M[b]="control-button button-toggle",M[b]+=B.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",f(x,i,I),Q.expanded=!0,f(k.children[0],"border-bottom",c.$55i(Q)),r(x).duration(W).set("opacity","1").set(P,x.scrollHeight+H).end($),u&&k===s&&r(k).duration(W).set(t,(k.$26i||k.offsetWidth)+H).end(),k[b]=k[b].replace(" panel-collapse",I),r(k).duration(W).end(),c.$28i(Q,!0),c.$10i()}},$16i:function(){var K=this._view,G=K.$22i,Y=K.$23i,Z=this.$2i;return G==D&&(Z.indexOf(m)>=0?G=K.$22i=0:Z.indexOf(u)>=0&&(G=K.$22i=100)),Y==D&&(Z.indexOf("Top")>=0?Y=K.$23i=0:Z.indexOf("Bottom")>=0&&(Y=K.$23i=100)),[G,Y]},$25i:function(){var Q=this,i=Q._view,F=i.$21i,z=Q.$20i(),a=Q.$16i(),e=a[0],w=a[1],T=Q.$2i;i.children[0].style.display=V,i.children[1].style.display=V,i.children[2].style.display=I,f(i,"padding",Z),f(i,t,z+H),"leftTop"===T?(f(i,m,Y(G(i,m))+(F.width-z)*e/100+H),f(i,q,Y(G(i,q))+(F.height-z)*w/100+H)):"leftBottom"===T?(f(i,m,Y(G(i,m))+(F.width-z)*e/100+H),f(i,$,Y(G(i,$))+(F.height-z)*(1-w/100)+H)):"rightTop"===T?(f(i,u,Y(G(i,u))+(F.width-z)*(1-e/100)+H),f(i,q,Y(G(i,q))+(F.height-z)*w/100+H)):"rightBottom"===T&&(f(i,u,Y(G(i,u))+(F.width-z)*(1-e/100)+H),f(i,$,Y(G(i,$))+(F.height-z)*(1-w/100)+H)),i[b]+=" panel-minimized",Q.$18i.fire({kind:"endMinimize",target:Q,id:i.$15i})},$17i:function(){var s=this,P=s._config,e=s._view;f(e,"-webkit-transform",I),f(e,"-ms-transform",I),f(e,"transform",I),P.minimized?s.$25i():(s.$18i.fire({kind:"endRestore",target:s,id:P.id}),e[b]=e[b].replace(" panel-minimized",I)),delete e.$19i},minimize:function(d){var W=this,Y=W._view;if(!Y.$19i&&Y.children[0].style.display!==V){var e=W._config,K=Y.getBoundingClientRect(),k=W.$20i(),D=K.width,c=K.height,u=k/D,b=k/c,n=W.$16i(),o=n[0],w=n[1];Y.$52i=u,Y.$53i=b,Y.$21i=K,W.$18i.fire({kind:"beginMinimize",target:W,id:Y.$15i});var z=200;d&&(z=0),e.minimized=!0,Y.$19i=!0,e.expanded&&(Y.$26i=Y.offsetWidth);var j=o+"% "+w+"%";f(Y,"-webkit-transform-origin",j),f(Y,"-ms-transform-origin",j),f(Y,"transform-origin",j),r(Y).duration(z).scale(u,b).end(function(){W.$17i()}),W.$10i()}},restore:function(){var w,C,x,E,P,K,L,k,M,i,J,j,e=this,D=e._view,g=D.parentNode,Q=e._config;if(!D.$19i&&Q.minimized){var S=D.$21i,l=D.$52i,A=D.$53i,b=(Q.borderWidth+H,e.$20i()),N=B(g),W=e.$2i;"leftTop"===W?(w=Y(G(D,m)),x=Y(G(D,q)),P=w,L=x,M=w+S.width-N.width,i=x+S.height-N.height,M>0&&(M>=w?w=0:w-=M),i>0&&(i>=x?x=0:x-=i),J=100*((P-w)/(S.width-b)),j=100*((L-x)/(S.height-b)),f(D,m,w+H),f(D,q,x+H)):"leftBottom"===W?(w=Y(G(D,m)),E=Y(G(D,$)),P=w,k=E,M=w+S.width-N.width,i=E+S.height-N.height,M>0&&(M>=w?w=0:w-=M),i>0&&(i>=E?E=0:E-=i),J=100*((P-w)/(S.width-b)),j=100*(1-(k-E)/(S.height-b)),f(D,m,w+H),f(D,$,E+H)):"rightTop"===W?(C=Y(G(D,u)),x=Y(G(D,q)),K=C,L=x,M=C+S.width-N.width,i=x+S.height-N.height,M>0&&(M>=C?C=0:C-=M),i>0&&(i>=x?x=0:x-=i),J=100*(1-(K-C)/(S.width-b)),j=100*((L-x)/(S.height-b)),f(D,u,C+H),f(D,q,x+H)):"rightBottom"===W&&(C=Y(G(D,u)),E=Y(G(D,$)),K=C,k=E,M=C+S.width-N.width,i=E+S.height-N.height,M>0&&(M>=C?C=0:C-=M),i>0&&(i>=E?E=0:E-=i),J=100*(1-(K-C)/(S.width-b)),j=100*(1-(k-E)/(S.height-b)),f(D,u,C+H),f(D,$,E+H)),D.children[0].style.display="block",D.children[1].style.display="block",D.children[2].style.display=V,f(D,"-webkit-transform","scale("+l+", "+A+")"),f(D,"-ms-transform","scale("+l+", "+A+")"),f(D,"transform","scale("+l+", "+A+")"),D.$22i=J,D.$23i=j,f(D,"-webkit-transform-origin",J+"% "+j+"%"),f(D,"-ms-transform-origin",J+"% "+j+"%"),f(D,"transform-origin",J+"% "+j+"%"),Q.narrowWhenCollapse&&!Q.expanded?f(D,t,D.$51i+H):f(D,t,D.$26i+H),e.$18i.fire({kind:"beginRestore",target:e,id:D.$15i}),D.$19i=!0,Q.minimized=!1,s(function(){r(D).scale(1,1).end(function(){e.$17i()})},30),e.$10i()}},addEventListener:function(u,d,b){this.$18i.add(u,d,b)},removeEventListener:function(N,m){this.$18i.remove(N,m)},setPosition:function(s,p){var A=this._view,i=this.$2i;"leftTop"===i?(f(A,m,s+H),f(A,q,p+H),f(A,u,I),f(A,$,I)):"leftBottom"===i?(f(A,m,s+H),f(A,$,p+H),f(A,u,I),f(A,q,I)):"rightTop"===i?(f(A,u,s+H),f(A,q,p+H),f(A,m,I),f(A,$,I)):"rightBottom"===i&&(f(A,u,s+H),f(A,$,p+H),f(A,m,I),f(A,q,I)),delete A.$22i,delete A.$23i},getPosition:function(){var K=this._view,I=this.$2i;return"leftTop"===I?{x:Y(G(K,m)),y:Y(G(K,q))}:"leftBottom"===I?{x:Y(G(K,m)),y:Y(G(K,$))}:"rightTop"===I?{x:Y(G(K,u)),y:Y(G(K,q))}:"rightBottom"===I?{x:Y(G(K,u)),y:Y(G(K,$))}:void 0},setPositionRelativeTo:function(I){var T=this,A=T._view.querySelectorAll(".button-toggle"),e="control-button button-toggle",m=T.getPosition();T.$2i=I,T.setPosition(m.x,m.y);for(var R=0;R<A.length;R++){var f=A[R],r=T.getPanelConfig(f.parentNode.parentNode.parentNode.$15i);f[b]=r.expanded?I.indexOf("Bottom")>=0?e+" button-toggle-collapse":e+" button-toggle-expand":I.indexOf("Bottom")>=0?e+" button-toggle-expand":e+" button-toggle-collapse"}T.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(f){var V=this;V._68I||(V._68I=1,N.callLater(V.validate,V,D,f),V.onInvalidated&&V.onInvalidated(),V.fireViewEvent("invalidate"));var p=this._config,h=p.content;h&&h.invalidate&&h.invalidate(),p.items&&p.items.forEach(function(n){n&&n.content&&n.content.invalidate&&n.content.invalidate()})},getIconStretch:function(){var I=this._config.iconStretch||"fill";return I},$27i:function(Z,O,R,t,p){var G=h.initContext(Z);h.translateAndScale(G,0,0,1),G.clearRect(0,0,R,R);var w=(R-t)/2;N.drawStretchImage(G,N.getImage(O),this.getIconStretch(p),0,w,t,t),G.restore()},$28i:function(h){var R,Z,X,l=this,g=h.id,I=l.getPanelView(g),G=I.querySelector(".button-toggle"),O=l.$2i.indexOf("Bottom")>=0;if(Z=O?N.panelCollapseIcon:N.panelExpandIcon,X=O?N.panelExpandIcon:N.panelCollapseIcon,G){R=h.expanded?N.getImage(X):N.getImage(Z);var C=l.$4i(h),r=l.$5i(h);l.$27i(G,R,C,r,"toggle")}},$29i:function(Y){var E,X=this,x=Y.id,l=X.getPanelView(x),D=l.querySelector(".button-independent-switch"),s=N.panelUnLockIcon,n=N.panelLockIcon;if(D){E=Y.independent!==!0?N.getImage(n):N.getImage(s);var K=X.$4i(Y),G=X.$5i(Y);X.$27i(D,E,K,G,"switch")}},$30i:function(d){var e=this,c=d.id,p=e.getPanelView(c),C=p.querySelector(".button-minimize-minimize"),i=N.panelMinimizeIcon;if(C){var S=e.$4i(d),x=e.$5i(d);e.$27i(C,N.getImage(i),S,x,"miminize")}},$31i:function($){var s=this,O=$.id,Z=s.getPanelView(O),n=Z.querySelector(".button-minimize-restore"),x=$.titleIcon||N.panelRestoreIcon;if(n){var H=s.$20i();s.$27i(n,N.getImage(x),H,H,"restore")}},$32i:function(j){var X=this,L=j.id,g=X.getPanelView(L);if(j.buttons){var t=j.buttons;t.forEach(function(F){var U=F.name,C=F.icon;if(U&&C){var H=g.querySelector(".custombutton-"+U);if(H){var p=X.$4i(j),O=X.$5i(j)-1;X.$27i(H,N.getImage(C),p,O,"custom")}}})}},$33i:function(x){var y=this,u=x.id,P=y.getPanelView(u),V=P.querySelector(".panel-title-icon"),z=x.titleIcon;if(V&&z){var h=y.$4i(x),r=y.$5i(x);y.$27i(V,N.getImage(z),h,r,"title")}},validateImpl:function(){var u=this,E=u._config;u.$28i(E),u.$30i(E),u.$31i(E),u.$32i(E),u.$33i(E),E.items&&E.items.forEach(function(k){u.$28i(k),u.$29i(k),u.$32i(k)})}});var g=function(c){var b=this,v=c.getView();b.$34i=c,b.addListeners(),S(v,"dblclick",b.$42i.bind(b))};N.def(g,X,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(T){for(var D=this.$34i,e=T.target,f=D.$35i,J=f.length,u=0;J>u;u++){var Q=f[u];Q.contains(e)&&(T.preventDefault(),D.togglePanel(Q.parentNode.$15i))}},handle_touchstart:function($){var J=this,T=J.$34i,X=T._config,k=X.flowLayout,O=$;if(N.preventDefault($),N.isLeftButton($)){var Z=$.target,B=T.getView().children[0],w=T.getView().querySelector(".button-minimize-restore");x&&(O=M($));var b=J.$40i={x:O.pageX,y:O.pageY};J.$41i={x:b.x,y:b.y},(!k&&B.contains(Z)||w&&w.contains(Z))&&(J.$38i=!0,N.startDragging(J,$)),!k&&J.handle_mousemove($)&&(J.$37i=!0,N.startDragging(J,$),T.$11i())}},handle_mousedown:function(z){this.handle_touchstart(z)},handle_touchend:function(y){var w=this,Z=w.$34i,m=y.target,Q=Z.$35i,Y=Q.length,u=0,e=Z.getView(),k=e.querySelector(".button-minimize"),T=e.querySelector(".button-minimize-restore");if(!w.$39i&&!w.$36i){if(k&&k.contains(m)||T&&T.contains(m))y.preventDefault(),Z._config.minimized?Z.restore():Z.minimize();else for(;Y>u;u++){var L=Q[u],S=L.parentNode,i=S.$15i,B=Z.getPanelConfig(i),h=L.querySelector(".button-toggle"),v=L.querySelector(".button-independent-switch");if(h===m)y.preventDefault(),Z.togglePanel(i);else if(v===m){y.preventDefault();var f="button-independent-switch-off",$="button-independent-switch-on";B.independent=B.independent==D?!0:!B.independent,v[b]=B.independent?v[b].replace(f,$):v[b].replace($,f),Z.$29i(B)}else m[b]&&m[b].indexOf("control-button custombutton-")>=0&&L.contains(m)&&m._action.call(Z,B,Z.getPanelView(i),y)}delete w.$40i,delete w.$41i}},handle_mouseup:function(r){this.handle_touchend(r)},handleWindowTouchEnd:function(){var b=this,h=b.$34i;b.$37i&&b.$36i?(h.$18i.fire({kind:"endResize",target:h,id:h.getView().$15i}),h.$12i()):b.$38i&&b.$39i&&h.$18i.fire({kind:"endMove",target:h,id:h.getView().$15i}),this.clear()},handleWindowMouseUp:function(Z){this.handleWindowTouchEnd(Z)},handle_mousemove:function(u){var c=this,d=c.getView(),t=d.querySelector(".resize-area"),k=t.getBoundingClientRect(),T={x:k.left,y:k.top,width:k.width,height:k.height};u=x?M(u):u;var R=u.clientX,F=u.clientY,o=c.$34i._config;return o.expanded&&o.minimized!==!0&&N.containsPoint(T,{x:R,y:F})?(d.style.cursor="nwse-resize",!0):(d.style.cursor=I,void 0)},handleWindowTouchMove:function(T){T.preventDefault();var h=T;x&&(h=M(T));var L=this,C=L.$40i,y=L.$41i;if(!(y.x==C.x&&y.y==C.y&&N.getDistance(y,{x:h.pageX,y:h.pageY})<=1)){var U=L.$34i,w=L.getView(),Z=w.parentNode,D=U._config,I=D.resizeMode||"wh",o=h.pageX-C.x,e=h.pageY-C.y,z=U.$2i;if(L.$37i){var b=w.children[1].children[0],j=w.offsetWidth,V=b.offsetHeight,X=j+o,S=V+e;X=Math.max(X,100),S=Math.max(S,100),"w"===I?(f(w,i,X+H),D.width=X):"h"===I?(f(b,O,S+H),D.contentHeight=S):"wh"===I&&(f(w,i,X+H),f(b,O,S+H),D.width=X,D.contentHeight=S),z.indexOf("right")>=0&&f(w,u,Y(G(w,u))-(X-j)+H),z.indexOf("Bottom")>=0&&f(w,$,Y(G(w,$))-(S-V)+H),C.x=h.pageX,C.y=h.pageY;var d=D.content;d&&d.isSelfViewEvent&&(d.setX(0),d.setY(0),d.setWidth(D.width-2*(D.borderWidth||0)),d.setHeight(D.contentHeight)),L.$36i?U.$18i.fire({kind:"betweenResize",target:U,id:U.getView().$15i}):(L.$36i=!0,U.$18i.fire({kind:"beginResize",target:U,id:U.getView().$15i}))}else if(L.$38i){var c,p,t,F,n,Q,g,W,A,P,J=w.getBoundingClientRect(),v=J.width,r=J.height,K=B(Z),l=K.width,s=K.height,_=U._dragContainment;"leftTop"===z?(c=Y(G(w,m))||0,t=Y(G(w,q))||0,n=c+o,g=t+e,"parent"===_&&(n+v>l&&(n=l-v),g+r>s&&(g=s-r),0>n&&(n=0),0>g&&(g=0)),A=n-c,P=g-t,U.setPosition(n,g),C.x+=A,C.y+=P):"rightBottom"===z?(p=Y(G(w,u))||0,F=Y(G(w,$))||0,Q=p-o,W=F-e,"parent"===_&&(0>Q&&(Q=0),0>W&&(W=0),Q+v>l&&(Q=l-v),W+r>s&&(W=s-r)),A=Q-p,P=W-F,U.setPosition(Q,W),C.x-=A,C.y-=P):"rightTop"===z?(p=Y(G(w,u))||0,t=Y(G(w,q))||0,Q=p-o,g=t+e,"parent"===_&&(0>Q&&(Q=0),0>g&&(g=0),Q+v>l&&(Q=l-v),g+r>s&&(g=s-r)),A=Q-p,P=g-t,U.setPosition(Q,g),C.x-=A,C.y+=P):"leftBottom"===z&&(c=Y(G(w,m))||0,F=Y(G(w,$))||0,n=c+o,W=F-e,"parent"===_&&(0>n&&(n=0),0>W&&(W=0),n+v>l&&(n=l-v),W+r>s&&(W=s-r)),A=n-c,P=W-F,U.setPosition(n,W),C.x+=A,C.y-=P),L.$39i?U.$18i.fire({kind:"betweenMove",target:U,id:U.getView().$15i}):(L.$39i=!0,U.$18i.fire({kind:"beginMove",target:U,id:U.getView().$15i}))}}},handleWindowMouseMove:function(E){this.handleWindowTouchMove(E)}});var o=U.widget.PanelGroup=function(p){var O=this,I=O._view=h.createView(null,O);I.style.border="1px dashed black",I.style.position="absolute",I.style.background="rgba(120, 120, 120, 0.4)",O.$48i=new U.List,O._tolerance=100,O._config=p||{hGap:0,vGap:0},O.bindHandlePanelMove=O.handlePanelMove.bind(O),O.bindHandlePanelEvent=O.handlePanelEvent.bind(O),O.invalidate()};N.def(o,X,{invalidate:function(){var w=this;w._68I||(w._68I=1,s(function(){w.validate()},50))},validate:function(){if(this._68I){delete this._68I;var p=this.$48i.get(0);if(p){var Q=p.getView().parentNode;Q&&(this.layoutPanels(Q,"leftTop"),this.layoutPanels(Q,"rightTop"),this.layoutPanels(Q,"leftBottom"),this.layoutPanels(Q,"rightBottom"))}}},setLeftTopPanels:function(){var r=this,i=r.$43i,Z=r.$48i;i==D&&(i=r.$43i=new U.List);for(var O=0;O<arguments.length;O++){var R=arguments[O];if("string"==typeof R)i.$49i=R;else{if(R._config.flowLayout)continue;R.setPositionRelativeTo("leftTop"),i.contains(R)||i.add(R),Z.contains(R)||r.add(R)}}},setRightTopPanels:function(){var z=this,w=z.$44i,Z=z.$48i;w==D&&(w=z.$44i=new U.List);for(var h=0;h<arguments.length;h++){var I=arguments[h];if("string"==typeof I)w.$49i=I;else{if(I._config.flowLayout)continue;I.setPositionRelativeTo("rightTop"),w.contains(I)||w.add(I),Z.contains(I)||z.add(I)}}},setLeftBottomPanels:function(){var k=this,G=k.$45i,Z=k.$48i;G==D&&(G=k.$45i=new U.List);for(var t=0;t<arguments.length;t++){var e=arguments[t];if("string"==typeof e)G.$49i=e;else{if(e._config.flowLayout)continue;e.setPositionRelativeTo("leftBottom"),G.contains(e)||G.add(e),Z.contains(e)||k.add(e)}}},setRightBottomPanels:function(){var q=this,Z=q.$46i,_=q.$48i;Z==D&&(Z=q.$46i=new U.List);for(var V=0;V<arguments.length;V++){var y=arguments[V];if("string"==typeof y)Z.$49i=y;else{if(y._config.flowLayout)continue;y.setPositionRelativeTo("rightBottom"),Z.contains(y)||Z.add(y),_.contains(y)||q.add(y)}}},add:function(S){if(!S._config.flowLayout){var _=this,b=_.$48i;b.contains(S)||(S.addEventListener(_.bindHandlePanelMove),S.addEventListener(_.bindHandlePanelEvent),b.add(S))}},remove:function(C){var v=this,N=v.$48i;N.contains(C)&&(C.removeEventListener(v.bindHandlePanelMove),C.removeEventListener(v.bindHandlePanelEvent),N.remove(C),v.$43i.contains(C)&&v.$43i.remove(C),v.$44i.contains(C)&&v.$44i.remove(C),v.$45i.contains(C)&&v.$45i.remove(C),v.$46i.contains(C)&&v.$46i.remove(C))},layoutPanels:function(Q,I,R){var E=this,Z=E._config,g=Z.hGap||0,i=Z.vGap||0;if(Q){var j=E.$43i;if("leftBottom"===I?j=E.$45i:"rightTop"===I?j=E.$44i:"rightBottom"===I&&(j=E.$46i),!j)return;var d=j.$49i,b=g,z=i;if(Q.contains(E._view)&&Q.removeChild(E._view),j&&j.size()>0)for(var s=0;s<j.size();s++){var e=j.get(s),u=e.getView();Q=Q||u.parentNode,R!==s?e.setPosition(b,z):("leftTop"===I?(E._view.style.right="",E._view.style.bottom="",E._view.style.left=b+H,E._view.style.top=z+H):"leftBottom"===I?(E._view.style.right="",E._view.style.top="",E._view.style.left=b+H,E._view.style.bottom=z+H):"rightTop"===I?(E._view.style.left="",E._view.style.bottom="",E._view.style.right=b+H,E._view.style.top=z+H):"rightBottom"===I&&(E._view.style.left="",E._view.style.top="",E._view.style.right=b+H,E._view.style.bottom=z+H),E._view.style.width=u.offsetWidth+H,E._view.style.height=u.offsetHeight+H,Q.insertBefore(E._view,u)),"h"===d?b+=u.offsetWidth+g:"v"===d&&(z+=u.offsetHeight+i)}}},handlePanelEvent:function(g){if("beginToggle"===g.kind||"endToggle"===g.kind||"beginRestore"===g.kind||"endMinimize"===g.kind||"endResize"===g.kind){var x=this,K=g.target,R=K.getView(),w=R.parentNode,a=x.$43i,C=x.$44i,Y=x.$45i,f=x.$46i,q=x._config,S=D,P=D,W=K.$47i;if(W==D&&(W=K.$47i=0),"beginToggle"===g.kind?W=K.$47i=W+1:"endToggle"===g.kind&&(W=K.$47i=W-1),a&&a.contains(K)?(S="leftTop",P=a):Y&&Y.contains(K)?(S="leftBottom",P=Y):C&&C.contains(K)?(S="rightTop",P=C):f&&f.contains(K)&&(S="rightBottom",P=f),"beginToggle"===g.kind&&S&&1===W){var u=v(),G=u.style,O=P.$49i,B="each";G.fontSize="0",G.position="absolute",G.width="100%","leftTop"===S?(G.left=0,G.top=0):"leftBottom"===S?(G.left=0,G.bottom=0,"v"===O&&(B="reverseEach")):"rightTop"===S?(G.right=0,G.top=0,G.textAlign="right","h"===O&&(B="reverseEach")):"rightBottom"===S&&(G.right=0,G.bottom=0,G.textAlign="right",B="reverseEach"),P[B](function($){var J=$.getView(),o=J.style,V=v();o.position="static",V.style.textAlign="left",V.style.position="relative",V.style.display="inline-block","leftTop"===S?(V.style.marginLeft=q.hGap+H,V.style.marginTop=q.vGap+H):"leftBottom"===S?(V.style.marginLeft=q.hGap+H,V.style.marginBottom=q.vGap+H):"rightTop"===S?(V.style.marginRight=q.hGap+H,V.style.marginTop=q.vGap+H):"rightBottom"===S&&(V.style.marginRight=q.hGap+H,V.style.marginBottom=q.vGap+H),V.appendChild(J),u.appendChild(V),"h"===O?V.style.verticalAlign="leftTop"===S||"rightTop"===S?"top":"bottom":u.appendChild(k("br"))}),x.$54i=u,w.appendChild(u)}else"endToggle"===g.kind&&S&&0===W?s(function(){w=w.parentNode.parentNode,w.removeChild(x.$54i),delete x.$54i,P.each(function(p){var l=p.getView(),J=l.style;J.position="absolute",w.appendChild(l)}),x.layoutPanels(w,S)},30):("beginRestore"===g.kind||"endMinimize"===g.kind||"endResize"===g.kind)&&S&&x.layoutPanels(w,S)}},handlePanelMove:function(f){if(!(f.kind.indexOf("Move")<0)){var _=this,d=_._config,t=d.hGap||0,o=d.vGap||0,K=f.target,p=K._view,m=p.getBoundingClientRect(),N=m.width,B=m.height,n=N/2,Z=B/2,H=p.parentNode,h=_.$43i,M=_.$44i,Q=_.$45i,I=_.$46i,s=H.getBoundingClientRect(),G=_._tolerance;if("endMove"===f.kind){var x=_._corner;x&&(K.setPositionRelativeTo(x),_.layoutPanels(H,x)),delete _._corner}if("betweenMove"===f.kind){var A=s.left,k=s.top,F=s.width,V=s.height,c=m.left+N/2,i=m.top+B/2;h==D&&(h=_.$43i=new U.List),Q==D&&(Q=_.$45i=new U.List),M==D&&(M=_.$44i=new U.List),I==D&&(I=_.$46i=new U.List),delete _._corner,h.contains(K)?(h.remove(K),_.layoutPanels(H,"leftTop")):Q.contains(K)?(Q.remove(K),_.layoutPanels(H,"leftBottom")):M.contains(K)?(M.remove(K),_.layoutPanels(H,"rightTop")):I.contains(K)&&(I.remove(K),_.layoutPanels(H,"rightBottom"));var S=function(N,U){var v=A+t,L=k+o;if(0===U.size()){var S=v+n,r=L+Z;"leftBottom"===N?r=k+V-o-Z:"rightTop"===N?S=A+F-t-n:"rightBottom"===N&&(S=A+F-t-n,r=k+V-o-Z);var W=c-S,b=i-r,O=Math.sqrt(W*W+b*b);if(G>O)return _._corner=N,U.add(K),_.layoutPanels(H,N,0),!0}else if(1===U.size()){var Q=U.get(0),M=Q.getView().getBoundingClientRect(),T=M.left+n,J=M.top+Z,q=M.left+M.width+t+n,P=L+Z,g=v+n,u=M.top+M.height+o+Z;"leftBottom"===N?(J=M.top+M.height-Z,P=k+V-o-Z,u=M.top-o-Z):"rightTop"===N?(T=M.left+M.width-n,q=M.left-t-n,g=A+F-t-n):"rightBottom"===N&&(T=M.left+M.width-n,J=M.top+M.height-Z,q=M.left-t-n,P=k+V-o-Z,g=A+F-t-n,u=M.top-o-Z);var E=c-T,y=i-J,X=c-q,z=i-P,w=c-g,x=i-u,R=Y(Math.sqrt(E*E+y*y)),C=Y(Math.sqrt(X*X+z*z)),$=Y(Math.sqrt(w*w+x*x)),I=[R,C,$];I.sort(function(P,C){return P-C});var e=I[0];if(G>e){if(_._corner=N,e===R)return U.add(K,0),_.layoutPanels(H,N,0),!0;if(e===C)return U.add(K),U.$49i="h",_.layoutPanels(H,N,1),!0;if(e===$)return U.add(K),U.$49i="v",_.layoutPanels(H,N,1),!0}}else if(U.size()>1){for(var l=D,B={},j=[],m=U.$49i,s=0;s<U.size();s++){var p=U.get(s),d=p.getView(),f=d.getBoundingClientRect(),a=f.left+n,h=f.top+Z;"leftBottom"===N?h=f.top+f.height-Z:"rightTop"===N?a=f.left+f.width-n:"rightBottom"===N&&(a=f.left+f.width-n,h=f.top+f.height-Z),s===U.size()-1&&(l=f);var W=c-a,b=i-h,O=Y(Math.sqrt(W*W+b*b));B[O]=s,j.push(O)}"leftTop"===N&&"h"===m?(S=l.left+l.width+t+n,r=L+Z):"leftTop"===N&&"v"===m?(S=v+n,r=l.top+l.height+o+Z):"leftBottom"===N&&"h"===m?(S=l.left+l.width+t+n,r=k+V-o-Z):"leftBottom"===N&&"v"===m?(S=v+n,r=l.top-o-Z):"rightTop"===N&&"h"===m?(S=l.left-t-n,r=L+Z):"rightTop"===N&&"v"===m?(S=A+F-t-n,r=l.top+l.height+o+Z):"rightBottom"===N&&"h"===m?(S=l.left-t-n,r=k+V-o-Z):"rightBottom"===N&&"v"===m&&(S=A+F-t-n,r=l.top-o-Z),W=c-S,b=i-r,O=Y(Math.sqrt(W*W+b*b)),B[O]=s,j.push(O),j.sort(function(z,F){return z-F});var e=j[0];if(G>e)return _._corner=N,U.add(K,B[e]),_.layoutPanels(H,N,B[e]),!0}};S("leftTop",h)||S("leftBottom",Q)||S("rightTop",M)||S("rightBottom",I)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);