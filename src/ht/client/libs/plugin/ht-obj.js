!function(k,r,q){"use strict";var P="ht",v=k[P],i=null,m=Math,C=m.abs,S=m.max,R=Number.MAX_VALUE,B=v.Default,$=B.getInternal(),N=B.clone,M=$.vec3TransformMat4,E=$.appendArray,W=function(){var d=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,z=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,K=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,Y=function(w,v){return v=parseInt(v),v>=0?w[v-1]:w[v+w.length]},W=function(t,G,C,m,W,V){if(t.vs){var j=Y(G,m),i=Y(G,W),f=Y(G,V),w=C.matrix,h=t.vs;if(C.flipFace){var o=i;i=f,f=o}w?(E(h,M(N(j),w)),E(h,M(N(i),w)),E(h,M(N(f),w))):(E(h,j),E(h,i),E(h,f))}},x=function(h,M,_,d,k,b){if(h.vs){var N=Y(M,d),Q=Y(M,k),j=Y(M,b),P=_.flipY;if(_.flipFace){var i=Q;Q=j,j=i}h.uv.push(N[0],P?1-N[1]:N[1],Q[0],P?1-Q[1]:Q[1],j[0],P?1-j[1]:j[1])}},T=function(J,x,h,D,w,u){if(J.vs){var g=Y(x,D),d=Y(x,w),G=Y(x,u),X=h.normalMatrix,$=J.ns;if(h.flipFace){var l=d;d=G,G=l}X?(E($,M(N(g),X)),E($,M(N(d),X)),E($,M(N(G),X))):(E($,g),E($,d),E($,G))}},f=function(B,Y,S,i,O,V,J,Q){var U=i&&i.length&&Q;V[3]===q?(W(B,Y,O,V[0],V[1],V[2]),J&&x(B,S,O,J[0],J[1],J[2]),U&&T(B,i,O,Q[0],Q[1],Q[2])):(W(B,Y,O,V[0],V[1],V[3]),W(B,Y,O,V[1],V[2],V[3]),J&&(x(B,S,O,J[0],J[1],J[3]),x(B,S,O,J[1],J[2],J[3])),U&&(T(B,i,O,Q[0],Q[1],Q[3]),T(B,i,O,Q[1],Q[2],Q[3])))},y=function(U,c,n,$){var F,G,s,b,M,d,f,E=R,P=R,D=R,j=-R,Q=-R,u=-R;for(F in U)for(d=U[F].vs,f=d.length,G=0;f>G;G+=3)s=d[G+0],b=d[G+1],M=d[G+2],E>s&&(E=s),P>b&&(P=b),D>M&&(D=M),s>j&&(j=s),b>Q&&(Q=b),M>u&&(u=M);if(n){var w=E+(j-E)/2,z=P+(Q-P)/2,q=D+(u-D)/2;for(F in U)for(d=U[F].vs,f=d.length,G=0;f>G;G+=3)d[G+0]-=w,d[G+1]-=z,d[G+2]-=q}var e,V,r;n?(e=j-E,V=Q-P,r=u-D):(e=2*S(C(E),C(j)),V=2*S(C(P),C(Q)),r=2*S(C(D),C(u))),0===e&&(e=Math.min(V,r)/1e3||.001),0===V&&(V=Math.min(e,r)/1e3||.001),0===r&&(r=Math.min(e,V)/1e3||.001),$.rawS3=[e,V,r];for(F in U){if(d=U[F].vs,c)for(f=d.length,G=0;f>G;G+=3)e&&(d[G+0]/=e),V&&(d[G+1]/=V),r&&(d[G+2]/=r);U[F].rawS3=$.rawS3}};return function(L,g,W){if(!L)return i;($.isString(g)||g instanceof ArrayBuffer)&&(g=F(g)),W||(W={}),W.flipY==i&&(W.flipY=!0),(W.s3||W.r3||W.t3||W.mat)&&(W.matrix=$.createWorldMatrix(W.mat,W.s3,W.r3,W.rotationMode,W.t3));var Y,C,X,c,r,b,o=[],P=[],S=W.ignoreNormal?i:[],J=W.reverseFlipMtls,j={vs:[],uv:[],ns:S?[]:i},E={htdefault:j},G=new h(L);for(S&&W.matrix&&(W.normalMatrix=$.createNormalMatrix(W.matrix));null!=(C=G.stepNext());)if(C=C.trim(),0!==C.length&&"#"!==C.charAt(0))if(C.indexOf("#QNAN0")>=0&&(C=C.replace(/#QNAN0/gi,"0")),X=d.exec(C))o.push([parseFloat(X[1]),parseFloat(X[2]),parseFloat(X[3])]);else if(X=z.exec(C))P.push([parseFloat(X[1]),parseFloat(X[2])]);else if(S&&(X=K.exec(C)))W.flipFace?S.push([parseFloat(-X[1]),parseFloat(-X[2]),parseFloat(-X[3])]):S.push([parseFloat(X[1]),parseFloat(X[2]),parseFloat(X[3])]);else if("f"===C[0]){var H=C.split(/\s+/);if(H.length<4)continue;var e,Y,D,s=[],l=[],t=[];for(Y=1,D=H.length;D>Y;Y++)e=H[Y].split("/"),s.push(parseInt(e[0],10)),e.length>1&&e[1].length>0&&t.push(parseInt(e[1],10)),e.length>2&&e[2].length>0&&l.push(parseInt(e[2],10));for(Y=0,D=s.length-2;D>Y;Y++)f(j,o,P,S,W,[s[0],s[Y+1],s[Y+2]],t.length?[t[0],t[Y+1],t[Y+2]]:i,l.length?[l[0],l[Y+1],l[Y+2]]:i)}else if(/^usemtl /.test(C)&&(c=C.substring(7).trim(),!(j=E[c]))){if(j={name:c,vs:[],uv:[],ns:S?[]:i},W.ignoreMtls&&W.ignoreMtls.indexOf(c)>=0&&delete j.vs,(W.reverseFlip||"*"===J||J&&J.indexOf(c)>=0)&&(j.reverseFlip=!0),g&&(r=g[c],r&&(W.ignoreColor||(j.color=r.kd),!W.ignoreTransparent&&r.d>0&&r.d<1&&(j.transparent=!0,j.opacity=r.d),!W.ignoreImage&&(b=r.map_kd)))){b=b.split(" ");var _=-1;for(Y=0;Y<b.length;Y++)"-o"===b[Y]?(j.uvOffset=[parseFloat(b[Y+1]),parseFloat(b[Y+2])],Y+=3,_=Y):"-s"===b[Y]&&(j.uvScale=[parseFloat(b[Y+1]),parseFloat(b[Y+2])],Y+=3,_=Y);j.image=(W.prefix||"")+b.splice(_+1).join(" ")}E[c]=j}var I=[];for(var u in E){var k=E[u].vs;k&&0!==k.length||I.push(u)}I.forEach(function(X){delete E[X]}),y(E,W.cube,W.center,W);var Q=W.shape3d;if(Q){var R=[];for(var c in E){var j=E[c];R.rawS3=j.rawS3,R.push(j)}B.setShape3dModel(Q,R)}return E}}(),F=function(o){var A={};if(o)for(var i,L,U,c,a,e,z=new h(o),m=/\s+/;null!=(L=z.stepNext());)L=L.trim(),0!==L.length&&"#"!==L.charAt(0)&&(U=L.indexOf(" "),c=(U?L.substring(0,U):L).toLowerCase(),a=(U?L.substring(U+1):"").trim(),"newmtl"===c?A[a]=i={name:a}:i&&("ka"===c||"kd"===c||"ks"===c?(e=a.split(m,3),i[c]=[parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2]),1]):i[c]="ns"===c||"d"===c?parseFloat(a):a));return A},h=function(r){var c=this;if(r instanceof ArrayBuffer){c.isBuffer=!0;var C=0,R=new Uint8Array(r),K=R.length,E=R.length;c.stepNext=function(){for(var L,k,Q=C;K>C;)if(L=R[C],k=L>>4,12===k||13==k)C+=2;else if(14===k)C+=3;else if(C++,10===L)return String.fromCharCode.apply(null,R.subarray(Q,C));return C>Q?String.fromCharCode.apply(null,R.subarray(Q,C)):null}}else{c.isBuffer=!1;var G=r.split("\n"),h=0,E=G.length;c.stepNext=function(){return E>h?G[h++]:null}}};h.prototype={},h.prototype.constructor=h,$.addMethod(B,{loadObj:function(A,u,v){v=v||{};var V=!1;/(MSIE |Trident\/|Edge\/)/.test(k.navigator.userAgent)&&(V=!0);var m=function(x){var u,p=v.finishFunc,K=v.shape3d,l=x?W(x[0],x[1],v):null;if(l){if(K)u=B.getShape3dModel(K);else{u=[];for(var y in l){var z=l[y];u.rawS3=z.rawS3,u.push(z)}}p&&p(l,u,u.rawS3)}else p&&p(null)};if(V){var Y=function(S){v.responseType="arraybuffer",B.xhrLoad(A,function(j){m([j,S])},v)};u?B.xhrLoad(u,function(L){Y(L)},v):Y()}else B.xhrLoad(u?[A,u]:[A],m,v)},parseObj:function(M,L,V){return W(M,L,V)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);